(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{1009:function(e,t,a){},1010:function(e,t,a){},1011:function(e,t,a){},1012:function(e,t,a){},1013:function(e,t,a){},1024:function(e,t,a){},1025:function(e,t,a){},1026:function(e,t,a){},1027:function(e,t,a){},1028:function(e,t,a){},1029:function(e,t,a){},1030:function(e,t,a){},1031:function(e,t,a){},1032:function(e,t,a){},1033:function(e,t,a){},1038:function(e,t,a){},1039:function(e,t,a){},1040:function(e,t,a){},1041:function(e,t,a){},1042:function(e,t,a){},1043:function(e,t,a){},1044:function(e,t,a){},1045:function(e,t,a){},1046:function(e,t){},1052:function(e,t,a){"use strict";a.r(t);a(371),a(380),a(381),a(492),a(494),a(495),a(496),a(498),a(499),a(501),a(502),a(503),a(504),a(505),a(507),a(508),a(509),a(510),a(511),a(512),a(513),a(514),a(515),a(286),a(517),a(674),a(528),a(721),a(878);var n=a(0),o=a.n(n),r=a(33),l=a.n(r),i=a(4),c=a(5),s=a(7),u=a(6),d=(a(255),a(883),a(650)),m=a(75),h=a(40),g=a.n(h),p=a(10),f=a(18),v=a.n(f),C=a(22),w=a.n(C),_="http://10.221.14.8:8000",D=!1,b=new(function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,[{key:"createCookie",value:function(e,t,a){var n;if(a){var o=new Date;o.setTime(o.getTime()+24*a*60*60*1e3),n="; expires="+o.toGMTString()}else n="";document.cookie=e+"="+t+n+"; path=/"}},{key:"getCookie",value:function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!==t){t=t+e.length+1;var a=document.cookie.indexOf(";",t);return-1===a&&(a=document.cookie.length),unescape(document.cookie.substring(t,a))}}return""}},{key:"deleteCookie",value:function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var a=e[t],n=a.indexOf("="),o=n>-1?a.substr(0,n):a;document.cookie=o+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}localStorage.clear()}}]),e}()),S=a(23),y=a.n(S),N={},T=_,A=function(){return{headers:{Authorization:b.getCookie("Authorization")}}};N.getDefaultHeaders=A,N.sendEvent=function(e){var t=A();return new Promise((function(a,n){v.a.post("".concat(T,"/auditLogs/logs"),e,t).then((function(e){a(e)})).catch((function(e){N.handleError(e),n(e)}))}))},N.sendEventWithHeader=function(e,t){return new Promise((function(a,n){v.a.post("".concat(T,"/auditLogs/logs"),e,{headers:{Authorization:t}}).then((function(e){a(e)})).catch((function(e){N.handleError(e),n(e)}))}))},N.handleError=function(e,t){e&&e.response?403===e.response.status&&N.showAuthFail():e.config&&e.config.url&&y.a.fire({title:"Error!",text:"Network error, please try again!",icon:"error",confirmButtonText:"Ok"}).then((function(){window.location.href="/"}))},N.showAuthFail=function(){y.a.fire({title:"Error!",text:"Authorization failed! (Your token has been expired. Please login again)",icon:"error",confirmButtonText:"Ok"}).then((function(){window.location.href="/"}))};var R=N,V={},Y=_;V.showLoader=function(){w()("#loaderImage").addClass("loader-visible")},V.hideLoader=function(){w()("#loaderImage").removeClass("loader-visible"),w()(".x_panel").addClass("opacity-fade"),w()(".top-buttons").addClass("opacity-fade")};var E=function(){return{headers:{Authorization:b.getCookie("Authorization")}}};V.getDefaultHeaders=E,V.logout=function(){window.location="/",b.deleteCookie()},V.get=function(e,t){t||V.showLoader();var a=b.getCookie("Authorization");return new Promise((function(t,n){v.a.get("".concat(Y,"/").concat(e),{headers:{Authorization:a}}).then((function(e){V.hideLoader(),t(e)})).catch((function(e){V.hideLoader(),n(e),V.handleError(e,n)}))}))},V.post=function(e,t,a){a||V.showLoader();var n=E();return new Promise((function(a,o){v.a.post("".concat(Y,"/").concat(e),t,n).then((function(e){V.hideLoader(),a(e)})).catch((function(e){V.hideLoader(),o(e),V.handleError(e,o)}))}))},V.put=function(e,t,a){a||V.showLoader();var n=E();return new Promise((function(a,o){v.a.put("".concat(Y,"/").concat(e),t,n).then((function(e){V.hideLoader(),a(e)})).catch((function(e){V.hideLoader(),o(e),V.handleError(e,o)}))}))},V.delete=function(e,t){V.showLoader();var a=E();return new Promise((function(t,n){v.a.delete("".concat(Y,"/").concat(e),a).then((function(e){V.hideLoader(),t(e)})).catch((function(e){V.hideLoader(),n(e),V.handleError(e,n)}))}))},V.handleError=function(e,t){e&&e.response?403===e.response.status&&V.showAuthFail():y.a.fire({title:"Error!",text:"something went wrong, please try again!",icon:"error",confirmButtonText:"Ok"}).then((function(){V.logout()}))},V.showAuthFail=function(){y.a.fire({title:"Error!",text:"Authorization failed!",icon:"error",confirmButtonText:"Ok"}).then((function(){V.logout()}))},V.LoadPopup=function(e){document.getElementById(e).classList.add("show")},V.HidePopup=function(e){document.getElementById(e).classList.remove("show")};var L=V,k=a(41),B=a(53),I=a(15),O={NO_DATA_TO_SHOW:"No Data to show",columnName:{MONTH:"Month",BOOKINGS:"Bookings",TKT:"TKT(%)",PASSENGER_OD:"Passenger-(Sector)",PASSENGER_OD_RPS:"Passenger-(O&D)",FORECAST_ACT:"FRCT/Act",AVERAGE_FARE_$:"Average Fare($)",TICKETED_AVERAGE_FARE:"Ticketed Average Fare(SR)",RBD:"RBD",REVENUE_$:"Revenue($)",OD:"OD",MIDT_BOOKED_PASSENGER:"MS Booked Passenger",MIDT_AIRLINES_BOOKED_PASSENGER:"MS Airlines Booked Passenger",CY:"CY",LY:"LY",VLY:"VLY(%)",YTD:"YTD",O_AND_D_PASSENGER_FORECAST:"OD Passenger",Forecast:"Forecast",TGT:"TGT",VTG:"VTG(%)",REVENUE:"Revenue",AL_MARKET_SHARE:"AL Market Share(%)",TOP_COMPETITOR:"TOP Competitor %",CY_ABS:"CY(ABS)",AIRLINE:"Airline",NAME:"Name",CABIN:"Cabin",CX:"CX",AL:"AL",MIDT_BOOKINGS:"MS Bookings",MIDT_CY_BOOKINGS:"MS CY Bookings",MIDT_LY_BOOKINGS:"MS LY Bookings",MIDT_BOOKINGS_VLY:"MS Bookings VLY(%)",CY_MS:"CY MS",LY_MS:"LY MS",MARKET_SHARE:"Market Share(%)",AIRLINE_RANK:"Airline Rank",AGENT_NAME:"Agent Name",CY_PERCENTAGE:"CY(%)",YOY_PERCENTAGE:"YOY(%)",AL_PERCENTAGE:"AL(%)",YOY_PTS:"YOY(%)",CHANNEL:"Channel",SA_SHARE:"SA share",SA_PERCENTAGE:"SA(%)",PASSENGER:"Passenger",FORECAST:"Forecast",AGENTS:"Agents",RASK_DOLLAR:"RASK($)",ASK:"ASK",YIELD:"Yield",LOAD_FACTOR:"Load Factor",HUB:"Hub",AGENCY:"Agency",ANCIALLARY_ITEMS:"Ancillary",REGION:"Region",COUNTRY:"Country",AVAIL:"Avail",LOWEST_RBD:"Lowest RBD",DOH_LHR:"DOH-LHR",LHR_DOH:"LHR-DOH",POS:"POS",COMMON_OD:"Common OD",COMPARTMENT:"Compartment",FLIGHT:"Flight",TARGET:"Target",ACTUAL:"Actual",ERROR_PERCENT:"Error(%)",ACCURACY:"Accuracy(%)",RO:"RO",SALES:"Sales",FIT:"FIT",GIT:"GIT",SHARE:"Share",FARE_SHARE:"Fare Share",TOP_AL_SHARE:"Top AL/Share",BUDGET:"BGT",ROUTE:"Route",REVENUE_RECEIVED:"Revenue Received",REVENUE_GIVEN:"Revenue Given",YQ_RETAINED:"YQ Retained",PAX_SECTOR:"Pax (Sector)",COMMISION_RECEIVED:"Commision Received",COMMISION_GIVEN:"Commision Given",MH_AVG_FARE:"MH Avg Fare",PARTNERSHIP_AVG_FARE:"Partnership Avg Fare"}},P=a(210),M=function(e){var t=null!==e&&void 0!==e?"string"===typeof e?e:e.join(","):"";return t="'"===t.charAt(0)&&"'"===t.charAt(t.length-1)?t.substring(1,t.length-1):t},F=function(e){var t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),[n,t,a].join("-")},G=function(e){var t=e.rps_config;return{userDetails:e,accessLevelPOS:parseInt(t.rpslevel),isPOSNetworkAdmin:"4"===t.rpslevel,isPOSRegionAdmin:"3"===t.rpslevel,isPOSCountryAdmin:"2"===t.rpslevel,isPOSAdmin:"1"===t.rpslevel,canEditRPS:"TRUE"===t.canEdit,canApproveRPS:"TRUE"===t.canApprove,canRejectRPS:"TRUE"===t.canReject}},x=function(e,t,a,n){var o={event_id:"".concat(e),description:"User ".concat(t),where_path:"/".concat(a),page_name:"".concat(n)};R.sendEvent(o)},j=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},W=function(e){return/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d@$!%*#?&]{8,}$/.test(e)},Z=function(e){var t=/(\d+(?:\.\d+)?)/;return t.test(e)},H=M,U=function(e){return null!==e&&void 0!==e?"string"===typeof e?encodeURIComponent(e):"'".concat(encodeURIComponent(e.join("','")),"'"):""},J=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null},K=function(e,t){var a=e.map((function(e){var t=Object.assign({},e);return t.DataType="Actuals",t})),n=a.filter((function(e){return"CY"===e.Category})),o=a.filter((function(e){return"LY"===e.Category}));return n=n.filter((function(e,a){var o="+0";if(a){if("abs"===t)o=(o=(o=n[a].value-n[a-1].value)>0?window.positiveDeltaFormat(o):window.negativeDeltaFormat(o)).toString().includes("-")?o.toString():"+".concat(o.toString());else if(0!==n[a].value&&0!==n[a-1].value){var r=n[a].value-n[a-1].value;o=(o=window.numberFormat(r/n[a].value*100)).toString().includes("-")?"".concat(o.toString(),"%"):"+".concat(o.toString(),"%")}e.delta=o}else e.delta=o;return e})),o=o.filter((function(e,a){var n="+0";if(a){if("abs"===t)n=(n=(n=o[a].value-o[a-1].value)>0?window.positiveDeltaFormat(n):window.negativeDeltaFormat(n)).toString().includes("-")?n.toString():"+".concat(n.toString());else if(0!==o[a].value&&0!==o[a-1].value){var r=o[a].value-o[a-1].value;n=(n=window.numberFormat(r/o[a].value*100)).toString().includes("-")?"".concat(n.toString(),"%"):"+".concat(n.toString(),"%")}e.delta=n}else e.delta=n;return e})),[].concat(Object(I.a)(n),Object(I.a)(o))},z=function(e,t){var a=e.map((function(e){var t=Object.assign({},e);return t.DataType="Actuals",t}));return a=a.filter((function(e,a){var n=null,o=null;return"actual"===t&&(n=(n=(n=e.delta_absolute)>0?window.positiveDeltaFormat(n):window.negativeDeltaFormat(n)).toString().includes("-")?n.toString():"+".concat(n.toString()),e.delta_absolute=n,o=(o=(o=e.delta_percent)>0?window.positiveDeltaFormat(o):window.negativeDeltaFormat(o)).toString().includes("-")?"".concat(o.toString(),"%"):"+".concat(o.toString(),"%"),e.delta_percent=o),e}))},q=function(e){var t=e.toString();return"0"===t||"string"!==typeof t?"":t.includes("B")||t.includes("M")||t.includes("K")?"fa fa-arrow-up":"number"===typeof(t=parseFloat(t))?t>0?"fa fa-arrow-up":"fa fa-arrow-down":void 0},X=function(e){var t=e.toString();return"0"===t||"string"!==typeof t?"":t.includes("B")||t.includes("M")||t.includes("K")?"fa cost-up fa-arrow-up":"number"===typeof(t=parseFloat(t))?t>0?"fa cost-up fa-arrow-up":"fa cost-down fa-arrow-down":void 0},Q=function(e){var t=0;return e.map((function(e,a){return 0===e.value?t+=1:null})),t===e.length},$=F,ee=function(e){var t=e.split("#"),a="Network";return void 0!==t[1]&&"*"!==t[1]&&(a=M(t[1])),void 0!==t[2]&&"*"!==t[2]&&(a="".concat(a," > ").concat(M(t[2]))),void 0!==t[3]&&"*"!==t[3]&&(a="".concat(a," > ").concat(M(t[3]))),a},te=function(e){var t=null!==e?e:{},a="Network";return Object.keys(t).length>0&&(t.hasOwnProperty("selectedRouteGroup")&&(a="".concat(t.selectedRouteGroup.join(","))),t.hasOwnProperty("selectedRouteRegion")&&(a="".concat(a," > ").concat(t.selectedRouteRegion.join(","))),t.hasOwnProperty("selectedRouteCountry")&&(a="".concat(a," > ").concat(t.selectedRouteCountry.join(","))),t.hasOwnProperty("selectedRoute")&&(a="".concat(a," > ").concat(t.selectedRoute.join(",")))),a},ae=function(){var e="",t=window.localStorage.getItem("RegionSelected"),a=window.localStorage.getItem("CountrySelected"),n=window.localStorage.getItem("CitySelected"),o=window.localStorage.getItem("ODSelected");return null!==t&&"Null"!==t&&(t=JSON.parse(t),e="?Region=".concat(M(t))),null!==a&&"Null"!==a&&(a=JSON.parse(a),e="?Region=".concat(M(t),"&Country=").concat(M(a))),null!==n&&"Null"!==n&&(n=JSON.parse(n),e="?Region=".concat(M(t),"&Country=").concat(M(a),"&POS=").concat(M(n))),null!==o&&"Null"!==o&&""!==o&&(e="?Region=".concat(M(t),"&Country=").concat(M(a),"&POS=").concat(M(n),"&").concat(encodeURIComponent("O&D"),"=").concat(M(o))),e},ne=function(){var e=window.localStorage.getItem("RouteGroupSelected");e=null!==e?JSON.parse(e).join(","):"Network";var t=window.localStorage.getItem("RouteRegionSelected"),a=window.localStorage.getItem("RouteCountrySelected"),n=window.localStorage.getItem("RouteSelected"),o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected"),l="?RouteGroup=".concat(e);return null!==t&&"Null"!==t&&(t=JSON.parse(t),l="?RouteGroup=".concat(e,"&Region=").concat(M(t))),null!==a&&"Null"!==a&&(a=JSON.parse(a),l="?RouteGroup=".concat(e,"&Region=").concat(M(t),"&Country=").concat(M(a))),null!==n&&"Null"!==n&&(n=JSON.parse(n),l="?RouteGroup=".concat(e,"&Region=").concat(M(t),"&Country=").concat(M(a),"&Route=").concat(M(n))),null!==o&&"Null"!==o&&""!==o&&(l="?RouteGroup=".concat(e,"&Region=").concat(M(t),"&Country=").concat(M(a),"&Route=").concat(M(n),"&Leg=").concat(M(o))),null!==r&&"Null"!==r&&""!==r&&(l="?RouteGroup=".concat(e,"&Region=").concat(M(t),"&Country=").concat(M(a),"&Route=").concat(M(n),"&Leg=").concat(M(o),"&Flight=").concat(M(r))),l},oe=function(e,t,a){var n="network";return e&&"*"!==e&&(n="region"),t&&"*"!==t&&(n="country"),a&&"*"!==a&&(n="pos"),n},re=function(e){return e?e.split("-"):""},le=function(e){return"".concat(window.shortMonthNumToName(e.getMonth()+1)," ").concat(e.getDate(),", ").concat(e.getFullYear())},ie=function(e){return e%2!==0},ce=function(e){var t=new Date(Object(P.a)(new Date,5)).getMonth()+1,a=new Date(Object(P.a)(new Date,5)).getFullYear();return e.filter((function(e){var n=window.monthNameToNum(e.MonthName),o=parseInt(e.Year);return(o<a||o===a&&n<=t)&&(e.Month.includes("\u25bc")?e.Month="\u25ba ".concat(e.Month.substring(2,e.Month.length)):e.Month.includes("\u25ba")||(e.Month="\u25ba ".concat(e.Month))),e.highlightMonth=!1,e}))},se=function(e){return e.forEach((function(e){e.Month.includes("\u25bc")?e.Month="\u25ba ".concat(e.Month.substring(2,e.Month.length)):e.Month.includes("\u25ba")||(e.Month="\u25ba ".concat(e.Month)),e.highlightMonth=!1})),e},ue=function(e){return e.filter((function(e){return e.firstColumnName=String(e.firstColumnName),e.firstColumnName.includes("\u25bc")?e.firstColumnName="\u25ba ".concat(e.firstColumnName.substring(2,e.firstColumnName.length)):e.firstColumnName.includes("\u25ba")||(e.firstColumnName="\u25ba ".concat(e.firstColumnName)),e.highlightMonth=!1,e}))},de=function(e,t){return{startDate:F(new Date(t,e-1,1)),endDate:F(new Date(t,e-1+1,0))}},me=function(e){var t=e?e.split("-"):null,a=e;return e&&2!==t[1].toString().length&&(a="".concat(t[0],"-0").concat(t[1],"-").concat(t[2])),a},he=_,ge=(new Date).getFullYear(),pe=(new Date).getMonth()+1,fe=function(e,t,a,n,o){return"startdate=".concat(e,"&enddate=").concat(t,"&regionId=").concat(U(a),"&countryId=").concat(U(n),"&cityId=").concat(U(o))},ve=function(e,t,a,n,o){return"startdate=".concat(e,"&enddate=").concat(t,"&selectedRouteRegion=").concat(U(a),"&selectedRouteCountry=").concat(U(n),"&selectedRoute=").concat(U(o))},Ce=function(e,t,a,n){var o="string"===typeof a?"Null"===a?a:"".concat(decodeURIComponent(a)):"'".concat(decodeURIComponent(a.join("','")),"'"),r="string"===typeof n?"*"===n?n:"".concat(n):"'".concat(n.join("','"),"'");return"startdate=".concat(e,"&enddate=").concat(t,"&regionId=").concat(U(o),"&countryId=").concat(U(r))},we=function(e,t,a,n){var o=void 0!==n?"string"===typeof n?n:"'".concat(encodeURIComponent(n.join("','")),"'"):"Null";return"regionId=".concat(U(e),"&countryId=").concat(U(t),"&cityId=").concat(U(a),"&getCabinValue=").concat(o)},_e=function(e,t,a,n){var o="string"===typeof e?"*"===e?e:"".concat(encodeURIComponent(e)):"'".concat(encodeURIComponent(e.join("','")),"'"),r="string"===typeof t?"*"===t?t:"".concat(t):"'".concat(t.join("','"),"'"),l="string"===typeof a?"*"===a?a:"".concat(a):"'".concat(a.join("','"),"'"),i="string"===typeof n?n:"'".concat(encodeURIComponent(n.join("','")),"'");return"regionId=".concat(o,"&countryId=").concat(r,"&cityId=").concat(l,"&getCabinValue=").concat(i)},De=function(e,t,a){var n="string"===typeof e?"*"===e?e:"".concat(encodeURIComponent(e)):"'".concat(encodeURIComponent(e.join("','")),"'"),o="string"===typeof t?"*"===t?t:"".concat(encodeURIComponent(t)):"'".concat(encodeURIComponent(t.join("','")),"'"),r="string"===typeof a?a:"'".concat(encodeURIComponent(a.join("','")),"'");return"regionId=".concat(n,"&countryId=").concat(o,"&getCabinValue=").concat(r)},be=function(e,t,a,n,o,r,l,i,c){var s="string"===typeof e?"*"===e?e:"".concat(encodeURIComponent(e)):"'".concat(encodeURIComponent(e.join("','")),"'"),u="string"===typeof t?"*"===t?t:"".concat(t):"'".concat(t.join("','"),"'"),d="string"===typeof a?"*"===a?a:"".concat(a):"'".concat(a.join("','"),"'"),m="string"===typeof n?"*"===n?n:"".concat(n):"'".concat(n.join("','"),"'"),h="string"===typeof o?"*"===o?o:"".concat(o):"'".concat(o.join("','"),"'"),g="string"===typeof r?"*"===r?r:"".concat(encodeURIComponent(r)):"'".concat(encodeURIComponent(r.join("','")),"'"),p="string"===typeof l?"*"===l?l:"".concat(encodeURIComponent(l)):"'".concat(encodeURIComponent(l.join("','")),"'"),f="string"===typeof i?"*"===i?i:"".concat(i):"'".concat(i.join("','"),"'"),v="string"===typeof c?c:"'".concat(encodeURIComponent(c.join("','")),"'");return"regionId=".concat(s,"&countryId=").concat(u,"&serviceGroupId=").concat(d,"&promoTypeId=").concat(m,"&promotionTitleId=").concat(h,"&agencyGroupId=").concat(g,"&agentsId=").concat(p,"&commonOD=").concat(f,"&getCabinValue=").concat(v)},Se=function(e,t,a,n){var o="string"===typeof e?"*"===e?e:"".concat(encodeURIComponent(e)):"'".concat(encodeURIComponent(e.join("','")),"'"),r="string"===typeof t?"*"===t?t:"".concat(t):"'".concat(t.join("','"),"'"),l="string"===typeof a?"*"===a?a:"".concat(a):"'".concat(a.join("','"),"'"),i="string"===typeof n?n:"'".concat(encodeURIComponent(n.join("','")),"'");return"selectedRouteRegion=".concat(o,"&selectedRouteCountry=").concat(r,"&selectedRoute=").concat(l,"&getCabinValue=").concat(i)},ye=function(e,t,a,n,o,r){var l="string"===typeof t?"*"===t?t:"".concat(encodeURIComponent(t)):"'".concat(encodeURIComponent(t.join("','")),"'"),i="string"===typeof a?"*"===a?a:"".concat(a):"'".concat(a.join("','"),"'"),c="string"===typeof n?"*"===n?n:"".concat(n):"'".concat(n.join("','"),"'"),s="string"===typeof o?"*"===o?o:"".concat(o):"'".concat(o.join("','"),"'"),u="string"===typeof r?r:"'".concat(encodeURIComponent(r.join("','")),"'");return"selectedRouteGroup=Network&selectedRegion=".concat(l,"&selectedCountry=").concat(i,"&selectedCity=").concat(c,"&selectedRoute=").concat(s,"&getCabinValue=").concat(u)},Ne=function(e,t,a,n,o,r){var l="string"===typeof t?"*"===t?t:"".concat(encodeURIComponent(t)):"'".concat(encodeURIComponent(t.join("','")),"'"),i="string"===typeof a?"*"===a?a:"".concat(encodeURIComponent(a)):"'".concat(encodeURIComponent(a.join("','")),"'"),c="string"===typeof n?"*"===n?n:"".concat(encodeURIComponent(n)):"'".concat(encodeURIComponent(n.join("','")),"'"),s="string"===typeof o?"*"===o?o:"".concat(encodeURIComponent(o)):"'".concat(encodeURIComponent(o.join("','")),"'");console.log("Route",o,s);var u="string"===typeof r?r:"'".concat(encodeURIComponent(r.join("','")),"'");return"selectedRouteGroup=Network&selectedRegion=".concat(l,"&selectedCountry=").concat(i,"&selectedCity=").concat(c,"&selectedRoute=").concat(s,"&getCabinValue=").concat(u)},Te=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).Params=function(e,t,a,n){var o="string"===typeof e?"*"===e?e:"".concat(encodeURIComponent(e)):"'".concat(encodeURIComponent(e.join("','")),"'"),r="string"===typeof t?"*"===t?t:"".concat(t):"'".concat(t.join("','"),"'"),l="string"===typeof a?"*"===a?a:"".concat(a):"'".concat(a.join("','"),"'"),i="string"===typeof n?n:"'".concat(encodeURIComponent(n.join("','")),"'");return"regionId=".concat(o,"&countryId=").concat(r,"&cityId=").concat(l,"&getCabinValue=").concat(i)},n.getDefaultHeader=function(){return{headers:{Authorization:b.getCookie("Authorization")}}},n.errorHandling=function(e){console.log("error::::::",e,e.response),e&&e.response&&(500===e.response.status?y.a.fire({title:"Error!",text:"Something went wrong. Please try after some time",icon:"error",confirmButtonText:"Ok"}):403===e.response.status&&y.a.fire({title:"Error!",text:"Authorization failed! (Your token has been expired. Please login again)",icon:"error",confirmButtonText:"Ok"}).then((function(){window.location="/"})))},n.statusArrowIndicator=function(e){var t=document.createElement("span"),a=document.createElement("i"),n=e.value;return a.className="Above"===n?"fa fa-arrow-up":"Below"===n?"fa fa-arrow-down":"",t.appendChild(document.createTextNode(n)),t.appendChild(a),t},n.arrowIndicator=function(e){var t=document.createElement("span"),a=document.createElement("i"),n=e.value?e.value:"0",o=parseFloat(n);return"---"===n?a.className="":"string"===typeof n&&(n.includes("B")||n.includes("M")||n.includes("K"))?a.className="fa fa-arrow-up":a.className=o>0?"fa fa-arrow-up":o<0?"fa fa-arrow-down":"",t.appendChild(document.createTextNode(n)),t.appendChild(a),t},n.costArrowIndicator=function(e){var t=document.createElement("span"),a=document.createElement("i"),n=e.value?e.value:"0",o=parseFloat(n);return"---"===n?a.className="":"string"===typeof n&&(n.includes("B")||n.includes("M")||n.includes("K"))?a.className="fa cost-up fa-arrow-up":a.className=o>0?"fa cost-up fa-arrow-up":o<0?"fa cost-down fa-arrow-down":"",t.appendChild(document.createTextNode(n)),t.appendChild(a),t},n.accuracyArrowIndicator=function(e){var t=document.createElement("span"),a=document.createElement("i"),n=e.value?e.value:"0",o=parseFloat(n);return a.className=0===o?"":o>=86&&o<=100?"fa fa-arrow-up":o<=86||o>=100?"fa fa-arrow-down":"",t.appendChild(document.createTextNode(n)),t.appendChild(a),t},n.customSorting=function(e,t){return window.convertNumberFormat(e)-window.convertNumberFormat(t)},n.numberSorting=function(e,t){return e-t},n.state={alertVisible:!1},n}return Object(c.a)(a,[{key:"barsIndicator",value:function(){var e=document.createElement("span"),t=document.createElement("i");return t.className="fa fa-bar-chart-o",e.appendChild(t),e}},{key:"convertZeroValueToBlank",value:function(e){return 0===window.numberFormat(e)?"0":window.numberFormat(e)}},{key:"topperFixed",value:function(e){return"0.00"===window.numberFormat(e,2)?"---":window.numberFormat(e,2)}},{key:"showPercent",value:function(e){return null===e||0===e?"":"%"}},{key:"getUserPreferences",value:function(e,t,a){var n=this,o=b.getCookie("userDetails");return o=o?JSON.parse(o):"",L.get("userpreferences","hideloader").then((function(r){if(r&&r.data.response.length>0){var l=r.data.response[0];if(l[e]!==t){n.updateUserPreferences(e,t,o);var i=l[e]?l[e]:0;return!a||t-i}return!!a&&0}return n.postUserPreferences(e,t,o),!a||1})).catch((function(e){console.log("user preferences error",e)}))}},{key:"postUserPreferences",value:function(e,t,a){var n=Object(p.a)({user_email:a.email},e,t);L.post("userpreferences",n,"hideloader").then((function(e){console.log("user preferences response",e)})).catch((function(e){console.log("user preferences error",e)}))}},{key:"updateUserPreferences",value:function(e,t,a){var n=Object(p.a)({user_email:a.email},e,t);L.put("userpreferences",n,"hideloader").then((function(e){console.log("user preferences response",e)})).catch((function(e){console.log("user preferences error",e)}))}},{key:"getMonthsRange",value:function(){var e="".concat(he,"/getmonthrange");return v.a.get(e).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"getRegions",value:function(){this.getDefaultHeader();var e="".concat(he,"/getRegion");return v.a.get(e).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"getCountries",value:function(e){var t="string"===typeof e?e:"'".concat(encodeURIComponent(e.join("','")),"'"),a="".concat(he,"/getCountryByRegionId?regionId=").concat(t);return v.a.get(a).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"getCities",value:function(e,t){var a="string"===typeof t?t:"'".concat(t.join("','"),"'"),n="string"===typeof e?e:"'".concat(e.join("','"),"'"),o="".concat(he,"/getCityByCountryCode?regionId=").concat(n,"&countryCode=").concat(a);return v.a.get(o).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"getODs",value:function(e,t,a,n){var o="string"===typeof t?t:"'".concat(t.join("','"),"'"),r="string"===typeof e?e:"'".concat(e.join("','"),"'"),l="string"===typeof a?a:"'".concat(a.join("','"),"'"),i="".concat(he,"/getCommonODByCity?regionId=").concat(r,"&countryCode=").concat(o,"&cityCode=").concat(l,"&searchOD=").concat(n);return v.a.get(i).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"getIndicatorsData",value:function(e,t,a,n,o,r,l,i){var c=this.getDefaultHeader(),s="",u=null;"Pos"===i?(s="posytd",u=fe(e,t,n,o,r)):"Route"===i||"Route Revenue Planning"===i?(s="routeytd",u="selectedRouteGroup=".concat(a,"&").concat(ve(e,t,n,o,l))):"Route Profitability"===i?(s="rpmtd",u="selectedRouteGroup=".concat(a,"&").concat(ve(e,t,n,o,l))):"Demography"===i&&(s="demographicYTD",u=Ce(e,t,n,o));var d="".concat(he,"/").concat(s,"?").concat(u);return v.a.get(d,c).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getAnciallaryItems",value:function(e,t,a,n,o,r,l,i){var c=this,s=this,u=i?"posancillarytable":"routeancillarytable",d=i?fe(e,t,n,o,r):"selectedRouteGroup=".concat(a,"&").concat(ve(e,t,n,o,l)),m="".concat(he,"/").concat(u,"?").concat(d);return v.a.get(m,this.getDefaultHeader()).then((function(e){var t=[{headerName:O.columnName.ANCIALLARY_ITEMS,headerTooltip:"Anciallary",field:"Anciallary",tooltipField:"Anciallary",width:300,alignLeft:!0},{headerName:O.columnName.CY,headerTooltip:"CY",field:"CY",tooltipField:"CY_AB",sortable:!0,comparator:s.customSorting,sort:"desc"},{headerName:O.columnName.LY,headerTooltip:"LY",field:"LY",tooltipField:"LY_AB",sortable:!0,comparator:s.customSorting},{headerName:O.columnName.VLY,headerTooltip:"VLY(%)",field:"VLY",tooltipField:"VLY_AB",cellRenderer:function(e){return c.arrowIndicator(e)},width:250,sortable:!0,comparator:c.customSorting},{headerName:O.columnName.VTG,headerTooltip:"VTG(%)",field:"VTG",tooltipField:"VTG_AB",cellRenderer:function(e){return c.arrowIndicator(e)},width:250,sortable:!0,comparator:c.customSorting}],a=[];e.data.response[0].TableData.forEach((function(e){a.push({Anciallary:e.AncillaryName,AnciallaryCodeName:e.AncillaryCode,CY:s.convertZeroValueToBlank(e.Ancillary_CY),LY:s.convertZeroValueToBlank(e.Ancillary_LY),VLY:s.convertZeroValueToBlank(e.Ancillary_VLY),VTG:s.convertZeroValueToBlank(e.Ancillary_VTG),CY_AB:window.numberWithCommas(e.Ancillary_CY),LY_AB:window.numberWithCommas(e.Ancillary_LY),VLY_AB:window.numberWithCommas(e.Ancillary_VLY),VTG_AB:window.numberWithCommas(e.Ancillary_VTG)})}));var n=[];return e.data.response[0].Total.forEach((function(e){n.push({Anciallary:"Total",AnciallaryCodeName:e.AncillaryCode,CY:s.convertZeroValueToBlank(e.Ancillary_CY),LY:s.convertZeroValueToBlank(e.Ancillary_LY),VLY:s.convertZeroValueToBlank(e.Ancillary_VLY),VTG:s.convertZeroValueToBlank(e.Ancillary_VTG),CY_AB:window.numberWithCommas(e.Ancillary_CY),LY_AB:window.numberWithCommas(e.Ancillary_LY),VLY_AB:window.numberWithCommas(e.Ancillary_VLY),VTG_AB:window.numberWithCommas(e.Ancillary_VTG)})})),[{columnName:t,ancillaryDetails:a,totalData:n}]})).catch((function(e){console.log(e)}))}},{key:"getCabinBudget",value:function(e,t,a,n,o,r,l,i){var c=this,s=this,u=i?"posancillarytable":"routeancillarytable",d=i?fe(e,t,n,o,r):"selectedRouteGroup=".concat(a,"&").concat(ve(e,t,n,o,l)),m="".concat(he,"/").concat(u,"?").concat(d);return v.a.get(m,this.getDefaultHeader()).then((function(e){var t=[{headerName:O.columnName.Cabin,headerTooltip:"Cabin",field:"Cabin",tooltipField:"Cabin",width:300,alignLeft:!0},{headerName:O.columnName.BUDGET,headerTooltip:"Budget",field:"Budget",tooltipField:"Budget_AB",sortable:!0,comparator:c.customSorting,sort:"desc"},{headerName:O.columnName.LY,headerTooltip:"LY",field:"LY",tooltipField:"LY_AB",sortable:!0,comparator:c.customSorting},{headerName:O.columnName.VLY,headerTooltip:"VLY(%)",field:"VLY",tooltipField:"VLY_AB",width:250,cellRenderer:function(e){return c.arrowIndicator(e)},sortable:!0,comparator:c.customSorting}],a=[];e.data.response[0].TableData.forEach((function(e){a.push({Cabin:e.AncillaryName,Budget:s.convertZeroValueToBlank(e.Ancillary_CY),LY:s.convertZeroValueToBlank(e.Ancillary_LY),VLY:s.convertZeroValueToBlank(e.Ancillary_VLY),Budget_AB:window.numberWithCommas(e.Ancillary_CY),LY_AB:window.numberWithCommas(e.Ancillary_LY),VLY_AB:window.numberWithCommas(e.Ancillary_VLY)})}));var n=[];return e.data.response[0].Total.forEach((function(e){n.push({Cabin:"Total",Budget:s.convertZeroValueToBlank(e.Ancillary_CY),LY:s.convertZeroValueToBlank(e.Ancillary_LY),VLY:s.convertZeroValueToBlank(e.Ancillary_VLY),Budget_AB:window.numberWithCommas(e.Ancillary_CY),LY_AB:window.numberWithCommas(e.Ancillary_LY),VLY_AB:window.numberWithCommas(e.Ancillary_VLY)})})),[{columnName:t,ancillaryDetails:a,totalData:n}]})).catch((function(e){console.log(e)}))}},{key:"getDataLoadIndicator",value:function(){var e=this,t="".concat(he,"/dataloadedindicator");return v.a.get(t).then((function(e){var t=[];return e.data.response.forEach((function(e,a){t.push({Sr_No:a+1,DataSource:e.DataSource,Refresh_Frequency:e.Refresh_Frequency,Last_Updated_Date:e.Last_Updated_Date,Status:e.Status,Comment:e.Comments})})),[{columnName:[{headerName:"Sr.No.",headerTooltip:"Sr.No.",field:"Sr_No",tooltipField:"Sr_No",alignLeft:!0,width:100},{headerName:"Data Source",headerTooltip:"Data Source",field:"DataSource",tooltipField:"DataSource",alignLeft:!0},{headerName:"Refresh Frequency",headerTooltip:"Refresh Frequency",field:"Refresh_Frequency",tooltipField:"Refresh_Frequency",alignLeft:!0},{headerName:"Last Updated Date",headerTooltip:"Last Updated Date",field:"Last_Updated_Date",tooltipField:"Last_Updated_Date",alignLeft:!0,width:100},{headerName:"Status",headerTooltip:"Status",field:"Status",tooltipField:"Status",alignLeft:!0,width:100,cellStyle:function(e){var t=e.data.Status,a="";return t&&(t.toLowerCase().includes("s")?a="rgb(17, 247, 17)":t.toLowerCase().includes("f")&&(a="rgb(216, 62, 62)")),{color:a,"text-transform":"capitalize"}}},{headerName:"Comment",headerTooltip:"Comment",field:"Comment",tooltipField:"Comment",alignLeft:!0}],rowData:t}]})).catch((function(t){e.errorHandling(t)}))}},{key:"getODsBarChart",value:function(e,t,a,n,o){var r="".concat(he,"/postop5ODsmultibarchart?").concat(fe(e,t,a,n,o));return v.a.get(r,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getAgentsBarChart",value:function(e,t,a,n,o){var r="".concat(he,"/postop10agentsmultibarchart?").concat(fe(e,t,a,n,o));return v.a.get(r,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getRegionBarChart",value:function(e,t,a,n,o){var r="".concat(he,"/posperformanceview?").concat(fe(e,t,a,n,o));return v.a.get(r,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getSegmentationBarChart",value:function(e,t,a,n,o){var r="".concat(he,"/possegmentationbarchart?").concat(fe(e,t,a,n,o));return v.a.get(r,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getSalesAnalysisLineChart",value:function(e,t,a,n,o,r,l,i){var c="".concat(he,"/possalesanalysis?").concat(fe(e,t,a,n,o),"&trend=").concat(r,"&graphType=").concat(l,"&graphCategory=").concat(i);return v.a.get(c,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getPOSCards",value:function(e,t,a,n,o){var r=this.getDefaultHeader(),l="".concat(he,"/poscards?").concat(fe(e,t,a,n,o));return v.a.get(l,r).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getChanneltable",value:function(e,t,a,n,o){var r=this,l="".concat(he,"/poschannelperformanceview?").concat(fe(e,t,a,n,o));return v.a.get(l,this.getDefaultHeader()).then((function(e){var t=[{headerName:O.columnName.CHANNEL,headerTooltip:"Channel",field:"Channel",tooltipField:"Channel",width:300,alignLeft:!0},{headerName:O.columnName.CY,headerTooltip:"CY",field:"CY",tooltipField:"CY_AB",sortable:!0,comparator:r.customSorting,sort:"desc"},{headerName:O.columnName.LY,headerTooltip:"LY",field:"LY",tooltipField:"LY_AB",sortable:!0,comparator:r.customSorting},{headerName:O.columnName.VLY,headerTooltip:"VLY(%)",field:"VLY",tooltipField:"VLY_AB",cellRenderer:function(e){return r.arrowIndicator(e)},width:250,sortable:!0,comparator:r.customSorting},{headerName:O.columnName.VTG,headerTooltip:"VTG(%)",field:"VTG",tooltipField:"VTG_AB",cellRenderer:function(e){return r.arrowIndicator(e)},width:250,sortable:!0,comparator:r.customSorting}],a=r,n=[];e.data.response[0].TableData.forEach((function(e){n.push({Channel:e.ChannelName,CY:a.convertZeroValueToBlank(e.Revenue_CY),LY:a.convertZeroValueToBlank(e.Revenue_LY),VLY:a.convertZeroValueToBlank(e.Revenue_VLY),VTG:a.convertZeroValueToBlank(e.VTG),CY_AB:window.numberWithCommas(e.Revenue_CY),LY_AB:window.numberWithCommas(e.Revenue_LY),VLY_AB:window.numberWithCommas(e.Revenue_VLY),VTG_AB:window.numberWithCommas(e.VTG)})}));var o=[];return e.data.response[0].Total.forEach((function(e){o.push({Channel:"Total",CY:a.convertZeroValueToBlank(e.Revenue_CY),LY:a.convertZeroValueToBlank(e.Revenue_LY),VLY:a.convertZeroValueToBlank(e.Revenue_VLY),VTG:a.convertZeroValueToBlank(e.VTG),CY_AB:window.numberWithCommas(e.Revenue_CY),LY_AB:window.numberWithCommas(e.Revenue_LY),VLY_AB:window.numberWithCommas(e.Revenue_VLY),VTG_AB:window.numberWithCommas(e.VTG)})})),[{columnName:t,rowData:n,totalData:o}]})).catch((function(e){console.log(e)}))}},{key:"getMarketShare",value:function(e,t,a,n,o){var r=this,l="".concat(he,"/posmarketsharetable?").concat(fe(e,t,a,n,o));return v.a.get(l,this.getDefaultHeader()).then((function(e){var t=[{headerName:O.columnName.OD,headerTooltip:"OD",field:"OD",tooltipField:"OD",width:200,alignLeft:!0},{headerName:"CMSV",headerTooltip:"CMSV",field:"CMSV",tooltipField:"CMSV_AB",sortable:!0,comparator:r.customSorting,sort:"desc"},{headerName:O.columnName.VLY,headerTooltip:"VLY(%)",field:"VLY_CM",tooltipField:"VLY_CM_AB",cellRenderer:function(e){return r.arrowIndicator(e)},sortable:!0,comparator:r.customSorting},{headerName:"CALMS",headerTooltip:"CALMS",field:"CALMS",tooltipField:"CALMS_AB",sortable:!0,comparator:r.customSorting},{headerName:O.columnName.VLY,headerTooltip:"VLY(%)",field:"VLY_CA",tooltipField:"VLY_CA_AB",cellRenderer:function(e){return r.arrowIndicator(e)},sortable:!0,comparator:r.customSorting}],a=[],n=r;return e.data.response.forEach((function(e){a.push({OD:e.OD,CMSV:n.convertZeroValueToBlank(e.CMSV_CY),VLY_CM:n.convertZeroValueToBlank(e.CMSV_VLY),CALMS:n.convertZeroValueToBlank(e.CALMS_CY),VLY_CA:n.convertZeroValueToBlank(e.CALMS_VLY),CMSV_AB:window.numberWithCommas(e.CMSV_CY),VLY_CM_AB:window.numberWithCommas(e.CMSV_VLY),CALMS_AB:window.numberWithCommas(e.CALMS_CY),VLY_CA_AB:window.numberWithCommas(e.CALMS_VLY)})})),[{columnName:t,rowData:a}]})).catch((function(e){console.log(e)}))}},{key:"getDDSChartData",value:function(e,t,a,n,o,r){var l=this,i="".concat(he,"/ddschart?").concat(fe(e,t,a,n,o),"&dataType=").concat(r);return v.a.get(i,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){l.errorHandling(e)}))}},{key:"getInterlineMonthTables",value:function(e,t,a,n,o,r,l,i,c){var s=this,u="".concat(he,"/InterlineMonthly?partnerId=").concat(U(t),"&").concat(_e(a,n,o,i),"&segmentsId=").concat(U(r),"&channelId=").concat(l,"&oneWorld=").concat(U(c));return v.a.get(u,this.getDefaultHeader()).then((function(t){t.data.TableData.filter((function(e){return 0===e.AvgFare_TGT||null===e.AvgFare_TGT})).length,t.data.TableData.length,t.data.TableData.filter((function(e){return 0===e.Revenue_TGT||null===e.Revenue_TGT})).length,t.data.TableData.length,t.data.TableData.filter((function(e){return 0===e.Passenger_TGT||null===e.Passenger_TGT})).length,t.data.TableData.length;var a=[{headerName:"",children:[{headerName:O.columnName.MONTH,field:"Month",tooltipField:"Month",width:250,alignLeft:!0,underline:!0}]},{headerName:O.columnName.REVENUE_RECEIVED,children:[{headerName:O.columnName.CY,field:"CY_RR",tooltipField:"CY_RR_AB",underline:!0},{headerName:O.columnName.VLY,field:"VLY_RR",tooltipField:"VLY_RR_AB",cellRenderer:function(e){return s.arrowIndicator(e)}}]},{headerName:O.columnName.REVENUE_GIVEN,children:[{headerName:O.columnName.CY,field:"CY_RG",tooltipField:"CY_RG_AB",width:250},{headerName:O.columnName.VLY,field:"VLY_RG",tooltipField:"VLY_RG_AB",cellRenderer:function(e){return s.arrowIndicator(e)}}]},{headerName:O.columnName.YQ_RETAINED,children:[{headerName:O.columnName.CY,field:"CY_Y",tooltipField:"CY_Y_AB",width:250},{headerName:O.columnName.VLY,field:"VLY_Y",tooltipField:"VLY_Y_AB",cellRenderer:function(e){return s.arrowIndicator(e)}}]},{headerName:O.columnName.PAX_SECTOR,children:[{headerName:O.columnName.CY,field:"CY_P",tooltipField:"CY_P_AB",width:250},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return s.arrowIndicator(e)}}]},{headerName:O.columnName.COMMISION_RECEIVED,children:[{headerName:O.columnName.CY,field:"CY_CR",tooltipField:"CY_CR_AB"},{headerName:O.columnName.VLY,field:"VLY_CR",tooltipField:"VLY_CR_AB",cellRenderer:function(e){return s.arrowIndicator(e)}}]},{headerName:O.columnName.COMMISION_GIVEN,children:[{headerName:O.columnName.CY,field:"CY_CG",tooltipField:"CY_CG_AB"},{headerName:O.columnName.VLY,field:"VLY_CG",tooltipField:"VLY_CG_AB",cellRenderer:function(e){return s.arrowIndicator(e)}}]},{headerName:O.columnName.MH_AVG_FARE,children:[{headerName:O.columnName.CY,field:"CY_M",tooltipField:"CY_M_AB"},{headerName:O.columnName.VLY,field:"VLY_M",tooltipField:"VLY_M_AB",cellRenderer:function(e){return s.arrowIndicator(e)}}]},{headerName:O.columnName.PARTNERSHIP_AVG_FARE,children:[{headerName:O.columnName.CY,field:"CY_PR",tooltipField:"CY_PR_AB"},{headerName:O.columnName.VLY,field:"VLY_PR",tooltipField:"VLY_PR_AB",cellRenderer:function(e){return s.arrowIndicator(e)}}]}],n=t.data.TableData.filter((function(e){return e.Year===ge-1})),o=t.data.TableData.filter((function(e){return e.Year===ge})),r=t.data.TableData.filter((function(e){return e.Year===ge+1})),l=[].concat(Object(I.a)(t.data.Total_LY),Object(I.a)(n),Object(I.a)(o),Object(I.a)(t.data.Total_NY),Object(I.a)(r)),i=[];l.forEach((function(t){i.push({Month:null===t.MonthName?"---":t.MonthName,CY_RR:"lc"===e?s.convertZeroValueToBlank(t.LocalRevenueReceived_CY):s.convertZeroValueToBlank(t.RevenueReceived_CY),VLY_RR:"lc"===e?s.convertZeroValueToBlank(t.LocalRevenueReceived_VLY):s.convertZeroValueToBlank(t.RevenueReceived_VLY),CY_RG:"lc"===e?s.convertZeroValueToBlank(t.LocalRevenueGiven_CY):s.convertZeroValueToBlank(t.RevenueGiven_CY),VLY_RG:"lc"===e?s.convertZeroValueToBlank(t.LocalRevenueGiven_VLY):s.convertZeroValueToBlank(t.RevenueGiven_VLY),CY_Y:s.convertZeroValueToBlank(t.YQRetained_CY),VLY_Y:s.convertZeroValueToBlank(t.YQRetained_VLY),CY_P:s.convertZeroValueToBlank(t.PaxSector_CY),VLY_P:s.convertZeroValueToBlank(t.PaxSector_VLY),CY_CR:s.convertZeroValueToBlank(t.CommisionReceived_CY),VLY_CR:s.convertZeroValueToBlank(t.CommisionReceived_VLY),CY_CG:s.convertZeroValueToBlank(t.CommisionGiven_CY),VLY_CG:s.convertZeroValueToBlank(t.CommisionGiven_VLY),CY_M:"lc"===e?s.convertZeroValueToBlank(t.LocalMHAvgFare_CY):s.convertZeroValueToBlank(t.MHAvgFare_CY),VLY_M:"lc"===e?s.convertZeroValueToBlank(t.LocalMHAvgFare_VLY):s.convertZeroValueToBlank(t.MHAvgFare_VLY),CY_PR:"lc"===e?s.convertZeroValueToBlank(t.LocalPartnershipAvgFare_CY):s.convertZeroValueToBlank(t.PartnershipAvgFare_CY),VLY_PR:"lc"===e?s.convertZeroValueToBlank(t.LocalPartnershipAvgFare_VLY):s.convertZeroValueToBlank(t.PartnershipAvgFare_VLY),CY_RR_AB:"lc"===e?window.numberWithCommas(t.LocalRevenueReceived_CY):window.numberWithCommas(t.RevenueReceived_CY),VLY_RR_AB:"lc"===e?window.numberWithCommas(t.LocalRevenueReceived_VLY):window.numberWithCommas(t.RevenueReceived_VLY),CY_RG_AB:"lc"===e?window.numberWithCommas(t.LocalRevenueGiven_CY):window.numberWithCommas(t.RevenueGiven_CY),VLY_RG_AB:"lc"===e?window.numberWithCommas(t.LocalRevenueGiven_VLY):window.numberWithCommas(t.RevenueGiven_VLY),CY_Y_AB:window.numberWithCommas(t.YQRetained_CY),VLY_Y_AB:window.numberWithCommas(t.YQRetained_VLY),CY_P_AB:window.numberWithCommas(t.PaxSector_CY),VLY_P_AB:window.numberWithCommas(t.PaxSector_VLY),CY_CR_AB:window.numberWithCommas(t.CommisionReceived_CY),VLY_CR_AB:window.numberWithCommas(t.CommisionReceived_VLY),CY_CG_AB:window.numberWithCommas(t.CommisionGiven_CY),VLY_CG_AB:window.numberWithCommas(t.CommisionGiven_VLY),CY_M_AB:"lc"===e?window.numberWithCommas(t.LocalMHAvgFare_CY):window.numberWithCommas(t.MHAvgFare_CY),VLY_M_AB:"lc"===e?window.numberWithCommas(t.LocalMHAvgFare_VLY):window.numberWithCommas(t.MHAvgFare_VLY),CY_PR_AB:"lc"===e?window.numberWithCommas(t.LocalPartnershipAvgFare_CY):window.numberWithCommas(t.PartnershipAvgFare_CY),VLY_PR_AB:"lc"===e?window.numberWithCommas(t.LocalPartnershipAvgFare_VLY):window.numberWithCommas(t.PartnershipAvgFare_VLY),Year:t.Year,MonthName:t.monthfullname,isUnderline:parseInt(t.Year)==ge?t.MonthNumber>=pe:parseInt(t.Year)>ge&&t.MonthNumber<pe})}));var c=[];return t.data.Total_CY.forEach((function(t){c.push({Month:"Total",CY_RR:"lc"===e?s.convertZeroValueToBlank(t.LocalRevenueReceived_CY):s.convertZeroValueToBlank(t.RevenueReceived_CY),VLY_RR:"lc"===e?s.convertZeroValueToBlank(t.LocalRevenueReceived_VLY):s.convertZeroValueToBlank(t.RevenueReceived_VLY),CY_RG:"lc"===e?s.convertZeroValueToBlank(t.LocalRevenueGiven_CY):s.convertZeroValueToBlank(t.RevenueGiven_CY),VLY_RG:"lc"===e?s.convertZeroValueToBlank(t.LocalRevenueGiven_VLY):s.convertZeroValueToBlank(t.RevenueGiven_VLY),CY_Y:s.convertZeroValueToBlank(t.YQRetained_CY),VLY_Y:s.convertZeroValueToBlank(t.YQRetained_VLY),CY_P:s.convertZeroValueToBlank(t.PaxSector_CY),VLY_P:s.convertZeroValueToBlank(t.PaxSector_VLY),CY_CR:s.convertZeroValueToBlank(t.CommisionReceived_CY),VLY_CR:s.convertZeroValueToBlank(t.CommisionReceived_VLY),CY_CG:s.convertZeroValueToBlank(t.CommisionGiven_CY),VLY_CG:s.convertZeroValueToBlank(t.CommisionGiven_VLY),CY_M:"lc"===e?s.convertZeroValueToBlank(t.LocalMHAvgFare_CY):s.convertZeroValueToBlank(t.MHAvgFare_CY),VLY_M:"lc"===e?s.convertZeroValueToBlank(t.LocalMHAvgFare_VLY):s.convertZeroValueToBlank(t.MHAvgFare_VLY),CY_PR:"lc"===e?s.convertZeroValueToBlank(t.LocalPartnershipAvgFare_CY):s.convertZeroValueToBlank(t.PartnershipAvgFare_CY),VLY_PR:"lc"===e?s.convertZeroValueToBlank(t.LocalPartnershipAvgFare_VLY):s.convertZeroValueToBlank(t.PartnershipAvgFare_VLY),CY_RR_AB:"lc"===e?window.numberWithCommas(t.LocalRevenueReceived_CY):window.numberWithCommas(t.RevenueReceived_CY),VLY_RR_AB:"lc"===e?window.numberWithCommas(t.LocalRevenueReceived_VLY):window.numberWithCommas(t.RevenueReceived_VLY),CY_RG_AB:"lc"===e?window.numberWithCommas(t.LocalRevenueGiven_CY):window.numberWithCommas(t.RevenueGiven_CY),VLY_RG_AB:"lc"===e?window.numberWithCommas(t.LocalRevenueGiven_VLY):window.numberWithCommas(t.RevenueGiven_VLY),CY_Y_AB:window.numberWithCommas(t.YQRetained_CY),VLY_Y_AB:window.numberWithCommas(t.YQRetained_VLY),CY_P_AB:window.numberWithCommas(t.PaxSector_CY),VLY_P_AB:window.numberWithCommas(t.PaxSector_VLY),CY_CR_AB:window.numberWithCommas(t.CommisionReceived_CY),VLY_CR_AB:window.numberWithCommas(t.CommisionReceived_VLY),CY_CG_AB:window.numberWithCommas(t.CommisionGiven_CY),VLY_CG_AB:window.numberWithCommas(t.CommisionGiven_VLY),CY_M_AB:"lc"===e?window.numberWithCommas(t.LocalMHAvgFare_CY):window.numberWithCommas(t.MHAvgFare_CY),VLY_M_AB:"lc"===e?window.numberWithCommas(t.LocalMHAvgFare_VLY):window.numberWithCommas(t.MHAvgFare_VLY),CY_PR_AB:"lc"===e?window.numberWithCommas(t.LocalPartnershipAvgFare_CY):window.numberWithCommas(t.PartnershipAvgFare_CY),VLY_PR_AB:"lc"===e?window.numberWithCommas(t.LocalPartnershipAvgFare_VLY):window.numberWithCommas(t.PartnershipAvgFare_VLY)})})),[{columnName:a,rowData:i,totalData:c,currentAccess:t.data.CurretAccess}]})).catch((function(e){console.log(e)}))}},{key:"getInterlineDrillDownData",value:function(e,t,a,n,o,r,l,i,c,s,u,d){var m=this,h="".concat(he,"/InterlineDrillDown?getYear=").concat(e,"&gettingMonth=").concat(a,"&partnerId=").concat(U(n),"&").concat(_e(o,r,l,s),"&segmentsId=").concat(U(i),"&channelId=").concat(c,"&oneWorld=").concat(U(u),"&type=").concat(d);return v.a.get(h,this.getDefaultHeader()).then((function(e){var a=e.data.ColumnName,n=(e.data.TableData.filter((function(e){return 0===e.AvgFare_TGT||null===e.AvgFare_TGT})).length,e.data.TableData.length,e.data.TableData.filter((function(e){return 0===e.Revenue_TGT||null===e.Revenue_TGT})).length,e.data.TableData.length,e.data.TableData.filter((function(e){return 0===e.Passenger_TGT||null===e.Passenger_TGT})).length,e.data.TableData.length,[{headerName:"",children:[{headerName:a,field:"firstColumnName",tooltipField:"firstColumnName",width:250,alignLeft:!0,underline:("Null"===d||"Agency"===d||"Channel"===d)&&"Cabin"!==a&&"Agent"!==a}]},{headerName:O.columnName.REVENUE_RECEIVED,children:[{headerName:O.columnName.CY,field:"CY_RR",tooltipField:"CY_RR_AB",hide:"Ancillary"===a,sortable:!0,comparator:m.customSorting},{headerName:O.columnName.VLY,field:"VLY_RR",tooltipField:"VLY_RR_AB",cellRenderer:function(e){return m.arrowIndicator(e)},hide:"Ancillary"===a,sortable:!0,comparator:m.customSorting}]},{headerName:O.columnName.REVENUE_GIVEN,children:[{headerName:O.columnName.CY,field:"CY_RG",tooltipField:"CY_RG_AB",width:250,sortable:!0,comparator:m.customSorting},{headerName:O.columnName.VLY,field:"VLY_RG",tooltipField:"VLY_RG_AB",cellRenderer:function(e){return m.arrowIndicator(e)},sortable:!0,comparator:m.customSorting}]},{headerName:O.columnName.YQ_RETAINED,children:[{headerName:O.columnName.CY,field:"CY_Y",tooltipField:"CY_Y_AB",width:250,sortable:!0,comparator:m.customSorting},{headerName:O.columnName.VLY,field:"VLY_Y",tooltipField:"VLY_Y_AB",cellRenderer:function(e){return m.arrowIndicator(e)},sortable:!0,comparator:m.customSorting}]},{headerName:O.columnName.PAX_SECTOR,children:[{headerName:O.columnName.CY,field:"CY_P",tooltipField:"CY_P_AB",width:250,sortable:!0,comparator:m.customSorting,sort:"desc"},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return m.arrowIndicator(e)},sortable:!0,comparator:m.customSorting}]},{headerName:O.columnName.COMMISION_RECEIVED,children:[{headerName:O.columnName.CY,field:"CY_CR",tooltipField:"CY_CR_AB"},{headerName:O.columnName.VLY,field:"VLY_CR",tooltipField:"VLY_CR_AB",cellRenderer:function(e){return m.arrowIndicator(e)}}]},{headerName:O.columnName.COMMISION_GIVEN,children:[{headerName:O.columnName.CY,field:"CY_CG",tooltipField:"CY_CG_AB"},{headerName:O.columnName.VLY,field:"VLY_CG",tooltipField:"VLY_CG_AB",cellRenderer:function(e){return m.arrowIndicator(e)}}]},{headerName:O.columnName.MH_AVG_FARE,children:[{headerName:O.columnName.CY,field:"CY_M",tooltipField:"CY_M_AB"},{headerName:O.columnName.VLY,field:"VLY_M",tooltipField:"VLY_M_AB",cellRenderer:function(e){return m.arrowIndicator(e)}}]},{headerName:O.columnName.PARTNERSHIP_AVG_FARE,children:[{headerName:O.columnName.CY,field:"CY_PR",tooltipField:"CY_PR_AB"},{headerName:O.columnName.VLY,field:"VLY_PR",tooltipField:"VLY_PR_AB",cellRenderer:function(e){return m.arrowIndicator(e)}}]}]),o=[];e.data.TableData.forEach((function(e){o.push({firstColumnName:null===e.ColumnName?"---":e.ColumnName,"":"",CY_RR:"lc"===t?m.convertZeroValueToBlank(e.LocalRevenueReceived_CY):m.convertZeroValueToBlank(e.RevenueReceived_CY),VLY_RR:"lc"===t?m.convertZeroValueToBlank(e.LocalRevenueReceived_VLY):m.convertZeroValueToBlank(e.RevenueReceived_VLY),CY_RG:"lc"===t?m.convertZeroValueToBlank(e.LocalRevenueGiven_CY):m.convertZeroValueToBlank(e.RevenueGiven_CY),VLY_RG:"lc"===t?m.convertZeroValueToBlank(e.LocalRevenueGiven_VLY):m.convertZeroValueToBlank(e.RevenueGiven_VLY),CY_Y:m.convertZeroValueToBlank(e.YQRetained_CY),VLY_Y:m.convertZeroValueToBlank(e.YQRetained_VLY),CY_P:m.convertZeroValueToBlank(e.PaxSector_CY),VLY_P:m.convertZeroValueToBlank(e.PaxSector_VLY),CY_CR:m.convertZeroValueToBlank(e.CommisionReceived_CY),VLY_CR:m.convertZeroValueToBlank(e.CommisionReceived_VLY),CY_CG:m.convertZeroValueToBlank(e.CommisionGiven_CY),VLY_CG:m.convertZeroValueToBlank(e.CommisionGiven_VLY),CY_M:"lc"===t?m.convertZeroValueToBlank(e.LocalMHAvgFare_CY):m.convertZeroValueToBlank(e.MHAvgFare_CY),VLY_M:"lc"===t?m.convertZeroValueToBlank(e.LocalMHAvgFare_VLY):m.convertZeroValueToBlank(e.MHAvgFare_VLY),CY_PR:"lc"===t?m.convertZeroValueToBlank(e.LocalPartnershipAvgFare_CY):m.convertZeroValueToBlank(e.PartnershipAvgFare_CY),VLY_PR:"lc"===t?m.convertZeroValueToBlank(e.LocalPartnershipAvgFare_VLY):m.convertZeroValueToBlank(e.PartnershipAvgFare_VLY),CY_RR_AB:"lc"===t?window.numberWithCommas(e.LocalRevenueReceived_CY):window.numberWithCommas(e.RevenueReceived_CY),VLY_RR_AB:"lc"===t?window.numberWithCommas(e.LocalRevenueReceived_VLY):window.numberWithCommas(e.RevenueReceived_VLY),CY_RG_AB:"lc"===t?window.numberWithCommas(e.LocalRevenueGiven_CY):window.numberWithCommas(e.RevenueGiven_CY),VLY_RG_AB:"lc"===t?window.numberWithCommas(e.LocalRevenueGiven_VLY):window.numberWithCommas(e.RevenueGiven_VLY),CY_Y_AB:window.numberWithCommas(e.YQRetained_CY),VLY_Y_AB:window.numberWithCommas(e.YQRetained_VLY),CY_P_AB:window.numberWithCommas(e.PaxSector_CY),VLY_P_AB:window.numberWithCommas(e.PaxSector_VLY),CY_CR_AB:window.numberWithCommas(e.CommisionReceived_CY),VLY_CR_AB:window.numberWithCommas(e.CommisionReceived_VLY),CY_CG_AB:window.numberWithCommas(e.CommisionGiven_CY),VLY_CG_AB:window.numberWithCommas(e.CommisionGiven_VLY),CY_M_AB:"lc"===t?window.numberWithCommas(e.LocalMHAvgFare_CY):window.numberWithCommas(e.MHAvgFare_CY),VLY_M_AB:"lc"===t?window.numberWithCommas(e.LocalMHAvgFare_VLY):window.numberWithCommas(e.MHAvgFare_VLY),CY_PR_AB:"lc"===t?window.numberWithCommas(e.LocalPartnershipAvgFare_CY):window.numberWithCommas(e.PartnershipAvgFare_CY),VLY_PR_AB:"lc"===t?window.numberWithCommas(e.LocalPartnershipAvgFare_VLY):window.numberWithCommas(e.PartnershipAvgFare_VLY),isAlert:e.is_alert})}));var r=[];return e.data.Total.forEach((function(e){r.push({Ancillary_Full_Name:"Total",firstColumnName:"Total",CY_RR:"lc"===t?m.convertZeroValueToBlank(e.LocalRevenueReceived_CY):m.convertZeroValueToBlank(e.RevenueReceived_CY),VLY_RR:"lc"===t?m.convertZeroValueToBlank(e.LocalRevenueReceived_VLY):m.convertZeroValueToBlank(e.RevenueReceived_VLY),CY_RG:"lc"===t?m.convertZeroValueToBlank(e.LocalRevenueGiven_CY):m.convertZeroValueToBlank(e.RevenueGiven_CY),VLY_RG:"lc"===t?m.convertZeroValueToBlank(e.LocalRevenueGiven_VLY):m.convertZeroValueToBlank(e.RevenueGiven_VLY),CY_Y:m.convertZeroValueToBlank(e.YQRetained_CY),VLY_Y:m.convertZeroValueToBlank(e.YQRetained_VLY),CY_P:m.convertZeroValueToBlank(e.PaxSector_CY),VLY_P:m.convertZeroValueToBlank(e.PaxSector_VLY),CY_CR:m.convertZeroValueToBlank(e.CommisionReceived_CY),VLY_CR:m.convertZeroValueToBlank(e.CommisionReceived_VLY),CY_CG:m.convertZeroValueToBlank(e.CommisionGiven_CY),VLY_CG:m.convertZeroValueToBlank(e.CommisionGiven_VLY),CY_M:"lc"===t?m.convertZeroValueToBlank(e.LocalMHAvgFare_CY):m.convertZeroValueToBlank(e.MHAvgFare_CY),VLY_M:"lc"===t?m.convertZeroValueToBlank(e.LocalMHAvgFare_VLY):m.convertZeroValueToBlank(e.MHAvgFare_VLY),CY_PR:"lc"===t?m.convertZeroValueToBlank(e.LocalPartnershipAvgFare_CY):m.convertZeroValueToBlank(e.PartnershipAvgFare_CY),VLY_PR:"lc"===t?m.convertZeroValueToBlank(e.LocalPartnershipAvgFare_VLY):m.convertZeroValueToBlank(e.PartnershipAvgFare_VLY),CY_RR_AB:"lc"===t?window.numberWithCommas(e.LocalRevenueReceived_CY):window.numberWithCommas(e.RevenueReceived_CY),VLY_RR_AB:"lc"===t?window.numberWithCommas(e.LocalRevenueReceived_VLY):window.numberWithCommas(e.RevenueReceived_VLY),CY_RG_AB:"lc"===t?window.numberWithCommas(e.LocalRevenueGiven_CY):window.numberWithCommas(e.RevenueGiven_CY),VLY_RG_AB:"lc"===t?window.numberWithCommas(e.LocalRevenueGiven_VLY):window.numberWithCommas(e.RevenueGiven_VLY),CY_Y_AB:window.numberWithCommas(e.YQRetained_CY),VLY_Y_AB:window.numberWithCommas(e.YQRetained_VLY),CY_P_AB:window.numberWithCommas(e.PaxSector_CY),VLY_P_AB:window.numberWithCommas(e.PaxSector_VLY),CY_CR_AB:window.numberWithCommas(e.CommisionReceived_CY),VLY_CR_AB:window.numberWithCommas(e.CommisionReceived_VLY),CY_CG_AB:window.numberWithCommas(e.CommisionGiven_CY),VLY_CG_AB:window.numberWithCommas(e.CommisionGiven_VLY),CY_M_AB:"lc"===t?window.numberWithCommas(e.LocalMHAvgFare_CY):window.numberWithCommas(e.MHAvgFare_CY),VLY_M_AB:"lc"===t?window.numberWithCommas(e.LocalMHAvgFare_VLY):window.numberWithCommas(e.MHAvgFare_VLY),CY_PR_AB:"lc"===t?window.numberWithCommas(e.LocalPartnershipAvgFare_CY):window.numberWithCommas(e.PartnershipAvgFare_CY),VLY_PR_AB:"lc"===t?window.numberWithCommas(e.LocalPartnershipAvgFare_VLY):window.numberWithCommas(e.PartnershipAvgFare_VLY),isAlert:e.is_alert})})),[{columnName:n,rowData:o,currentAccess:e.data.CurrentAccess,totalData:r,tabName:e.data.ColumnName,firstTabName:e.data.first_ColumnName}]})).catch((function(e){m.errorHandling(e)}))}},{key:"getInterlineDetails",value:function(e,t,a,n,o,r,l,i,c,s){var u=this,d="".concat(he,"/InterlineTarget?getYear=").concat(e,"&gettingMonth=").concat(t);return v.a.get(d,this.getDefaultHeader()).then((function(e){console.log(e,"response");var t=[{headerName:"CY",field:"CY",tooltipField:"CY_AB"},{headerName:"TGT",field:"TGT(%)",tooltipField:"TGT(%)_AB",cellRenderer:function(e){return u.arrowIndicator(e)}},{headerName:"VTG(%)",field:"VTG(%)TKT",tooltipField:"VTG(%)TKT_AB",cellRenderer:function(e){return u.arrowIndicator(e)}}],a=[];return a.push({CY:u.convertZeroValueToBlank(e.data.Data[0].RevenueReceived_CY),"TGT(%)":u.convertZeroValueToBlank(e.data.Data[0].RevenueReceived_TGT),"VTG(%)TKT":u.convertZeroValueToBlank(e.data.Data[0].RevenueReceived_VTG),CY_AB:window.numberWithCommas(e.data.Data[0].RevenueReceived_CY),"TGT(%)_AB":window.numberWithCommas(e.data.Data[0].RevenueReceived_TGT),"VTG(%)TKT_AB":window.numberWithCommas(e.data.Data[0].RevenueReceived_VTG)}),console.log(a,"cabin"),[{columnName:t,cabinData:a}]})).catch((function(e){u.errorHandling(e)}))}},{key:"getInterlineChannelDetails",value:function(e,t,a,n,o,r,l,i,c,s,u,d,m){var h=this,g="".concat(he,"/InterlineAgencyData?getYear=").concat(t,"&gettingMonth=").concat(a,"&partnerId=").concat(U(n),"&").concat(_e(o,r,l,s),"&segmentsId=").concat(U(i),"&channelId=").concat(c,"&oneWorld=").concat(U(u),"&type=").concat(d,"&pageNum=").concat(m);return v.a.get(g,this.getDefaultHeader()).then((function(t){var a=[{headerName:"",children:[{headerName:"Agent",field:"firstColumnName",tooltipField:"firstColumnName",width:250,alignLeft:!0}]},{headerName:O.columnName.REVENUE_RECEIVED,children:[{headerName:O.columnName.CY,field:"CY_RR",tooltipField:"CY_RR_AB",sortable:!0,comparator:h.customSorting},{headerName:O.columnName.VLY,field:"VLY_RR",tooltipField:"VLY_RR_AB",cellRenderer:function(e){return h.arrowIndicator(e)},sortable:!0,comparator:h.customSorting}]},{headerName:O.columnName.REVENUE_GIVEN,children:[{headerName:O.columnName.CY,field:"CY_RG",tooltipField:"CY_RG_AB",width:250,sortable:!0,comparator:h.customSorting},{headerName:O.columnName.VLY,field:"VLY_RG",tooltipField:"VLY_RG_AB",cellRenderer:function(e){return h.arrowIndicator(e)},sortable:!0,comparator:h.customSorting}]},{headerName:O.columnName.YQ_RETAINED,children:[{headerName:O.columnName.CY,field:"CY_Y",tooltipField:"CY_Y_AB",width:250,sortable:!0,comparator:h.customSorting},{headerName:O.columnName.VLY,field:"VLY_Y",tooltipField:"VLY_Y_AB",cellRenderer:function(e){return h.arrowIndicator(e)},sortable:!0,comparator:h.customSorting}]},{headerName:O.columnName.PAX_SECTOR,children:[{headerName:O.columnName.CY,field:"CY_P",tooltipField:"CY_P_AB",width:250,sortable:!0,comparator:h.customSorting,sort:"desc"},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return h.arrowIndicator(e)},sortable:!0,comparator:h.customSorting}]},{headerName:O.columnName.COMMISION_RECEIVED,children:[{headerName:O.columnName.CY,field:"CY_CR",tooltipField:"CY_CR_AB"},{headerName:O.columnName.VLY,field:"VLY_CR",tooltipField:"VLY_CR_AB",cellRenderer:function(e){return h.arrowIndicator(e)}}]},{headerName:O.columnName.COMMISION_GIVEN,children:[{headerName:O.columnName.CY,field:"CY_CG",tooltipField:"CY_CG_AB"},{headerName:O.columnName.VLY,field:"VLY_CG",tooltipField:"VLY_CG_AB",cellRenderer:function(e){return h.arrowIndicator(e)}}]},{headerName:O.columnName.MH_AVG_FARE,children:[{headerName:O.columnName.CY,field:"CY_M",tooltipField:"CY_M_AB"},{headerName:O.columnName.VLY,field:"VLY_M",tooltipField:"VLY_M_AB",cellRenderer:function(e){return h.arrowIndicator(e)}}]},{headerName:O.columnName.PARTNERSHIP_AVG_FARE,children:[{headerName:O.columnName.CY,field:"CY_PR",tooltipField:"CY_PR_AB"},{headerName:O.columnName.VLY,field:"VLY_PR",tooltipField:"VLY_PR_AB",cellRenderer:function(e){return h.arrowIndicator(e)}}]}],n=[];t.data.response.TableData.forEach((function(t){n.push({firstColumnName:null===t.Agent?"---":t.Agent,"":"",CY_RR:"lc"===e?h.convertZeroValueToBlank(t.LocalRevenueReceived_CY):h.convertZeroValueToBlank(t.RevenueReceived_CY),VLY_RR:"lc"===e?h.convertZeroValueToBlank(t.LocalRevenueReceived_VLY):h.convertZeroValueToBlank(t.RevenueReceived_VLY),CY_RG:"lc"===e?h.convertZeroValueToBlank(t.LocalRevenueGiven_CY):h.convertZeroValueToBlank(t.RevenueGiven_CY),VLY_RG:"lc"===e?h.convertZeroValueToBlank(t.LocalRevenueGiven_VLY):h.convertZeroValueToBlank(t.RevenueGiven_VLY),CY_Y:h.convertZeroValueToBlank(t.YQRetained_CY),VLY_Y:h.convertZeroValueToBlank(t.YQRetained_VLY),CY_P:h.convertZeroValueToBlank(t.PaxSector_CY),VLY_P:h.convertZeroValueToBlank(t.PaxSector_VLY),CY_CR:h.convertZeroValueToBlank(t.CommisionReceived_CY),VLY_CR:h.convertZeroValueToBlank(t.CommisionReceived_VLY),CY_CG:h.convertZeroValueToBlank(t.CommisionGiven_CY),VLY_CG:h.convertZeroValueToBlank(t.CommisionGiven_VLY),CY_M:"lc"===e?h.convertZeroValueToBlank(t.LocalMHAvgFare_CY):h.convertZeroValueToBlank(t.MHAvgFare_CY),VLY_M:"lc"===e?h.convertZeroValueToBlank(t.LocalMHAvgFare_VLY):h.convertZeroValueToBlank(t.MHAvgFare_VLY),CY_PR:"lc"===e?h.convertZeroValueToBlank(t.LocalPartnershipAvgFare_CY):h.convertZeroValueToBlank(t.PartnershipAvgFare_CY),VLY_PR:"lc"===e?h.convertZeroValueToBlank(t.LocalPartnershipAvgFare_VLY):h.convertZeroValueToBlank(t.PartnershipAvgFare_VLY),CY_RR_AB:"lc"===e?window.numberWithCommas(t.LocalRevenueReceived_CY):window.numberWithCommas(t.RevenueReceived_CY),VLY_RR_AB:"lc"===e?window.numberWithCommas(t.LocalRevenueReceived_VLY):window.numberWithCommas(t.RevenueReceived_VLY),CY_RG_AB:"lc"===e?window.numberWithCommas(t.LocalRevenueGiven_CY):window.numberWithCommas(t.RevenueGiven_CY),VLY_RG_AB:"lc"===e?window.numberWithCommas(t.LocalRevenueGiven_VLY):window.numberWithCommas(t.RevenueGiven_VLY),CY_Y_AB:window.numberWithCommas(t.YQRetained_CY),VLY_Y_AB:window.numberWithCommas(t.YQRetained_VLY),CY_P_AB:window.numberWithCommas(t.PaxSector_CY),VLY_P_AB:window.numberWithCommas(t.PaxSector_VLY),CY_CR_AB:window.numberWithCommas(t.CommisionReceived_CY),VLY_CR_AB:window.numberWithCommas(t.CommisionReceived_VLY),CY_CG_AB:window.numberWithCommas(t.CommisionGiven_CY),VLY_CG_AB:window.numberWithCommas(t.CommisionGiven_VLY),CY_M_AB:"lc"===e?window.numberWithCommas(t.LocalMHAvgFare_CY):window.numberWithCommas(t.MHAvgFare_CY),VLY_M_AB:"lc"===e?window.numberWithCommas(t.LocalMHAvgFare_VLY):window.numberWithCommas(t.MHAvgFare_VLY),CY_PR_AB:"lc"===e?window.numberWithCommas(t.LocalPartnershipAvgFare_CY):window.numberWithCommas(t.PartnershipAvgFare_CY),VLY_PR_AB:"lc"===e?window.numberWithCommas(t.LocalPartnershipAvgFare_VLY):window.numberWithCommas(t.PartnershipAvgFare_VLY),isAlert:t.is_alert})})),console.log(n,"row");var o=[];return t.data.response.Total.forEach((function(t){o.push({Ancillary_Full_Name:"Total",firstColumnName:"Total",CY_RR:"lc"===e?h.convertZeroValueToBlank(t.LocalRevenueReceived_CY):h.convertZeroValueToBlank(t.RevenueReceived_CY),VLY_RR:"lc"===e?h.convertZeroValueToBlank(t.LocalRevenueReceived_VLY):h.convertZeroValueToBlank(t.RevenueReceived_VLY),CY_RG:"lc"===e?h.convertZeroValueToBlank(t.LocalRevenueGiven_CY):h.convertZeroValueToBlank(t.RevenueGiven_CY),VLY_RG:"lc"===e?h.convertZeroValueToBlank(t.LocalRevenueGiven_VLY):h.convertZeroValueToBlank(t.RevenueGiven_VLY),CY_Y:h.convertZeroValueToBlank(t.YQRetained_CY),VLY_Y:h.convertZeroValueToBlank(t.YQRetained_VLY),CY_P:h.convertZeroValueToBlank(t.PaxSector_CY),VLY_P:h.convertZeroValueToBlank(t.PaxSector_VLY),CY_CR:h.convertZeroValueToBlank(t.CommisionReceived_CY),VLY_CR:h.convertZeroValueToBlank(t.CommisionReceived_VLY),CY_CG:h.convertZeroValueToBlank(t.CommisionGiven_CY),VLY_CG:h.convertZeroValueToBlank(t.CommisionGiven_VLY),CY_M:"lc"===e?h.convertZeroValueToBlank(t.LocalMHAvgFare_CY):h.convertZeroValueToBlank(t.MHAvgFare_CY),VLY_M:"lc"===e?h.convertZeroValueToBlank(t.LocalMHAvgFare_VLY):h.convertZeroValueToBlank(t.MHAvgFare_VLY),CY_PR:"lc"===e?h.convertZeroValueToBlank(t.LocalPartnershipAvgFare_CY):h.convertZeroValueToBlank(t.PartnershipAvgFare_CY),VLY_PR:"lc"===e?h.convertZeroValueToBlank(t.LocalPartnershipAvgFare_VLY):h.convertZeroValueToBlank(t.PartnershipAvgFare_VLY),CY_RR_AB:"lc"===e?window.numberWithCommas(t.LocalRevenueReceived_CY):window.numberWithCommas(t.RevenueReceived_CY),VLY_RR_AB:"lc"===e?window.numberWithCommas(t.LocalRevenueReceived_VLY):window.numberWithCommas(t.RevenueReceived_VLY),CY_RG_AB:"lc"===e?window.numberWithCommas(t.LocalRevenueGiven_CY):window.numberWithCommas(t.RevenueGiven_CY),VLY_RG_AB:"lc"===e?window.numberWithCommas(t.LocalRevenueGiven_VLY):window.numberWithCommas(t.RevenueGiven_VLY),CY_Y_AB:window.numberWithCommas(t.YQRetained_CY),VLY_Y_AB:window.numberWithCommas(t.YQRetained_VLY),CY_P_AB:window.numberWithCommas(t.PaxSector_CY),VLY_P_AB:window.numberWithCommas(t.PaxSector_VLY),CY_CR_AB:window.numberWithCommas(t.CommisionReceived_CY),VLY_CR_AB:window.numberWithCommas(t.CommisionReceived_VLY),CY_CG_AB:window.numberWithCommas(t.CommisionGiven_CY),VLY_CG_AB:window.numberWithCommas(t.CommisionGiven_VLY),CY_M_AB:"lc"===e?window.numberWithCommas(t.LocalMHAvgFare_CY):window.numberWithCommas(t.MHAvgFare_CY),VLY_M_AB:"lc"===e?window.numberWithCommas(t.LocalMHAvgFare_VLY):window.numberWithCommas(t.MHAvgFare_VLY),CY_PR_AB:"lc"===e?window.numberWithCommas(t.LocalPartnershipAvgFare_CY):window.numberWithCommas(t.PartnershipAvgFare_CY),VLY_PR_AB:"lc"===e?window.numberWithCommas(t.LocalPartnershipAvgFare_VLY):window.numberWithCommas(t.PartnershipAvgFare_VLY),isAlert:t.is_alert})})),console.log(n,"total"),[{columnName:a,rowData:n,totalData:o,currentPage:t.data.response.pageNumber,totalPages:t.data.response.totalPages,totalRecords:t.data.response.totalRecords,paginationSize:t.data.response.paginationLimit}]})).catch((function(e){h.errorHandling(e)}))}},{key:"getRouteRegions",value:function(e){var t="string"===typeof e?e:"'".concat(encodeURIComponent(e.join("','")),"'"),a="".concat(he,"/getRouteRegion?routeGroup=").concat(t);return v.a.get(a).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getRouteCountries",value:function(e,t){var a="string"===typeof e?e:"'".concat(encodeURIComponent(e.join("','")),"'"),n="string"===typeof t?t:"'".concat(encodeURIComponent(t.join("','")),"'"),o="".concat(he,"/getRouteCountryByRegionId?routeGroup=").concat(a,"&regionId=").concat(n);return v.a.get(o).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getRoutes",value:function(e,t,a){var n="string"===typeof e?e:"'".concat(encodeURIComponent(e.join("','")),"'"),o="string"===typeof t?t:"'".concat(t.join("','"),"'"),r="string"===typeof a?a:"'".concat(a.join("','"),"'"),l="".concat(he,"/getRouteCityByCountryCode?routeGroup=").concat(n,"&regionId=").concat(o,"&countryId=").concat(r);return v.a.get(l).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getRevenueBarChart",value:function(e,t,a,n,o,r,l,i){var c="".concat(he,"/routerevenuemultibarchartv2?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r),"&trend=").concat(l,"&graphType=").concat(i);return v.a.get(c,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getRaskBarChart",value:function(e,t,a,n,o,r,l,i){var c="".concat(he,"/routeraskmultibarchartv2?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r),"&trend=").concat(l,"&graphType=").concat(i);return v.a.get(c,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getYeildBarChart",value:function(e,t,a,n,o,r,l,i){var c="".concat(he,"/routeyieldmultibarchartv2?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r),"&trend=").concat(l,"&graphType=").concat(i);return v.a.get(c,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getLoadFactorBarChart",value:function(e,t,a,n,o,r,l,i){var c="".concat(he,"/routeloadfactormultibarchartv2?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r),"&trend=").concat(l,"&graphType=").concat(i);return v.a.get(c,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getRegionWisePerformanceTable",value:function(e,t,a,n,o,r){var l=this,i="".concat(he,"/routeregionwisetable?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r));return v.a.get(i,this.getDefaultHeader()).then((function(e){var t=e.data.response[0].ColumnName,a=[{headerName:t,headerTooltip:t,field:"ColumnName",tooltipField:"Region",width:300,alignLeft:!0},{headerName:O.columnName.CY,headerTooltip:"CY",field:"CY",tooltipField:"CY_AB",sortable:!0,comparator:l.customSorting,sort:"desc"},{headerName:O.columnName.LY,headerTooltip:"LY",field:"LY",tooltipField:"LY_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.VTG,headerTooltip:"VTG(%)",field:"VTG",tooltipField:"VTG_AB",width:250,cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting}],n=l,o=[];e.data.response[0].Data.forEach((function(e){o.push({ColumnName:e.ColumnName,CY:n.convertZeroValueToBlank(e.CY),LY:n.convertZeroValueToBlank(e.LY),VTG:n.convertZeroValueToBlank(e.VTG),CY_AB:window.numberWithCommas(e.CY),LY_AB:window.numberWithCommas(e.LY),VTG_AB:window.numberWithCommas(e.VTG)})}));var r=[];return e.data.response[0].Total.forEach((function(e){r.push({ColumnName:"Total",CY:n.convertZeroValueToBlank(e.CY),LY:n.convertZeroValueToBlank(e.LY),VTG:n.convertZeroValueToBlank(e.VTG),CY_AB:window.numberWithCommas(e.CY),LY_AB:window.numberWithCommas(e.LY),VTG_AB:window.numberWithCommas(e.VTG)})})),[{columnName:a,rowData:o,totalData:r,tableHead:t}]})).catch((function(e){console.log(e)}))}},{key:"getRouteTable",value:function(e,t,a,n,o,r,l){var i=this,c="".concat(he,"/routetop5routestable?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r),"&toporbottom=").concat(l);return v.a.get(c,this.getDefaultHeader()).then((function(e){var t=[{headerName:O.columnName.ROUTE,headerTooltip:O.columnName.ROUTE,field:"Route",tooltipField:"Route",width:300,alignLeft:!0},{headerName:O.columnName.CY,headerTooltip:O.columnName.CY,field:"CY",tooltipField:"CY_AB",sortable:!0,comparator:i.customSorting,sort:"desc"},{headerName:O.columnName.LY,headerTooltip:O.columnName.LY,field:"LY",tooltipField:"LY_AB",sortable:!0,comparator:i.customSorting},{headerName:O.columnName.VLY,headerTooltip:O.columnName.VLY,field:"VLY",tooltipField:"VLY_AB",cellRenderer:function(e){return i.arrowIndicator(e)},sortable:!0,comparator:i.customSorting},{headerName:O.columnName.VTG,headerTooltip:O.columnName.VTG,field:"VTG",tooltipField:"VTG_AB",width:250,cellRenderer:function(e){return i.arrowIndicator(e)},sortable:!0,comparator:i.customSorting}],a=[],n=i;return e.data.response.forEach((function(e){a.push({Route:e.Routes,CY:n.convertZeroValueToBlank(e.CY),LY:n.convertZeroValueToBlank(e.LY),VLY:n.convertZeroValueToBlank(e.VLY),VTG:n.convertZeroValueToBlank(e.VTG),CY_AB:window.numberWithCommas(e.CY),LY_AB:window.numberWithCommas(e.LY),VLY_AB:window.numberWithCommas(e.VLY),VTG_AB:window.numberWithCommas(e.VTG)})})),[{columnName:t,rowData:a}]})).catch((function(e){console.log(e)}))}},{key:"getRouteCards",value:function(e,t,a,n,o,r){var l=this.getDefaultHeader(),i="".concat(he,"/routecards?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r));return v.a.get(i,l).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getSurplusDeficitBarChart",value:function(e,t,a,n,o,r,l){var i="".concat(he,"/rpsurplusdeficit?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r),"&trend=").concat(l);return v.a.get(i,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getBreakevenLoadFactorAvgBarChart",value:function(e,t,a,n,o,r,l,i){var c="".concat(he,"/rploadfactororavgfare?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r),"&trend=").concat(l,"&graphDropdown=").concat(i);return v.a.get(c,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getCaskRaskBarChart",value:function(e,t,a,n,o,r,l,i){var c="".concat(he,"/rpcaskorrask?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r),"&trend=").concat(l,"&graphDropdown=").concat(i);return v.a.get(c,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getForexFuelBarChart",value:function(e,t,a,n,o,r,l,i){var c="".concat(he,"/rpforexorfuel?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r),"&trend=").concat(l,"&graphDropdown=").concat(i);return v.a.get(c,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getRouteProfitabilityCards",value:function(e,t,a,n,o,r){var l=this.getDefaultHeader(),i="".concat(he,"/rpcards?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r));return v.a.get(i,l).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getAircraftPerformance",value:function(e,t,a,n,o,r,l,i){var c=this,s=this,u="selectedRouteGroup=".concat(a,"&").concat(ve(e,t,n,o,l),"&viewBy=").concat(i),d="".concat(he,"/rpaircraftperformance?").concat(u),m=!!i.includes("C");return v.a.get(d,this.getDefaultHeader()).then((function(e){var t=[{headerName:O.columnName.Aircraft_Type,headerTooltip:"Aircraft_Type",field:"Aircraft_Type",tooltipField:"Aircraft_Type",width:300,alignLeft:!0},{headerName:O.columnName.CY,headerTooltip:"CY",field:"CY",tooltipField:"CY_AB",sortable:!0,comparator:c.customSorting,sort:"desc"},{headerName:O.columnName.VLY,headerTooltip:"VLY(%)",field:"VLY",tooltipField:"VLY_AB",width:250,cellRenderer:m?c.costArrowIndicator:c.arrowIndicator,sortable:!0,comparator:c.customSorting},{headerName:"VBGT",headerTooltip:"VBGT",field:"VTG",tooltipField:"VTG_AB",cellRenderer:m?c.costArrowIndicator:c.arrowIndicator,sortable:!0,comparator:c.customSorting}],a=[];e.data.response[0].TableData.forEach((function(e){a.push({Aircraft_Type:e.Aircraft,CY:s.convertZeroValueToBlank(e.CY),VTG:s.convertZeroValueToBlank(e.VTG),VLY:s.convertZeroValueToBlank(e.VLY),CY_AB:window.numberWithCommas(e.CY),VTG_AB:window.numberWithCommas(e.VTG),VLY_AB:window.numberWithCommas(e.VLY)})}));var n=[];return e.data.response[0].Total.forEach((function(e){n.push({Aircraft_Type:"Total",CY:s.convertZeroValueToBlank(e.CY),VTG:s.convertZeroValueToBlank(e.VTG),VLY:s.convertZeroValueToBlank(e.VLY),CY_AB:window.numberWithCommas(e.CY),VTG_AB:window.numberWithCommas(e.VTG),VLY_AB:window.numberWithCommas(e.VLY)})})),[{columnName:t,ancillaryDetails:a,totalData:n}]})).catch((function(e){console.log(e)}))}},{key:"getRouteRegionPerformanceTable",value:function(e,t,a,n,o,r,l){var i=this,c="".concat(he,"/rpregionperformance?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r),"&viewBy=").concat(l),s=!!l.includes("C");return v.a.get(c,this.getDefaultHeader()).then((function(e){var t=e.data.response[0].ColumnName,a=[{headerName:t,headerTooltip:t,field:"ColumnName",tooltipField:"ColumnName",width:300,alignLeft:!0},{headerName:O.columnName.CY,headerTooltip:"CY",field:"CY",tooltipField:"CY_AB",sortable:!0,comparator:i.customSorting,sort:"desc"},{headerName:O.columnName.VLY,headerTooltip:"VLY(%)",field:"VLY",tooltipField:"VLY_AB",width:250,cellRenderer:s?i.costArrowIndicator:i.arrowIndicator,sortable:!0,comparator:i.customSorting},{headerName:"VBGT",headerTooltip:"VBGT",field:"VTG",tooltipField:"VTG_AB",cellRenderer:s?i.costArrowIndicator:i.arrowIndicator,sortable:!0,comparator:i.customSorting}],n=i,o=[];e.data.response[0].Data.forEach((function(e){o.push({ColumnName:e.ColumnName,CY:n.convertZeroValueToBlank(e.CY),VTG:n.convertZeroValueToBlank(e.VTG),VLY:n.convertZeroValueToBlank(e.VLY),CY_AB:window.numberWithCommas(e.CY),VTG_AB:window.numberWithCommas(e.VTG),VLY_AB:window.numberWithCommas(e.VLY)})}));var r=[];return e.data.response[0].Total.forEach((function(e){r.push({ColumnName:"Total",CY:n.convertZeroValueToBlank(e.CY),VTG:n.convertZeroValueToBlank(e.VTG),VLY:n.convertZeroValueToBlank(e.VLY),CY_AB:window.numberWithCommas(e.CY),VTG_AB:window.numberWithCommas(e.VTG),VLY_AB:window.numberWithCommas(e.VLY)})})),[{columnName:a,rowData:o,totalData:r,tableHead:t}]})).catch((function(e){console.log(e)}))}},{key:"getTopTenRouteBudgetTable",value:function(e,t,a,n,o,r,l){var i=this,c="".concat(he,"/rptop10routes?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r),"&viewBy=").concat(l),s=!!l.includes("C");return v.a.get(c,this.getDefaultHeader()).then((function(e){var t=[{headerName:O.columnName.ROUTE,headerTooltip:O.columnName.ROUTE,field:"Route",tooltipField:"Route",width:300,alignLeft:!0},{headerName:O.columnName.CY,headerTooltip:"CY",field:"CY",tooltipField:"CY_AB",sortable:!0,comparator:i.customSorting,sort:"desc"},{headerName:O.columnName.VLY,headerTooltip:"VLY(%)",field:"VLY",tooltipField:"VLY_AB",width:250,cellRenderer:s?i.costArrowIndicator:i.arrowIndicator,sortable:!0,comparator:i.customSorting},{headerName:"VBGT",headerTooltip:"VBGT",field:"VTG",tooltipField:"VTG_AB",cellRenderer:s?i.costArrowIndicator:i.arrowIndicator,sortable:!0,comparator:i.customSorting}],a=[],n=i;return e.data.response.forEach((function(e){a.push({Route:e.Route,CY:n.convertZeroValueToBlank(e.CY),VTG:n.convertZeroValueToBlank(e.VTG),VLY:n.convertZeroValueToBlank(e.VLY),CY_AB:window.numberWithCommas(e.CY),VTG_AB:window.numberWithCommas(e.VTG),VLY_AB:window.numberWithCommas(e.VLY)})})),[{columnName:t,rowData:a}]})).catch((function(e){console.log(e)}))}},{key:"getRevenueBudgetChart",value:function(e,t,a,n,o,r,l){var i="".concat(he,"/routerevenuemultibarchart?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r),"&trend=").concat(l);return v.a.get(i,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getRaskBudgetChart",value:function(e,t,a,n,o,r,l){var i="".concat(he,"/routeraskmultibarchart?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r),"&trend=").concat(l);return v.a.get(i,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getYeildBudgetChart",value:function(e,t,a,n,o,r,l){var i="".concat(he,"/routeyieldmultibarchart?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r),"&trend=").concat(l);return v.a.get(i,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getLoadFactorBudgetChart",value:function(e,t,a,n,o,r,l){var i="".concat(he,"/routeloadfactormultibarchart?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r),"&trend=").concat(l);return v.a.get(i,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getRegionBudgetTable",value:function(e,t,a,n,o,r){var l=this,i="".concat(he,"/routeregionwisetable?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r));return v.a.get(i,this.getDefaultHeader()).then((function(e){var t=e.data.response[0].ColumnName,a=[{headerName:t,headerTooltip:t,field:"ColumnName",tooltipField:"ColumnName",width:300,alignLeft:!0},{headerName:O.columnName.BUDGET,headerTooltip:"Budget",field:"Budget",tooltipField:"Budget_AB",sortable:!0,comparator:l.customSorting,sort:"desc"},{headerName:O.columnName.LY,headerTooltip:"LY",field:"LY",tooltipField:"LY_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.VLY,headerTooltip:"VLY(%)",field:"VLY",tooltipField:"VLY_AB",width:250,cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting}],n=l,o=[];e.data.response[0].Data.forEach((function(e){o.push({ColumnName:e.ColumnName,Budget:n.convertZeroValueToBlank(e.CY),LY:n.convertZeroValueToBlank(e.LY),VLY:n.convertZeroValueToBlank(e.VTG),Budget_AB:window.numberWithCommas(e.CY),LY_AB:window.numberWithCommas(e.LY),VLY_AB:window.numberWithCommas(e.VTG)})}));var r=[];return e.data.response[0].Total.forEach((function(e){r.push({ColumnName:"Total",Budget:n.convertZeroValueToBlank(e.CY),LY:n.convertZeroValueToBlank(e.LY),VLY:n.convertZeroValueToBlank(e.VTG),Budget_AB:window.numberWithCommas(e.CY),LY_AB:window.numberWithCommas(e.LY),VLY_AB:window.numberWithCommas(e.VTG)})})),[{columnName:a,rowData:o,totalData:r,tableHead:t}]})).catch((function(e){console.log(e)}))}},{key:"getRouteBudgetTable",value:function(e,t,a,n,o,r,l){var i=this,c="".concat(he,"/routetop5routestable?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r),"&toporbottom=").concat(l);return v.a.get(c,this.getDefaultHeader()).then((function(e){var t=[{headerName:O.columnName.ROUTE,headerTooltip:O.columnName.ROUTE,field:"Route",tooltipField:"Route",width:300,alignLeft:!0},{headerName:O.columnName.BUDGET,headerTooltip:"Budget",field:"Budget",tooltipField:"Budget_AB",sortable:!0,comparator:i.customSorting,sort:"desc"},{headerName:O.columnName.LY,headerTooltip:"LY",field:"LY",tooltipField:"LY_AB",sortable:!0,comparator:i.customSorting},{headerName:O.columnName.VLY,headerTooltip:"VLY(%)",field:"VLY",tooltipField:"VLY_AB",width:250,cellRenderer:function(e){return i.arrowIndicator(e)},sortable:!0,comparator:i.customSorting}],a=[],n=i;return e.data.response.forEach((function(e){a.push({Route:e.Routes,Budget:n.convertZeroValueToBlank(e.CY),LY:n.convertZeroValueToBlank(e.LY),VLY:n.convertZeroValueToBlank(e.VLY),Budget_AB:window.numberWithCommas(e.CY),LY_AB:window.numberWithCommas(e.LY),VLY_AB:window.numberWithCommas(e.VLY)})})),[{columnName:t,rowData:a}]})).catch((function(e){console.log(e)}))}},{key:"getRouteBudgetCards",value:function(e,t,a,n,o,r){var l=this.getDefaultHeader(),i="".concat(he,"/routecards?selectedRouteGroup=").concat(a,"&").concat(ve(e,t,n,o,r));return v.a.get(i,l).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getODsBudgetChart",value:function(e,t,a,n,o){var r="".concat(he,"/postop5ODsmultibarchart?").concat(fe(e,t,a,n,o));return v.a.get(r,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getAgentsBudgetChart",value:function(e,t,a,n,o){var r="".concat(he,"/postop10agentsmultibarchart?").concat(fe(e,t,a,n,o));return v.a.get(r,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getRegionBudgetChart",value:function(e,t,a,n,o){var r="".concat(he,"/posperformanceview?").concat(fe(e,t,a,n,o));return v.a.get(r,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getTargetRationaltChart",value:function(e,t,a,n,o){var r="".concat(he,"/possegmentationbarchart?").concat(fe(e,t,a,n,o));return v.a.get(r,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getSalesAnalysisBudgetChart",value:function(e,t,a,n,o,r,l,i){var c="".concat(he,"/possalesanalysis?").concat(fe(e,t,a,n,o),"&trend=").concat(r,"&graphType=").concat(l,"&graphCategory=").concat(i);return v.a.get(c,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getChannelBudgetTable",value:function(e,t,a,n,o){var r=this,l="".concat(he,"/poschannelperformanceview?").concat(fe(e,t,a,n,o));return v.a.get(l,this.getDefaultHeader()).then((function(e){var t=[{headerName:O.columnName.CHANNEL,headerTooltip:"Channel",field:"Channel",tooltipField:"Channel",width:300,alignLeft:!0},{headerName:O.columnName.BUDGET,headerTooltip:"Budget",field:"Budget",tooltipField:"Budget_AB",sortable:!0,comparator:r.customSorting,sort:"desc"},{headerName:O.columnName.LY,headerTooltip:"LY",field:"LY",tooltipField:"LY_AB",sortable:!0,comparator:r.customSorting},{headerName:O.columnName.VLY,headerTooltip:"VLY(%)",field:"VLY",tooltipField:"VLY_AB",width:250,cellRenderer:function(e){return r.arrowIndicator(e)},sortable:!0,comparator:r.customSorting}],a=r,n=[];e.data.response[0].TableData.forEach((function(e){n.push({Channel:e.ChannelName,Budget:a.convertZeroValueToBlank(e.Revenue_CY),LY:a.convertZeroValueToBlank(e.Revenue_LY),VLY:a.convertZeroValueToBlank(e.VTG),Budget_AB:window.numberWithCommas(e.Revenue_CY),LY_AB:window.numberWithCommas(e.Revenue_LY),VLY_AB:window.numberWithCommas(e.VTG)})}));var o=[];return e.data.response[0].Total.forEach((function(e){o.push({Channel:"Total",Budget:a.convertZeroValueToBlank(e.Revenue_CY),LY:a.convertZeroValueToBlank(e.Revenue_LY),VLY:a.convertZeroValueToBlank(e.VTG),Budget_AB:window.numberWithCommas(e.Revenue_CY),LY_AB:window.numberWithCommas(e.Revenue_LY),VLY_AB:window.numberWithCommas(e.VTG)})})),[{columnName:t,rowData:n,totalData:o}]})).catch((function(e){console.log(e)}))}},{key:"getODBudgetTable",value:function(e,t,a,n,o){var r=this,l="".concat(he,"/posmarketsharetable?").concat(fe(e,t,a,n,o));return v.a.get(l,this.getDefaultHeader()).then((function(e){var t=[{headerName:O.columnName.OD,headerTooltip:"OD",field:"OD",tooltipField:"OD",width:300,alignLeft:!0},{headerName:"BGT",headerTooltip:"BGT",field:"BGT",tooltipField:"BGT_AB",sortable:!0,comparator:r.customSorting,sort:"desc"},{headerName:O.columnName.VLY,headerTooltip:"VLY(%)",field:"VLY_CA",tooltipField:"VLY_CA_AB",cellRenderer:function(e){return r.arrowIndicator(e)},sortable:!0,comparator:r.customSorting},{headerName:"CALMS",headerTooltip:"CALMS",field:"CALMS",tooltipField:"CALMS_AB",sortable:!0,comparator:r.customSorting}],a=[],n=r;return e.data.response.forEach((function(e){a.push({OD:e.OD,BGT:n.convertZeroValueToBlank(e.CMSV_CY),CALMS:n.convertZeroValueToBlank(e.CALMS_CY),VLY_CA:n.convertZeroValueToBlank(e.CALMS_VLY),BGT_AB:window.numberWithCommas(e.CMSV_CY),CALMS_AB:window.numberWithCommas(e.CALMS_CY),VLY_CA_AB:window.numberWithCommas(e.CALMS_VLY)})})),[{columnName:t,rowData:a}]})).catch((function(e){console.log(e)}))}},{key:"getPRPIndicatorsData",value:function(e,t,a,n,o,r,l,i){var c=this.getDefaultHeader(),s="",u=null;"Pos"===i?(s="posytd",u=fe(e,t,n,o,r)):("Route"===i||"Route Revenue Planning"===i||"Route Profitability"===i)&&(s="routeytd",u="selectedRouteGroup=".concat(a,"&").concat(ve(e,t,n,o,l)));var d="".concat(he,"/").concat(s,"?").concat(u);return v.a.get(d,c).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getIncrementalRO",value:function(e,t,a,n,o,r){var l=this,i="".concat(he,"/revenueopportunity?getYear=").concat(e,"&gettingMonth=").concat(t,"&").concat(we(a,n,o),"&currencyType=").concat(r);return v.a.get(i,this.getDefaultHeader()).then((function(e){var t=[{headerName:"",children:[{headerName:O.columnName.CHANNEL,field:"Channel",alignLeft:!0}]},{headerName:"",children:[{headerName:O.columnName.RO,field:"RO",tooltipField:"RO_AB",sortable:!0,comparator:l.customSorting,sort:"desc"}]},{headerName:O.columnName.SALES,children:[{headerName:O.columnName.CY,field:"CY_Sales",tooltipField:"CY_Sales_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.YOY_PERCENTAGE,field:"YOY_Sales",tooltipField:"YOY_Sales_AB",cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting}]},{headerName:O.columnName.BOOKINGS,children:[{headerName:O.columnName.CY,field:"CY_B",tooltipField:"CY_B_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.YOY_PERCENTAGE,field:"YOY_B",tooltipField:"YOY_B_AB",cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting}]},{headerName:O.columnName.MARKET_SHARE,children:[{headerName:O.columnName.CY,field:"CY_MS",tooltipField:"CY_MS_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.YOY_PERCENTAGE,field:"YOY_MS",tooltipField:"YOY_MS_AB",cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting}]}],a=[],n=l;e.data.response[0].TableData.forEach((function(e){a.push({Channel:e.ChannelName,RO:"BC"===r?n.convertZeroValueToBlank(e.RO_BaseCurrency):n.convertZeroValueToBlank(e.RO_LocalCurrency),CY_Sales:"BC"===r?n.convertZeroValueToBlank(e.CY_Revenue_BaseCurrency):n.convertZeroValueToBlank(e.CY_Revenue_LocalCurrency),YOY_Sales:"BC"===r?n.convertZeroValueToBlank(e.VLY_Revenue_BaseCurrency):n.convertZeroValueToBlank(e.VLY_Revenue_LocalCurrency),CY_B:n.convertZeroValueToBlank(e.Bookings_CY),LY_B:n.convertZeroValueToBlank(e.Bookings_LY),YOY_B:n.convertZeroValueToBlank(e.Bookings_YOY),CY_MS:n.convertZeroValueToBlank(e.Share_CY),YOY_MS:n.convertZeroValueToBlank(e.Share_YOY),RO_AB:"BC"===r?window.numberWithCommas(e.RO_BaseCurrency):window.numberWithCommas(e.RO_LocalCurrency),CY_Sales_AB:"BC"===r?window.numberWithCommas(e.CY_Revenue_BaseCurrency):window.numberWithCommas(e.CY_Revenue_LocalCurrency),YOY_Sales_AB:"BC"===r?window.numberWithCommas(e.VLY_Revenue_BaseCurrency):window.numberWithCommas(e.VLY_Revenue_LocalCurrency),CY_B_AB:window.numberWithCommas(e.Bookings_CY),LY_B_AB:window.numberWithCommas(e.Bookings_LY),YOY_B_AB:window.numberWithCommas(e.Bookings_YOY),CY_MS_AB:window.numberWithCommas(e.Share_CY),YOY_MS_AB:window.numberWithCommas(e.Share_YOY)})}));var o=[];return e.data.response[0].Total.forEach((function(e){o.push({Channel:"Total",RO:"BC"===r?n.convertZeroValueToBlank(e.RO_BaseCurrency):n.convertZeroValueToBlank(e.RO_LocalCurrency),CY_Sales:"BC"===r?n.convertZeroValueToBlank(e.CY_Revenue_BaseCurrency):n.convertZeroValueToBlank(e.CY_Revenue_LocalCurrency),YOY_Sales:"BC"===r?n.convertZeroValueToBlank(e.VLY_Revenue_BaseCurrency):n.convertZeroValueToBlank(e.VLY_Revenue_LocalCurrency),CY_B:n.convertZeroValueToBlank(e.Bookings_CY),LY_B:n.convertZeroValueToBlank(e.Bookings_LY),YOY_B:n.convertZeroValueToBlank(e.Bookings_YOY),CY_MS:n.convertZeroValueToBlank(e.Share_CY),YOY_MS:n.convertZeroValueToBlank(e.Share_YOY),RO_AB:"BC"===r?window.numberWithCommas(e.RO_BaseCurrency):window.numberWithCommas(e.RO_LocalCurrency),CY_Sales_AB:"BC"===r?window.numberWithCommas(e.CY_Revenue_BaseCurrency):window.numberWithCommas(e.CY_Revenue_LocalCurrency),YOY_Sales_AB:"BC"===r?window.numberWithCommas(e.VLY_Revenue_BaseCurrency):window.numberWithCommas(e.VLY_Revenue_LocalCurrency),CY_B_AB:window.numberWithCommas(e.Bookings_CY),LY_B_AB:window.numberWithCommas(e.Bookings_LY),YOY_B_AB:window.numberWithCommas(e.Bookings_YOY),CY_MS_AB:window.numberWithCommas(e.Share_CY),YOY_MS_AB:window.numberWithCommas(e.Share_YOY)})})),[{columnName:t,rowData:a,totalData:o}]})).catch((function(e){console.log(e)}))}},{key:"getTopAgentWithOD",value:function(e,t,a,n,o,r){var l=this,i="".concat(he,"/topagentandtopOD?").concat(we(a,n,o),"&getYear=").concat(e,"&gettingMonth=").concat(t,"&currencyType=").concat(r);return v.a.get(i,this.getDefaultHeader()).then((function(e){var t=[{headerName:"",children:[{headerName:O.columnName.OD,field:"OD",alignLeft:!0}]},{headerName:"",children:[{headerName:O.columnName.RO,field:"RO",tooltipField:"RO_AB",sortable:!0,comparator:l.customSorting,sort:"desc"}]},{headerName:O.columnName.SALES,children:[{headerName:O.columnName.REVENUE,field:"Revenue",tooltipField:"Revenue_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.YOY_PERCENTAGE,field:"YOY_Rev",tooltipField:"YOY_Rev_AB",cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting},{headerName:O.columnName.PASSENGER,field:"Pax",tooltipField:"Pax_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.YOY_PERCENTAGE,field:"YOY_Pax",tooltipField:"YOY_Pax_AB",cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting}]},{headerName:"",children:[{headerName:O.columnName.AVERAGE_FARE_$,field:"AvgFare",tooltipField:"AvgFare_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.YOY_PERCENTAGE,field:"YOY_Avg",tooltipField:"YOY_Avg_AB",cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting}]},{headerName:O.columnName.BOOKINGS,children:[{headerName:O.columnName.FIT,field:"FIT",tooltipField:"FIT_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.YOY_PERCENTAGE,field:"YOY_FIT",tooltipField:"YOY_FIT_AB",cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting},{headerName:O.columnName.GIT,field:"GIT",tooltipField:"GIT_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.YOY_PERCENTAGE,field:"YOY_GIT",tooltipField:"YOY_GIT_AB",cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting}]},{headerName:O.columnName.MARKET_SHARE,children:[{headerName:O.columnName.SHARE,field:"Share",tooltipField:"Share_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.YOY_PERCENTAGE,field:"YOY_Share",tooltipField:"YOY_Share_AB",cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting}]}],a=e.data.response;return console.log("rahul",a),a.forEach((function(e){e.Data.forEach((function(e){return e.OD=e.OD,e.RO="BC"===r?l.convertZeroValueToBlank(e.RO_BaseCurrency):l.convertZeroValueToBlank(e.RO_LocalCurrency),e.Revenue="BC"===r?l.convertZeroValueToBlank(e.CY_Revenue_BaseCurrency):l.convertZeroValueToBlank(e.CY_Revenue_LocalCurrency),e.YOY_Rev="BC"===r?l.convertZeroValueToBlank(e.VLY_Revenue_BaseCurrency):l.convertZeroValueToBlank(e.VLY_Revenue_LocalCurrency),e.Pax=l.convertZeroValueToBlank(e.TotalPassenger_CY),e.YOY_Pax=l.convertZeroValueToBlank(e.YOY_Pax),e.AvgFare="BC"===r?l.convertZeroValueToBlank(e.BaseCurrency_AvgFare_CY):l.convertZeroValueToBlank(e.LocalCurrency_AvgFare_CY),e.YOY_Avg="BC"===r?l.convertZeroValueToBlank(e.VLY_BaseCurrency_Avg):l.convertZeroValueToBlank(e.VLY_LocalCurrency_Avg),e.FIT=l.convertZeroValueToBlank(e.FIT),e.YOY_FIT=l.convertZeroValueToBlank(e.YOY_FIT),e.GIT=l.convertZeroValueToBlank(e.GIT),e.YOY_GIT=l.convertZeroValueToBlank(e.YOY_GIT),e.Share=l.convertZeroValueToBlank(e.Share),e.YOY_Share=l.convertZeroValueToBlank(e.YOY_Share),e.RO_AB="BC"===r?window.numberWithCommas(e.RO_BaseCurrency):window.numberWithCommas(e.RO_LocalCurrency),e.Revenue_AB="BC"===r?window.numberWithCommas(e.CY_Revenue_BaseCurrency):window.numberWithCommas(e.CY_Revenue_LocalCurrency),e.YOY_Rev_AB="BC"===r?window.numberWithCommas(e.VLY_Revenue_BaseCurrency):window.numberWithCommas(e.VLY_Revenue_LocalCurrency),e.Pax_AB=window.numberWithCommas(e.TotalPassenger_CY),e.YOY_Pax_AB=window.numberWithCommas(e.YOY_Pax),e.AvgFare_AB="BC"===r?window.numberWithCommas(e.BaseCurrency_AvgFare_CY):window.numberWithCommas(e.LocalCurrency_AvgFare_CY),e.YOY_Avg_AB="BC"===r?window.numberWithCommas(e.VLY_BaseCurrency_Avg):window.numberWithCommas(e.VLY_LocalCurrency_Avg),e.FIT_AB=window.numberWithCommas(e.FIT),e.YOY_FIT_AB=window.numberWithCommas(e.YOY_FIT),e.GIT_AB=window.numberWithCommas(e.GIT),e.YOY_GIT_AB=window.numberWithCommas(e.YOY_GIT),e.Share_AB=window.numberWithCommas(e.Share),e.YOY_Share_AB=window.numberWithCommas(e.YOY_Share)}))})),console.log("rahul",a),[{columnName:t,rowData:a}]})).catch((function(e){console.log("rahul error",e)}))}},{key:"getRealTimeRevenueMultilineChart",value:function(e){var t="".concat(he,"/realtimerevenueMultiline?Xaxis=").concat(e);return v.a.get(t,this.getDefaultHeader()).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"getInFareMultilineChart",value:function(e,t,a,n){var o="".concat(he,"/infaremultiline?regionId=").concat(e,"&countryId=").concat(t,"&cityId=").concat(a,"&time=").concat(n);return v.a.get(o,this.getDefaultHeader()).then((function(e){return e.data})).catch((function(e){}))}},{key:"getRegionWisePerformance",value:function(e,t,a,n){var o="".concat(he,"/performanceview?regionId=").concat(e,"&countryId=").concat(t,"&cityId=").concat(a,"&commonOD=").concat(n);return v.a.get(o,this.getDefaultHeader()).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"gettop5ODsBarChart",value:function(e,t,a,n,o){var r="".concat(he,"/top5ODsMultiBarchart?gettingMonth=").concat(e,"&regionId=").concat(t,"&countryId=").concat(a,"&cityId=").concat(n,"&commonOD=").concat(o);return v.a.get(r,this.getDefaultHeader()).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"getChannelWisePerformPivot",value:function(e,t,a){var n=this,o="".concat(he,"/channelperformanceview?regionId=").concat(e,"&countryId=").concat(t,"&cityId=").concat(a);return v.a.get(o,this.getDefaultHeader()).then((function(e){var t=[{headerName:O.columnName.CHANNEL,field:"Channel",width:300},{headerName:O.columnName.CY,field:"CY"},{headerName:O.columnName.LY,field:"LY"},{headerName:O.columnName.VLY,field:"VLY",cellRenderer:function(e){return n.arrowIndicator(e)},width:250}],a=[],o=n;return e.data.forEach((function(e){a.push({Channel:e.ChannelName,CY:o.convertZeroValueToBlank(e.Revenue_CY),LY:o.convertZeroValueToBlank(e.Revenue_LY),VLY:o.convertZeroValueToBlank(e.Revenue_VLY)})})),[{columnName:t,channelwiseperformtableDatas:a}]})).catch((function(e){console.log(e)}))}},{key:"getDemographyTop10Routes",value:function(e,t,a,n,o,r){var l="".concat(he,"/top20InternDomRouteSearch?").concat(fe(e,t,a,n,o),"&graphType=").concat(r);return v.a.get(l,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getDemographyTop20LocationVisitors",value:function(e,t,a,n,o){var r="".concat(he,"/top20GeoGraphicLocationVisitor?").concat(fe(e,t,a,n,o));return v.a.get(r,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getDemographyUniqueVisitors",value:function(e,t,a,n,o,r){var l="".concat(he,"/UniqueVisitorBoughtDropout?").concat(fe(e,t,a,n,o),"&graphType=").concat(r);return v.a.get(l,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getDemographyAgeGroupData",value:function(e,t,a,n,o,r){var l="".concat(he,"/AgeGroupGraph?").concat(fe(e,t,a,n,o),"&graphType=").concat(r);return v.a.get(l,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getDemographyTop10Routes",value:function(e,t,a,n,o,r){var l="".concat(he,"/top20InternDomRouteSearch?").concat(fe(e,t,a,n,o),"&graphType=").concat(r);return v.a.get(l,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getDemographyTop20LocationVisitors",value:function(e,t,a,n,o){var r="".concat(he,"/top20GeoGraphicLocationVisitor?").concat(fe(e,t,a,n,o));return v.a.get(r,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getDemographyUniqueVisitors",value:function(e,t,a,n,o,r){var l="".concat(he,"/UniqueVisitorBoughtDropout?").concat(fe(e,t,a,n,o),"&graphType=").concat(r);return v.a.get(l,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getDemographyAgeGroupData",value:function(e,t,a,n,o,r){var l="".concat(he,"/AgeGroupGraph?").concat(fe(e,t,a,n,o),"&graphType=").concat(r);return v.a.get(l,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getDemoBottomCards",value:function(e,t,a,n,o){var r=this.getDefaultHeader(),l="".concat(he,"/demographicMTD?").concat(fe(e,t,a,n,o));return v.a.get(l,r).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getEnrichTiertable",value:function(e,t,a,n,o){var r=this,l="".concat(he,"/enrichTable?").concat(fe(e,t,a,n,o));return v.a.get(l,this.getDefaultHeader()).then((function(e){var t=[{headerName:"EnrichTier",headerTooltip:"EnrichTier",field:"EnrichTier",tooltipField:"EnrichTier",width:300,alignLeft:!0},{headerName:O.columnName.CY,headerTooltip:"CY",field:"CY",tooltipField:"CY_AB",sortable:!0,comparator:r.customSorting,sort:"desc"},{headerName:O.columnName.LY,headerTooltip:"LY",field:"LY",tooltipField:"LY_AB",sortable:!0,comparator:r.customSorting}],a=r,n=[];e.data.response[0].Data.forEach((function(e){n.push({EnrichTier:e.Enrich_tier,CY:a.convertZeroValueToBlank(e.CY),LY:a.convertZeroValueToBlank(e.LY),VLY:a.convertZeroValueToBlank(e.VLY),VTG:a.convertZeroValueToBlank(e.VTG),CY_AB:window.numberWithCommas(e.CY),LY_AB:window.numberWithCommas(e.LY),VLY_AB:window.numberWithCommas(e.VLY),VTG_AB:window.numberWithCommas(e.VTG)})}));var o=[];return e.data.response[0].Total.forEach((function(e){o.push({EnrichTier:"Total",CY:a.convertZeroValueToBlank(e.CY),LY:a.convertZeroValueToBlank(e.LY),VLY:a.convertZeroValueToBlank(e.VLY),VTG:a.convertZeroValueToBlank(e.VTG),CY_AB:window.numberWithCommas(e.CY),LY_AB:window.numberWithCommas(e.LY),VLY_AB:window.numberWithCommas(e.VLY),VTG_AB:window.numberWithCommas(e.VTG)})})),[{columnName:t,rowData:n,totalData:o}]})).catch((function(e){console.log(e)}))}},{key:"getNationalityTableItems",value:function(e,t,a,n,o,r,l,i){var c=this,s=i?fe(e,t,n,o,r):"selectedRouteGroup=".concat(a,"&").concat(ve(e,t,n,o,l)),u="".concat(he,"/nationalityTable?").concat(s);return v.a.get(u,this.getDefaultHeader()).then((function(e){var t=[{headerName:"Nationality",headerTooltip:"Nationality",field:"Nationality",tooltipField:"Nationality",width:300,alignLeft:!0},{headerName:O.columnName.CY,headerTooltip:"CY",field:"CY",tooltipField:"CY_AB",sortable:!0,comparator:c.customSorting,sort:"desc"},{headerName:O.columnName.LY,headerTooltip:"LY",field:"LY",tooltipField:"LY_AB",sortable:!0,comparator:c.customSorting}],a=[];e.data.response[0].Data.forEach((function(e){a.push({Nationality:e.nationality,NationalityCodeName:e.AncillaryCode,CY:c.convertZeroValueToBlank(e.CY),LY:c.convertZeroValueToBlank(e.LY),VLY:c.convertZeroValueToBlank(e.VLY),VTG:c.convertZeroValueToBlank(e.VTG),CY_AB:window.numberWithCommas(e.CY),LY_AB:window.numberWithCommas(e.LY),VLY_AB:window.numberWithCommas(e.VLY),VTG_AB:window.numberWithCommas(e.VTG)})}));var n=[];return e.data.response[0].Total.forEach((function(e){n.push({Nationality:"Total",NationalityCodeName:e.AncillaryCode,CY:c.convertZeroValueToBlank(e.CY),LY:c.convertZeroValueToBlank(e.LY),VLY:c.convertZeroValueToBlank(e.VLY),VTG:c.convertZeroValueToBlank(e.VTG),CY_AB:window.numberWithCommas(e.CY),LY_AB:window.numberWithCommas(e.LY),VLY_AB:window.numberWithCommas(e.VLY),VTG_AB:window.numberWithCommas(e.VTG)})})),[{columnName:t,ancillaryDetails:a,totalData:n}]})).catch((function(e){console.log(e)}))}},{key:"getFlightPurchaseTable",value:function(e,t,a,n,o){var r=this,l="".concat(he,"/AFPTable?").concat(fe(e,t,a,n,o));return v.a.get(l,this.getDefaultHeader()).then((function(e){var t=[{headerName:"Range",headerTooltip:"Range",field:"Range",tooltipField:"Range",width:200,alignLeft:!0},{headerName:"CY",headerTooltip:"CY",field:"CY",tooltipField:"CY_AB",sortable:!0,comparator:r.customSorting,sort:"desc"},{headerName:O.columnName.LY,headerTooltip:"LY",field:"LY",tooltipField:"LY_AB",cellRenderer:function(e){return r.arrowIndicator(e)},sortable:!0,comparator:r.customSorting}],a=[],n=r;e.data.response[0].Data.forEach((function(e){a.push({Range:e.AFP_Range,CY:n.convertZeroValueToBlank(e.CY),LY:n.convertZeroValueToBlank(e.LY),CY_AB:window.numberWithCommas(e.CY),LY_AB:window.numberWithCommas(e.LY)})}));var o=[];return e.data.response[0].Total.forEach((function(e){o.push({Range:"Total",CY:n.convertZeroValueToBlank(e.CY),LY:n.convertZeroValueToBlank(e.LY),CY_AB:window.numberWithCommas(e.CY),LY_AB:window.numberWithCommas(e.LY)})})),[{columnName:t,rowData:a,totalData:o}]})).catch((function(e){console.log(e)}))}},{key:"getDemographyMonthTables",value:function(e,t,a,n,o,r,l,i){var c=this,s="".concat(he,"/DemographyMonthly?").concat(De(t,a,i),"&commonOD=").concat(U(n),"&cabinId=").concat(U(o),"&customerSegment=").concat(r,"&enrich=").concat(l);return v.a.get(s,this.getDefaultHeader()).then((function(t){t.data.TableData.filter((function(e){return 0===e.AvgFare_TGT||null===e.AvgFare_TGT})).length,t.data.TableData.length,t.data.TableData.filter((function(e){return 0===e.Revenue_TGT||null===e.Revenue_TGT})).length,t.data.TableData.length,t.data.TableData.filter((function(e){return 0===e.Passenger_TGT||null===e.Passenger_TGT})).length,t.data.TableData.length;var a=[{headerName:"",children:[{headerName:O.columnName.MONTH,field:"Month",tooltipField:"Month",width:250,alignLeft:!0,underline:!0}]},{headerName:"Pax(Sector)",children:[{headerName:O.columnName.CY,field:"CY_S",tooltipField:"CY_S_AB"},{headerName:O.columnName.VLY,field:"VLY_S",tooltipField:"VLY_S_AB",cellRenderer:function(e){return c.arrowIndicator(e)}}]},{headerName:"Pax(Unique)",children:[{headerName:O.columnName.CY,field:"CY_U",tooltipField:"CY_U_AB"},{headerName:O.columnName.VLY,field:"VLY_U",tooltipField:"VLY_U_AB",cellRenderer:function(e){return c.arrowIndicator(e)}}]},{headerName:O.columnName.REVENUE_$,children:[{headerName:O.columnName.CY,field:"CY_R",tooltipField:"CY_R_AB"},{headerName:O.columnName.VLY,field:"VLY_R",tooltipField:"VLY_R_AB",cellRenderer:function(e){return c.arrowIndicator(e)}}]}],n=t.data.TableData.filter((function(e){return e.Year===ge-1})),o=t.data.TableData.filter((function(e){return e.Year===ge})),r=t.data.TableData.filter((function(e){return e.Year===ge+1})),l=[].concat(Object(I.a)(t.data.Total_LY),Object(I.a)(n),Object(I.a)(o),Object(I.a)(t.data.Total_NY),Object(I.a)(r)),i=[];l.forEach((function(t){i.push({Month:null===t.MonthName?"---":t.MonthName,CY_S:c.convertZeroValueToBlank(t.PaxSector_CY),VLY_S:c.convertZeroValueToBlank(t.PaxSector_VLY),CY_U:c.convertZeroValueToBlank(t.PaxUnique_CY),VLY_U:c.convertZeroValueToBlank(t.PaxUnique_VLY),CY_R:"lc"===e?c.convertZeroValueToBlank(t.LocalRevenue_CY):c.convertZeroValueToBlank(t.Revenue_CY),VLY_R:"lc"===e?c.convertZeroValueToBlank(t.LocalRevenue_VLY):c.convertZeroValueToBlank(t.Revenue_VLY),CY_S_AB:window.numberWithCommas(t.PaxSector_CY),VLY_S_AB:window.numberWithCommas(t.PaxSector_VLY),CY_U_AB:window.numberWithCommas(t.PaxUnique_CY),VLY_U_AB:window.numberWithCommas(t.PaxUnique_VLY),CY_R_AB:"lc"===e?window.numberWithCommas(t.LocalRevenue_CY):window.numberWithCommas(t.Revenue_CY),VLY_R_AB:"lc"===e?window.numberWithCommas(t.LocalRevenue_VLY):window.numberWithCommas(t.Revenue_VLY),Year:t.Year,MonthName:t.monthfullname,isUnderline:parseInt(t.Year)==ge?t.MonthNumber>=pe:parseInt(t.Year)>ge&&t.MonthNumber<pe})})),console.log(i,a,"kmkm");var s=[];return t.data.Total_CY.forEach((function(t){s.push({Month:"Total",CY_S:c.convertZeroValueToBlank(t.PaxSector_CY),VLY_S:c.convertZeroValueToBlank(t.PaxSector_VLY),CY_U:c.convertZeroValueToBlank(t.PaxUnique_CY),VLY_U:c.convertZeroValueToBlank(t.PaxUnique_VLY),CY_R:"lc"===e?c.convertZeroValueToBlank(t.LocalRevenue_CY):c.convertZeroValueToBlank(t.Revenue_CY),VLY_R:"lc"===e?c.convertZeroValueToBlank(t.LocalRevenue_VLY):c.convertZeroValueToBlank(t.Revenue_VLY),CY_S_AB:window.numberWithCommas(t.PaxSector_CY),VLY_S_AB:window.numberWithCommas(t.PaxSector_VLY),CY_U_AB:window.numberWithCommas(t.PaxUnique_CY),VLY_U_AB:window.numberWithCommas(t.PaxUnique_VLY),CY_R_AB:"lc"===e?window.numberWithCommas(t.LocalRevenue_CY):window.numberWithCommas(t.Revenue_CY),VLY_R_AB:"lc"===e?window.numberWithCommas(t.LocalRevenue_VLY):window.numberWithCommas(t.Revenue_VLY)})})),[{columnName:a,rowData:i,totalData:s,currentAccess:t.data.CurretAccess}]})).catch((function(e){console.log(e)}))}},{key:"getDemographyDrillDownData",value:function(e,t,a,n,o,r,l,i,c,s,u){var d=this;var m="".concat(he,"/DemographyDrillDown?getYear=").concat(e,"&gettingMonth=").concat(a,"&").concat(De(n,o,s),"&commonOD=").concat(U(r),"&cabinId=").concat(U(l),"&customerSegmentId=").concat(U(i),"&enrich=").concat(c,"&type=").concat(u);return v.a.get(m,this.getDefaultHeader()).then((function(e){var a=e.data.ColumnName,n=(e.data.TableData.filter((function(e){return 0===e.AvgFare_TGT||null===e.AvgFare_TGT})).length,e.data.TableData.length,e.data.TableData.filter((function(e){return 0===e.Revenue_TGT||null===e.Revenue_TGT})).length,e.data.TableData.length,e.data.TableData.filter((function(e){return 0===e.Passenger_TGT||null===e.Passenger_TGT})).length,e.data.TableData.length,[{headerName:"",children:[{headerName:a,field:"firstColumnName",tooltipField:"firstColumnName",width:250,alignLeft:!0,underline:("Null"===u||"Nationality"===u||"Age Band"===u||"Customer Segmentation"===u)&&"Cabin Category"!==a}]},{headerName:"Pax(Sector)",children:[{headerName:O.columnName.CY,field:"CY_S",tooltipField:"CY_S_AB",hide:"Ancillary"===a,sortable:!0,comparator:d.customSorting},{headerName:O.columnName.VLY,field:"VLY_S",tooltipField:"VLY_S_AB",cellRenderer:function(e){return d.arrowIndicator(e)},hide:"Ancillary"===a,sortable:!0,comparator:d.customSorting}]},{headerName:"Pax(Unique)",children:[{headerName:O.columnName.CY,field:"CY_U",tooltipField:"CY_U_AB",hide:"Ancillary"===a,sortable:!0,comparator:d.customSorting},{headerName:O.columnName.VLY,field:"VLY_U",tooltipField:"VLY_U_AB",cellRenderer:function(e){return d.arrowIndicator(e)},hide:"Ancillary"===a,sortable:!0,comparator:d.customSorting}]},{headerName:O.columnName.REVENUE_$,children:[{headerName:O.columnName.CY,field:"CY_R",tooltipField:"CY_R_AB",hide:"Ancillary"===a,sortable:!0,comparator:d.customSorting},{headerName:O.columnName.VLY,field:"VLY_R",tooltipField:"VLY_R_AB",cellRenderer:function(e){return d.arrowIndicator(e)},hide:"Ancillary"===a,sortable:!0,comparator:d.customSorting}]}]),o=[];e.data.TableData.forEach((function(e){o.push({firstColumnName:null===e.ColumnName?"---":e.ColumnName,"":"",CY_S:d.convertZeroValueToBlank(e.PaxSector_CY),VLY_S:d.convertZeroValueToBlank(e.PaxSector_VLY),CY_U:d.convertZeroValueToBlank(e.PaxUnique_CY),VLY_U:d.convertZeroValueToBlank(e.PaxUnique_VLY),CY_R:"lc"===t?d.convertZeroValueToBlank(e.LocalRevenue_CY):d.convertZeroValueToBlank(e.Revenue_CY),VLY_R:"lc"===t?d.convertZeroValueToBlank(e.LocalRevenue_VLY):d.convertZeroValueToBlank(e.Revenue_VLY),CY_S_AB:window.numberWithCommas(e.PaxSector_CY),VLY_S_AB:window.numberWithCommas(e.PaxSector_VLY),CY_U_AB:window.numberWithCommas(e.PaxUnique_CY),VLY_U_AB:window.numberWithCommas(e.PaxUnique_VLY),CY_R_AB:"lc"===t?window.numberWithCommas(e.LocalRevenue_CY):window.numberWithCommas(e.Revenue_CY),VLY_R_AB:"lc"===t?window.numberWithCommas(e.LocalRevenue_VLY):window.numberWithCommas(e.Revenue_VLY),isAlert:e.is_alert})}));var r=[];return e.data.Total.forEach((function(e){r.push({Ancillary_Full_Name:"Total",firstColumnName:"Total",CY_S:d.convertZeroValueToBlank(e.PaxSector_CY),VLY_S:d.convertZeroValueToBlank(e.PaxSector_VLY),CY_U:d.convertZeroValueToBlank(e.PaxUnique_CY),VLY_U:d.convertZeroValueToBlank(e.PaxUnique_VLY),CY_R:"lc"===t?d.convertZeroValueToBlank(e.LocalRevenue_CY):d.convertZeroValueToBlank(e.Revenue_CY),VLY_R:"lc"===t?d.convertZeroValueToBlank(e.LocalRevenue_VLY):d.convertZeroValueToBlank(e.Revenue_VLY),CY_S_AB:window.numberWithCommas(e.PaxSector_CY),VLY_S_AB:window.numberWithCommas(e.PaxSector_VLY),CY_U_AB:window.numberWithCommas(e.PaxUnique_CY),VLY_U_AB:window.numberWithCommas(e.PaxUnique_VLY),CY_R_AB:"lc"===t?window.numberWithCommas(e.LocalRevenue_CY):window.numberWithCommas(e.Revenue_CY),VLY_R_AB:"lc"===t?window.numberWithCommas(e.LocalRevenue_VLY):window.numberWithCommas(e.Revenue_VLY),isAlert:e.is_alert})})),[{columnName:n,rowData:o,currentAccess:e.data.CurrentAccess,totalData:r,tabName:e.data.ColumnName,firstTabName:e.data.first_ColumnName}]})).catch((function(e){d.errorHandling(e)}))}},{key:"getDemographySegmentationDetails",value:function(e,t,a,n,o,r,l,i,c,s,u,d){var m=this,h="".concat(he,"/DemographySegmentationData?getYear=").concat(e,"&gettingMonth=").concat(a,"&").concat(De(n,o,u),"&commonOD=").concat(U(r),"&cabinId=").concat(U(l),"&customerSegmentId=").concat(U(i),"&enrich=").concat(s,"&customerSegmentId_1=%27").concat(c,"%27&type=").concat(d);return v.a.get(h,this.getDefaultHeader()).then((function(e){for(var t=[{headerName:"",children:[{headerName:"Segmentation",field:"Seg",tooltipField:"Seg_AB",width:300,alignLeft:!0}]},{headerName:"Pax(Sector)",children:[{headerName:O.columnName.CY,field:"CY_S",tooltipField:"CY_S_AB"},{headerName:O.columnName.VLY,field:"VLY_S",tooltipField:"VLY_S_AB",cellRenderer:function(e){return m.arrowIndicator(e)}}]},{headerName:"Pax(Unique)",children:[{headerName:O.columnName.CY,field:"CY_U",tooltipField:"CY_U_AB"},{headerName:O.columnName.VLY,field:"VLY_U",tooltipField:"VLY_U_AB",cellRenderer:function(e){return m.arrowIndicator(e)}}]},{headerName:O.columnName.REVENUE_$,children:[{headerName:O.columnName.CY,field:"CY_R",tooltipField:"CY_R_AB"},{headerName:O.columnName.VLY,field:"VLY_R",tooltipField:"VLY_R_AB",cellRenderer:function(e){return m.arrowIndicator(e)}}]}],a=[],n=e.data.response,o=n.TableData,r=n.Total,l=[],i=[],c=0,s=0;s<o.length;s++)if(a.indexOf(o[s].CustomerSegmentation_2)<0){a.push(o[s].CustomerSegmentation_2);var u=o.filter((function(e){return e.CustomerSegmentation_2===o[s].CustomerSegmentation_2}));l[c]=u;var d=r.filter((function(e){return e.CustomerSegmentation_3==="Total of "+o[s].CustomerSegmentation_2}));i[c]=d,c++}for(var h=[],g=0;g<a.length;g++){h.push(i[g][0]);for(var p=0;p<l[g].length;p++)h.push(l[g][p])}var f=[];return h.forEach((function(e){f.push({Segmentation:e.CustomerSegmentation_2,Seg:e.CustomerSegmentation_3,CY_S:m.convertZeroValueToBlank(e.PaxSector_CY),VLY_S:m.convertZeroValueToBlank(e.PaxSector_VLY),CY_U:m.convertZeroValueToBlank(e.PaxUnique_CY),VLY_U:m.convertZeroValueToBlank(e.PaxUnique_VLY),CY_R:m.convertZeroValueToBlank(e.Revenue_CY),VLY_R:m.convertZeroValueToBlank(e.Revenue_VLY),Seg_AB:e.CustomerSegmentation_3,CY_S_AB:window.numberWithCommas(e.PaxSector_CY),VLY_S_AB:window.numberWithCommas(e.PaxSector_VLY),CY_U_AB:window.numberWithCommas(e.PaxUnique_CY),VLY_U_AB:window.numberWithCommas(e.PaxUnique_VLY),CY_R_AB:window.numberWithCommas(e.Revenue_CY),VLY_R_AB:window.numberWithCommas(e.Revenue_VLY)})})),[{columnName:t,segmentData:f}]})).catch((function(e){m.errorHandling(e)}))}},{key:"getNationalityGraph",value:function(e,t,a,n,o,r,l,i,c,s,u){var d=this,m="".concat(he,"/nationalityAgeBandGraph?getYear=").concat(e,"&gettingMonth=").concat(a,"&").concat(De(n,o,c),"&commonOD=").concat(U(r),"&cabinId=").concat(U(l),"&enrich=").concat(i,"&type=").concat(s,"&Nationality=").concat(u);return v.a.get(m,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){d.errorHandling(e)}))}},{key:"getAgeBandGraph",value:function(e,t,a,n,o,r,l,i,c,s,u){var d=this,m="".concat(he,"/nationalityAgeBandGraph?getYear=").concat(e,"&gettingMonth=").concat(a,"&").concat(De(n,o,c),"&commonOD=").concat(U(r),"&cabinId=").concat(U(l),"&enrich=").concat(i,"&type=").concat(s,"&ageBand=").concat(u);return v.a.get(m,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){d.errorHandling(e)}))}},{key:"getDemographyReportData",value:function(e,t,a,n,o,r){var l=this,i="".concat(he,"/demographicReportPage?endDate=").concat(e,"&startDate=").concat(t,"&").concat(we(a,n,o,"Null"));return v.a.get(i,this.getDefaultHeader()).then((function(e){e.data.response.filter((function(e){return 0===e.AverageFare_TGT||null===e.AverageFare_TGT})).length,e.data.response.length,e.data.response.filter((function(e){return 0===e.Revenue_TGT||null===e.Revenue_TGT})).length,e.data.response.length,e.data.response.filter((function(e){return 0===e.Passenger_TGT||null===e.Passenger_TGT})).length,e.data.response.length;var t=[{headerName:"",children:[{headerName:"Lead Time",field:"Segment",tooltipField:"Segment",width:250,alignLeft:!0,underline:!1}]},{headerName:"Pax",children:[{headerName:O.columnName.CY,field:"CY_P",tooltipField:"CY_P_AB"},{headerName:O.columnName.LY,field:"LY_P",tooltipField:"LY_P_AB",sortable:!0,comparator:l.customSorting}]},{headerName:"Bought",children:[{headerName:O.columnName.CY,field:"CY_B",tooltipField:"CYY_B_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.LY,field:"LY_B",tooltipField:"LY_B_AB",sortable:!0,comparator:l.customSorting}]},{headerName:"DropOut",children:[{headerName:O.columnName.CY,field:"CY_D",tooltipField:"CY_D_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.LY,field:"LY_D",tooltipField:"LY_D_AB",sortable:!0,comparator:l.customSorting}]}],a=[];e.data.response[0].TableData.forEach((function(e){console.log(e,"key"),a.push({Segment:e.Lead_Time,CY_P:l.convertZeroValueToBlank(e.Pax_CY),LY_P:l.convertZeroValueToBlank(e.Pax_LY),CY_B:l.convertZeroValueToBlank(e.Bought_CY),LY_B:l.convertZeroValueToBlank(e.Bought_LY),CY_D:l.convertZeroValueToBlank(e.DropOut_CY),LY_D:l.convertZeroValueToBlank(e.DropOut_LY),CY_P_AB:window.numberWithCommas(e.Pax_CY),LY_P_AB:window.numberWithCommas(e.Pax_LY),CY_B_AB:l.convertZeroValueToBlank(e.Bought_CY),LY_B_AB:l.convertZeroValueToBlank(e.Bought_LY),CY_D_AB:l.convertZeroValueToBlank(e.DropOut_CY),LY_D_AB:l.convertZeroValueToBlank(e.DropOut_LY)})}));var n=[];return e.data.response[0].Total.forEach((function(e){n.push({Segment:"Total",CY_P:l.convertZeroValueToBlank(e.Pax_CY),LY_P:l.convertZeroValueToBlank(e.Pax_LY),CY_B:l.convertZeroValueToBlank(e.Bought_CY),LY_B:l.convertZeroValueToBlank(e.Bought_LY),CY_D:l.convertZeroValueToBlank(e.DropOut_CY),LY_D:l.convertZeroValueToBlank(e.DropOut_LY),CY_P_AB:window.numberWithCommas(e.Pax_CY),LY_P_AB:window.numberWithCommas(e.Pax_LY),CY_B_AB:l.convertZeroValueToBlank(e.Bought_CY),LY_B_AB:l.convertZeroValueToBlank(e.Bought_LY),CY_D_AB:l.convertZeroValueToBlank(e.DroOout_CY),LY_D_AB:l.convertZeroValueToBlank(e.DropOut_LY)})})),[{columnName:t,rowData:a,totalData:n}]})).catch((function(e){l.errorHandling(e)}))}},{key:"getTopGeographicalDemographyChartData",value:function(e,t,a,n){var o=this;console.log(a,"region");var r="".concat(he,"/top20GeoGraphicReportPage?").concat(Ce(e,t,a,n));return v.a.get(r,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){o.errorHandling(e)}))}},{key:"getAlertMonthTables",value:function(e,t,a,n,o,r,l){var i=this,c="".concat(he,"/alertmonthly?").concat(Ne(0,t,a,n,o,r),"&alertType=").concat(l);return v.a.get(c,this.getDefaultHeader()).then((function(e){e.data.Total_CY;var t=Object(I.a)(e.data.TableData),a=[];t.forEach((function(e){a.push({Month:null===e.MonthName?"---":e.MonthName,CY_R:i.convertZeroValueToBlank(e.Revenue_CY),Var_R:i.convertZeroValueToBlank(e.Revenue_Var),VRev_R:i.convertZeroValueToBlank(e.Revenue_VRev),CY_B:i.convertZeroValueToBlank(e.Bookings_CY),Var_B:i.convertZeroValueToBlank(e.Bookings_Var),VBook_B:"".concat(i.convertZeroValueToBlank(e.Bookings_VBook)).concat(i.showPercent(e.Bookings_VBook)),CY_P:i.convertZeroValueToBlank(e.Passenger_CY),Var_P:i.convertZeroValueToBlank(e.Passenger_Var),VPax_P:i.convertZeroValueToBlank(e.Passenger_VPax),CY_A:i.convertZeroValueToBlank(e.AvgFare_CY),Var_A:i.convertZeroValueToBlank(e.AvgFare_Var),VAvg_A:i.convertZeroValueToBlank(e.AvgFare_VAvg),AL_MS:i.convertZeroValueToBlank(e.AL_MS_Growth),MH_MS:i.convertZeroValueToBlank(e.MH_MS_Growth),Var_MS:i.convertZeroValueToBlank(e.MarketShare_Var),AL_F:i.convertZeroValueToBlank(e.AL_Fare),MH_F:i.convertZeroValueToBlank(e.MH_Fare),Var_PR:i.convertZeroValueToBlank(e.Price_Var),AV_S:i.convertZeroValueToBlank(e.Avail),LF_S:i.convertZeroValueToBlank(e.Load_Factor),ASK_S:i.convertZeroValueToBlank(e.ASK),TL_AL:e.Total_Alert,AC_AL:e.Actioned,RJ_AL:e.Rejected,RE_AL:e.Reccuring,PN_AL:e.Pending,CY_R_AB:window.numberWithCommas(e.Revenue_CY),Var_R_AB:window.numberWithCommas(e.Revenue_Var),VRev_R_AB:window.numberWithCommas(e.Revenue_VRev),CY_B_AB:window.numberWithCommas(e.Bookings_CY),Var_B_AB:window.numberWithCommas(e.Bookings_Var),VBook_B_AB:"".concat(window.numberWithCommas(e.Bookings_VBook)).concat(i.showPercent(e.Bookings_VBook)),CY_P_AB:window.numberWithCommas(e.Passenger_CY),Var_P_AB:window.numberWithCommas(e.Passenger_Var),VPax_P_AB:window.numberWithCommas(e.Passenger_VPax),CY_A_AB:window.numberWithCommas(e.AvgFare_CY),Var_A_AB:window.numberWithCommas(e.AvgFare_Var),VAvg_A_AB:window.numberWithCommas(e.AvgFare_VAvg),AL_MS_AB:window.numberWithCommas(e.AL_MS_Growth),MH_MS_AB:window.numberWithCommas(e.MH_MS_Growth),Var_MS_AB:window.numberWithCommas(e.MarketShare_Var),AL_F_AB:window.numberWithCommas(e.AL_Fare),MH_F_AB:window.numberWithCommas(e.MH_Fare),Var_PR_AB:window.numberWithCommas(e.Price_Var),AV_S_AB:window.numberWithCommas(e.Avail),LF_S_AB:window.numberWithCommas(e.Load_Factor),ASK_S_AB:window.numberWithCommas(e.ASK),TL_AL_AB:e.Total_Alert,AC_AL_AB:e.Actioned,RJ_AL_AB:e.Rejected,PN_AL_AB:e.Pending,Year:e.Year,MonthName:e.monthfullname,isUnderline:parseInt(e.Year)==ge?e.MonthNumber>=pe:parseInt(e.Year)>ge&&e.MonthNumber<pe})}));var n=[];e.data.Total_CY.forEach((function(e){n.push({Month:"Total",CY_R:i.convertZeroValueToBlank(e.Revenue_CY),Var_R:i.convertZeroValueToBlank(e.Revenue_Var),VRev_R:i.convertZeroValueToBlank(e.Revenue_VRev),CY_B:i.convertZeroValueToBlank(e.Bookings_CY),Var_B:i.convertZeroValueToBlank(e.Bookings_Var),VBook_B:"".concat(i.convertZeroValueToBlank(e.Bookings_VBook)).concat(i.showPercent(e.Bookings_VBook)),CY_P:i.convertZeroValueToBlank(e.Passenger_CY),Var_P:i.convertZeroValueToBlank(e.Passenger_Var),VPax_P:i.convertZeroValueToBlank(e.Passenger_VPax),CY_A:i.convertZeroValueToBlank(e.AvgFare_CY),Var_A:i.convertZeroValueToBlank(e.AvgFare_Var),VAvg_A:i.convertZeroValueToBlank(e.AvgFare_VAvg),AL_MS:i.convertZeroValueToBlank(e.AL_MS_Growth),MH_MS:i.convertZeroValueToBlank(e.MH_MS_Growth),Var_MS:i.convertZeroValueToBlank(e.MarketShare_Var),AL_F:i.convertZeroValueToBlank(e.AL_Fare),MH_F:i.convertZeroValueToBlank(e.MH_Fare),Var_PR:i.convertZeroValueToBlank(e.Price_Var),AV_S:i.convertZeroValueToBlank(e.Avail),LF_S:i.convertZeroValueToBlank(e.Load_Factor),ASK_S:i.convertZeroValueToBlank(e.ASK),TL_AL:e.Total_Alert,AC_AL:e.Actioned,RJ_AL:e.Rejected,RE_AL:e.Reccuring,PN_AL:e.Pending,CY_R_AB:window.numberWithCommas(e.Revenue_CY),Var_R_AB:window.numberWithCommas(e.Revenue_Var),VRev_R_AB:window.numberWithCommas(e.Revenue_VRev),CY_B_AB:window.numberWithCommas(e.Bookings_CY),Var_B_AB:window.numberWithCommas(e.Bookings_Var),VBook_B_AB:"".concat(window.numberWithCommas(e.Bookings_VBook)).concat(i.showPercent(e.Bookings_VBook)),CY_P_AB:window.numberWithCommas(e.Passenger_CY),Var_P_AB:window.numberWithCommas(e.Passenger_Var),VPax_P_AB:window.numberWithCommas(e.Passenger_VPax),CY_A_AB:window.numberWithCommas(e.AvgFare_CY),Var_A_AB:window.numberWithCommas(e.AvgFare_Var),VAvg_A_AB:window.numberWithCommas(e.AvgFare_VAvg),AL_MS_AB:window.numberWithCommas(e.AL_MS_Growth),MH_MS_AB:window.numberWithCommas(e.MH_MS_Growth),Var_MS_AB:window.numberWithCommas(e.MarketShare_Var),AL_F_AB:window.numberWithCommas(e.AL_Fare),MH_F_AB:window.numberWithCommas(e.MH_Fare),Var_PR_AB:window.numberWithCommas(e.Price_Var),AV_S_AB:window.numberWithCommas(e.Avail),LF_S_AB:window.numberWithCommas(e.Load_Factor),ASK_S_AB:window.numberWithCommas(e.ASK),TL_AL_AB:e.Total_Alert,AC_AL_AB:e.Actioned,RJ_AL_AB:e.Rejected,PN_AL_AB:e.Pending,Year:e.Year,MonthName:e.monthfullname,isUnderline:parseInt(e.Year)==ge?e.MonthNumber>=pe:parseInt(e.Year)>ge&&e.MonthNumber<pe})}));var o=i.getAlertColumns();return o.forEach((function(e,t){e.children.forEach((function(e){e.cellStyle=function(e){return e.data.isAlert&&!["AC_AL","PN_AL","RC_AL","RE_AL","TL_AL","Month"].includes(e.colDef.field)||"Total"===e.data.Month?{"text-decoration":"none"}:void 0}}))})),[{columnName:o,rowData:a,totalData:n,currentAccess:e.data.CurretAccess}]})).catch((function(e){console.log(e)}))}},{key:"getAlertDrillDownData",value:function(e,t,a,n,o,r,l,i,c){var s=this,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"Null",d=c,m="Null"===u?"Null":"'".concat(u,"'"),h="".concat(he,"/alertdrilldown?getYear=").concat(e,"&gettingMonth=").concat(t,"&").concat(Ne(0,n,o,r,l,i),"&type=").concat(d,"&priority=").concat(m),g=v.a.get(h,this.getDefaultHeader()).then((function(e){var t=e.data.ColumnName,a=[];e.data.TableData.forEach((function(e){a.push({firstColumnName:null===e.ColumnName?"---":e.ColumnName,CY_R:s.convertZeroValueToBlank(e.Revenue_CY),Var_R:s.convertZeroValueToBlank(e.Revenue_Var),VRev_R:s.convertZeroValueToBlank(e.Revenue_VRev),CY_B:s.convertZeroValueToBlank(e.Bookings_CY),Var_B:s.convertZeroValueToBlank(e.Bookings_Var),VBook_B:"".concat(s.convertZeroValueToBlank(e.Bookings_VBook)).concat(s.showPercent(e.Bookings_VBook)),CY_P:s.convertZeroValueToBlank(e.Passenger_CY),Var_P:s.convertZeroValueToBlank(e.Passenger_Var),VPax_P:s.convertZeroValueToBlank(e.Passenger_VPax),CY_A:s.convertZeroValueToBlank(e.AvgFare_CY),Var_A:s.convertZeroValueToBlank(e.AvgFare_Var),VAvg_A:s.convertZeroValueToBlank(e.AvgFare_VAvg),AL_MS:s.convertZeroValueToBlank(e.AL_MS_Growth),MH_MS:s.convertZeroValueToBlank(e.MH_MS_Growth),Var_MS:s.convertZeroValueToBlank(e.MarketShare_Var),AL_F:s.convertZeroValueToBlank(e.AL_Fare),MH_F:s.convertZeroValueToBlank(e.MH_Fare),Var_PR:s.convertZeroValueToBlank(e.Price_Var),AV_S:s.convertZeroValueToBlank(e.Avail),LF_S:s.convertZeroValueToBlank(e.Load_Factor),ASK_S:s.convertZeroValueToBlank(e.ASK),TL_AL:e.Total_Alert,AC_AL:e.Actioned,RJ_AL:e.Rejected,RE_AL:e.Reccuring,PN_AL:e.Pending,CY_R_AB:window.numberWithCommas(e.Revenue_CY),Var_R_AB:window.numberWithCommas(e.Revenue_Var),VRev_R_AB:window.numberWithCommas(e.Revenue_VRev),CY_B_AB:window.numberWithCommas(e.Bookings_CY),Var_B_AB:window.numberWithCommas(e.Bookings_Var),VBook_B_AB:"".concat(window.numberWithCommas(e.Bookings_VBook)).concat(s.showPercent(e.Bookings_VBook)),CY_P_AB:window.numberWithCommas(e.Passenger_CY),Var_P_AB:window.numberWithCommas(e.Passenger_Var),VPax_P_AB:window.numberWithCommas(e.Passenger_VPax),CY_A_AB:window.numberWithCommas(e.AvgFare_CY),Var_A_AB:window.numberWithCommas(e.AvgFare_Var),VAvg_A_AB:window.numberWithCommas(e.AvgFare_VAvg),AL_MS_AB:window.numberWithCommas(e.AL_MS_Growth),MH_MS_AB:window.numberWithCommas(e.MH_MS_Growth),Var_MS_AB:window.numberWithCommas(e.MarketShare_Var),AL_F_AB:window.numberWithCommas(e.AL_Fare),MH_F_AB:window.numberWithCommas(e.MH_Fare),Var_PR_AB:window.numberWithCommas(e.Price_Var),AV_S_AB:window.numberWithCommas(e.Avail),LF_S_AB:window.numberWithCommas(e.Load_Factor),ASK_S_AB:window.numberWithCommas(e.ASK),TL_AL_AB:e.Total_Alert,AC_AL_AB:e.Actioned,RJ_AL_AB:e.Rejected,PN_AL_AB:e.Pending,actionName:e.ColumnName,isAlert:"Alert"===c})}));var n=[];return e.data.Total.forEach((function(e){n.push({firstColumnName:"Total",CY_R:s.convertZeroValueToBlank(e.Revenue_CY),Var_R:s.convertZeroValueToBlank(e.Revenue_Var),VRev_R:s.convertZeroValueToBlank(e.Revenue_VRev),CY_B:s.convertZeroValueToBlank(e.Bookings_CY),Var_B:s.convertZeroValueToBlank(e.Bookings_Var),VBook_B:"".concat(s.convertZeroValueToBlank(e.Bookings_VBook)).concat(s.showPercent(e.Bookings_VBook)),CY_P:s.convertZeroValueToBlank(e.Passenger_CY),Var_P:s.convertZeroValueToBlank(e.Passenger_Var),VPax_P:s.convertZeroValueToBlank(e.Passenger_VPax),CY_A:s.convertZeroValueToBlank(e.AvgFare_CY),Var_A:s.convertZeroValueToBlank(e.AvgFare_Var),VAvg_A:s.convertZeroValueToBlank(e.AvgFare_VAvg),AL_MS:s.convertZeroValueToBlank(e.AL_MS_Growth),MH_MS:s.convertZeroValueToBlank(e.MH_MS_Growth),Var_MS:s.convertZeroValueToBlank(e.MarketShare_Var),AL_F:s.convertZeroValueToBlank(e.AL_Fare),MH_F:s.convertZeroValueToBlank(e.MH_Fare),Var_PR:s.convertZeroValueToBlank(e.Price_Var),AV_S:s.convertZeroValueToBlank(e.Avail),LF_S:s.convertZeroValueToBlank(e.Load_Factor),ASK_S:s.convertZeroValueToBlank(e.ASK),TL_AL:e.Total_Alert,AC_AL:e.Actioned,RJ_AL:e.Rejected,RE_AL:e.Reccuring,PN_AL:e.Pending,CY_R_AB:window.numberWithCommas(e.Revenue_CY),Var_R_AB:window.numberWithCommas(e.Revenue_Var),VRev_R_AB:window.numberWithCommas(e.Revenue_VRev),CY_B_AB:window.numberWithCommas(e.Bookings_CY),Var_B_AB:window.numberWithCommas(e.Bookings_Var),VBook_B_AB:"".concat(window.numberWithCommas(e.Bookings_VBook)).concat(s.showPercent(e.Bookings_VBook)),CY_P_AB:window.numberWithCommas(e.Passenger_CY),Var_P_AB:window.numberWithCommas(e.Passenger_Var),VPax_P_AB:window.numberWithCommas(e.Passenger_VPax),CY_A_AB:window.numberWithCommas(e.AvgFare_CY),Var_A_AB:window.numberWithCommas(e.AvgFare_Var),VAvg_A_AB:window.numberWithCommas(e.AvgFare_VAvg),AL_MS_AB:window.numberWithCommas(e.AL_MS_Growth),MH_MS_AB:window.numberWithCommas(e.MH_MS_Growth),Var_MS_AB:window.numberWithCommas(e.MarketShare_Var),AL_F_AB:window.numberWithCommas(e.AL_Fare),MH_F_AB:window.numberWithCommas(e.MH_Fare),Var_PR_AB:window.numberWithCommas(e.Price_Var),AV_S_AB:window.numberWithCommas(e.Avail),LF_S_AB:window.numberWithCommas(e.Load_Factor),ASK_S_AB:window.numberWithCommas(e.ASK),TL_AL_AB:e.Total_Alert,AC_AL_AB:e.Actioned,RJ_AL_AB:e.Rejected,PN_AL_AB:e.Pending})})),[{columnName:s.getAlertColumns("drilldown",t,c),rowData:a,currentAccess:e.data.CurrentAccess,totalData:n,tabName:e.data.ColumnName,firstTabName:e.data.first_ColumnName}]})).catch((function(e){s.errorHandling(e)}));return g}},{key:"getAlertColumns",value:function(e,t,a){var n="drilldown"===e&&"Alert"!==a,o="drilldown"!==e;return[{headerName:"",children:["drilldown"===e?{headerName:t,field:"firstColumnName",tooltipField:"firstColumnName",width:250,alignLeft:!0,underline:"Null"===a}:{headerName:O.columnName.MONTH,field:"Month",tooltipField:"Month",width:150,underline:!0,alignLeft:!0}]},{headerName:O.columnName.REVENUE_$,children:[{headerName:"Actual",field:"CY_R",tooltipField:"CY_R_AB",width:150,underline:o,sortable:n,comparator:this.customSorting},{headerName:"Var",field:"Var_R",tooltipField:"Var_R_AB",width:150,sortable:n,sort:n&&"asc",comparator:this.customSorting},{headerName:"Var (%)",field:"VRev_R",tooltipField:"VRev_R_AB",width:150,sortable:n,comparator:this.customSorting}]},{headerName:"Passenger-(O&D)",children:[{headerName:"Actual",field:"CY_P",tooltipField:"CY_P_AB",width:150,underline:o,sortable:n,comparator:this.customSorting},{headerName:"Var",field:"Var_P",tooltipField:"Var_P_AB",width:150,sortable:n,comparator:this.customSorting},{headerName:"Var (%)",field:"VPax_P",tooltipField:"VPax_P_AB",width:150,sortable:n,comparator:this.customSorting}]},{headerName:"Booking",children:[{headerName:"Actual",field:"CY_B",tooltipField:"CY_B_AB",width:150,underline:o,sortable:n,comparator:this.customSorting},{headerName:"Var",field:"Var_B",tooltipField:"Var_B_AB",width:150,sortable:n,comparator:this.customSorting},{headerName:"Var %",field:"VBook_B",tooltipField:"VBook_B_AB",width:150,sortable:n,comparator:this.customSorting}]},{headerName:O.columnName.AVERAGE_FARE_$,children:[{headerName:"Actual",field:"CY_A",tooltipField:"CY_A_AB",width:150,underline:o,sortable:n,comparator:this.customSorting},{headerName:"Var",field:"Var_A",tooltipField:"Var_A_AB",width:150,sortable:n,comparator:this.customSorting},{headerName:"Var (%)",field:"VAvg_A",tooltipField:"VAvg_A_AB",width:150,sortable:n,comparator:this.customSorting}]},{headerName:"Market Share",children:[{headerName:"MS (%)",field:"AL_MS",headerTooltip:"Airlines Market Size Growth",tooltipField:"AL_MS_AB",width:150,underline:o,sortable:n,comparator:this.customSorting},{headerName:"MH MS (%)",field:"MH_MS",headerTooltip:"MH Market Size Growth",tooltipField:"MH_MS_AB",width:150,sortable:n,comparator:this.customSorting},{headerName:"Var",field:"Var_MS",tooltipField:"Var_MS_AB",width:150,sortable:n,comparator:this.customSorting}]},{headerName:"Price",children:[{headerName:"AL Fare",headerTooltip:"AL Fare",field:"AL_F",tooltipField:"AL_F_AB",width:150,underline:!a||"Null"===a,sortable:n,comparator:this.customSorting},{headerName:"MH Fare",headerTooltip:"MH Fare",field:"MH_F",tooltipField:"MH_F_AB",width:150,sortable:n,comparator:this.customSorting},{headerName:"Var",field:"Var_PR",tooltipField:"Var_PR_AB",width:150,sortable:n,comparator:this.customSorting}]},{headerName:"Seats",children:[{headerName:"Avail (%)",headerTooltip:"Avail (%)",field:"AV_S",tooltipField:"AV_S_AB",width:150,underline:o,sortable:n,comparator:this.customSorting},{headerName:"Load Factor (%)",headerTooltip:"Load Factor (%)",field:"LF_S",tooltipField:"LF_S_AB",width:150,sortable:n,comparator:this.customSorting},{headerName:"ASK (%)",headerTooltip:"ASK (%)",field:"ASK_S",tooltipField:"ASK_S_AB",width:150,sortable:n,comparator:this.customSorting}]},{headerName:"Alert Statistics",children:[{headerName:"A",headerTooltip:"Actioned",field:"AC_AL",tooltipField:"AC_AL_AB",width:75,underline:o,sortable:n,comparator:this.numberSorting},{headerName:"P",headerTooltip:"Pending",field:"PN_AL",tooltipField:"PN_AL_AB",width:75,underline:o,sortable:n,comparator:this.numberSorting},{headerName:"RC",headerTooltip:"Recurring",field:"RE_AL",tooltipField:"RE_AL_AB",width:75,underline:o,sortable:n,comparator:this.numberSorting},{headerName:"RE",headerTooltip:"Rejected",field:"RJ_AL",tooltipField:"RJ_AL_AB",width:75,underline:o,sortable:n,comparator:this.numberSorting},{headerName:"T",headerTooltip:"Total",field:"TL_AL",tooltipField:"TL_AL_AB",width:75,underline:o,sortable:n,comparator:this.numberSorting}]}]}},{key:"getActionDrillDown",value:function(e,t,a,n,o,r,l,i,c,s,u){var d=this,m="".concat(he,"/actionDrillDown?getYear=").concat(e,"&gettingMonth=").concat(t,"&").concat(Ne(0,n,o,r,l,i),"&getAction='").concat(c,"'&type='").concat(s,"'&alertType=").concat(u);return v.a.get(m,this.getDefaultHeader()).then((function(e){var t=e.data.ColumnName,a=[];e.data.TableData.forEach((function(e){a.push({firstColumnName:e.ColumnName,Month:null===e.ColumnName?"---":e.ColumnName,CY_R:d.convertZeroValueToBlank(e.Revenue_CY),Var_R:d.convertZeroValueToBlank(e.Revenue_Var),VRev_R:d.convertZeroValueToBlank(e.Revenue_VRev),CY_B:d.convertZeroValueToBlank(e.Bookings_CY),Var_B:d.convertZeroValueToBlank(e.Bookings_Var),VBook_B:"".concat(d.convertZeroValueToBlank(e.Bookings_VBook)).concat(d.showPercent(e.Bookings_VBook)),CY_P:d.convertZeroValueToBlank(e.Passenger_CY),Var_P:d.convertZeroValueToBlank(e.Passenger_Var),VPax_P:d.convertZeroValueToBlank(e.Passenger_VPax),CY_A:d.convertZeroValueToBlank(e.AvgFare_CY),Var_A:d.convertZeroValueToBlank(e.AvgFare_Var),VAvg_A:d.convertZeroValueToBlank(e.AvgFare_VAvg),AL_MS:d.convertZeroValueToBlank(e.AL_MS_Growth),MH_MS:d.convertZeroValueToBlank(e.MH_MS_Growth),Var_MS:d.convertZeroValueToBlank(e.MarketShare_Var),AL_F:d.convertZeroValueToBlank(e.AL_Fare),MH_F:d.convertZeroValueToBlank(e.MH_Fare),Var_PR:d.convertZeroValueToBlank(e.Price_Var),AV_S:d.convertZeroValueToBlank(e.Avail),LF_S:d.convertZeroValueToBlank(e.Load_Factor),ASK_S:d.convertZeroValueToBlank(e.ASK),TL_AL:e.Total_Alert,AC_AL:e.Actioned,RJ_AL:e.Rejected,RE_AL:e.Reccuring,PN_AL:e.Pending,CY_R_AB:window.numberWithCommas(e.Revenue_CY),Var_R_AB:window.numberWithCommas(e.Revenue_Var),VRev_R_AB:window.numberWithCommas(e.Revenue_VRev),CY_B_AB:window.numberWithCommas(e.Bookings_CY),Var_B_AB:window.numberWithCommas(e.Bookings_Var),VBook_B_AB:"".concat(window.numberWithCommas(e.Bookings_VBook)).concat(d.showPercent(e.Bookings_VBook)),CY_P_AB:window.numberWithCommas(e.Passenger_CY),Var_P_AB:window.numberWithCommas(e.Passenger_Var),VPax_P_AB:window.numberWithCommas(e.Passenger_VPax),CY_A_AB:window.numberWithCommas(e.AvgFare_CY),Var_A_AB:window.numberWithCommas(e.AvgFare_Var),VAvg_A_AB:window.numberWithCommas(e.AvgFare_VAvg),AL_MS_AB:window.numberWithCommas(e.AL_MS_Growth),MH_MS_AB:window.numberWithCommas(e.MH_MS_Growth),Var_MS_AB:window.numberWithCommas(e.MarketShare_Var),AL_F_AB:window.numberWithCommas(e.AL_Fare),MH_F_AB:window.numberWithCommas(e.MH_Fare),Var_PR_AB:window.numberWithCommas(e.Price_Var),AV_S_AB:window.numberWithCommas(e.Avail),LF_S_AB:window.numberWithCommas(e.Load_Factor),ASK_S_AB:window.numberWithCommas(e.ASK),TL_AL_AB:e.Total_Alert,AC_AL_AB:e.Actioned,RJ_AL_AB:e.Rejected,PN_AL_AB:e.Pending,isAlert:!0})}));var n=["High","Moderate","Low"],o=[].concat(n);return a.forEach((function(e){var t=o.indexOf(e.Month);t>-1&&o.splice(t,1)})),0!==a.length&&(o.forEach((function(e){var t=Object(B.a)({},a[0]);Object.entries(t).forEach((function(e){var a=Object(k.a)(e,1)[0];t[a]=0})),t.Month=e,t.firstColumnName=e,t.isAlert=!0,a.push(t)})),a.sort((function(e,t){return n.indexOf(e.Month)-n.indexOf(t.Month)}))),[{columnName:d.getAlertColumns("drilldown",t,s),rowData:a,currentAccess:e.data.CurrentAccess,tabName:e.data.ColumnName,firstTabName:e.data.first_ColumnName}]})).catch((function(e){d.errorHandling(e)}))}},{key:"getActionDataDrillDown",value:function(e,t,a,n,o,r,l,i,c,s,u){var d=this,m="".concat(he,"/actionDataDrillDown?getYear=").concat(e,"&gettingMonth=").concat(t,"&").concat(Ne(0,n,o,r,l,i),"&alertType=").concat(null!==c&&void 0!==c?c:"Null","&getAction=").concat(null!==s&&void 0!==s?s:"Null","&Priority=").concat(u&&"Null"!==u?"'".concat(u,"'"):"Null"),h="*"===r?"POS":"*"===l?"OD":"Cabin";return v.a.get(m,this.getDefaultHeader()).then((function(e){var t=[];e.data.TableData.forEach((function(e){t.push({firstColumnName:null===e.ColumnName?"---":e.ColumnName,CY_R:d.convertZeroValueToBlank(e.Revenue_CY),Var_R:d.convertZeroValueToBlank(e.Revenue_Var),VRev_R:d.convertZeroValueToBlank(e.Revenue_VRev),CY_B:d.convertZeroValueToBlank(e.Bookings_CY),Var_B:d.convertZeroValueToBlank(e.Bookings_Var),VBook_B:"".concat(d.convertZeroValueToBlank(e.Bookings_VBook)).concat(d.showPercent(e.Bookings_VBook)),CY_P:d.convertZeroValueToBlank(e.Passenger_CY),Var_P:d.convertZeroValueToBlank(e.Passenger_Var),VPax_P:d.convertZeroValueToBlank(e.Passenger_VPax),CY_A:d.convertZeroValueToBlank(e.AvgFare_CY),Var_A:d.convertZeroValueToBlank(e.AvgFare_Var),VAvg_A:d.convertZeroValueToBlank(e.AvgFare_VAvg),AL_MS:d.convertZeroValueToBlank(e.AL_MS_Growth),MH_MS:d.convertZeroValueToBlank(e.MH_MS_Growth),Var_MS:d.convertZeroValueToBlank(e.MarketShare_Var),AL_F:d.convertZeroValueToBlank(e.AL_Fare),MH_F:d.convertZeroValueToBlank(e.MH_Fare),Var_PR:d.convertZeroValueToBlank(e.Price_Var),AV_S:d.convertZeroValueToBlank(e.Avail),LF_S:d.convertZeroValueToBlank(e.Load_Factor),ASK_S:d.convertZeroValueToBlank(e.ASK),TL_AL:e.Total_Alert,AC_AL:e.Actioned,RJ_AL:e.Rejected,RE_AL:e.Reccuring,PN_AL:e.Pending,CY_R_AB:window.numberWithCommas(e.Revenue_CY),Var_R_AB:window.numberWithCommas(e.Revenue_Var),VRev_R_AB:window.numberWithCommas(e.Revenue_VRev),CY_B_AB:window.numberWithCommas(e.Bookings_CY),Var_B_AB:window.numberWithCommas(e.Bookings_Var),VBook_B_AB:"".concat(window.numberWithCommas(e.Bookings_VBook)).concat(d.showPercent(e.Bookings_VBook)),CY_P_AB:window.numberWithCommas(e.Passenger_CY),Var_P_AB:window.numberWithCommas(e.Passenger_Var),VPax_P_AB:window.numberWithCommas(e.Passenger_VPax),CY_A_AB:window.numberWithCommas(e.AvgFare_CY),Var_A_AB:window.numberWithCommas(e.AvgFare_Var),VAvg_A_AB:window.numberWithCommas(e.AvgFare_VAvg),AL_MS_AB:window.numberWithCommas(e.AL_MS_Growth),MH_MS_AB:window.numberWithCommas(e.MH_MS_Growth),Var_MS_AB:window.numberWithCommas(e.MarketShare_Var),AL_F_AB:window.numberWithCommas(e.AL_Fare),MH_F_AB:window.numberWithCommas(e.MH_Fare),Var_PR_AB:window.numberWithCommas(e.Price_Var),AV_S_AB:window.numberWithCommas(e.Avail),LF_S_AB:window.numberWithCommas(e.Load_Factor),ASK_S_AB:window.numberWithCommas(e.ASK),TL_AL_AB:e.Total_Alert,AC_AL_AB:e.Actioned,RJ_AL_AB:e.Rejected,PN_AL_AB:e.Pending,isAlert:!0})}));var a=[];return e.data.Total.forEach((function(e){a.push({firstColumnName:"Total",CY_R:d.convertZeroValueToBlank(e.Revenue_CY),Var_R:d.convertZeroValueToBlank(e.Revenue_Var),VRev_R:d.convertZeroValueToBlank(e.Revenue_VRev),CY_B:d.convertZeroValueToBlank(e.Bookings_CY),Var_B:d.convertZeroValueToBlank(e.Bookings_Var),VBook_B:"".concat(d.convertZeroValueToBlank(e.Bookings_VBook)).concat(d.showPercent(e.Bookings_VBook)),CY_P:d.convertZeroValueToBlank(e.Passenger_CY),Var_P:d.convertZeroValueToBlank(e.Passenger_Var),VPax_P:d.convertZeroValueToBlank(e.Passenger_VPax),CY_A:d.convertZeroValueToBlank(e.AvgFare_CY),Var_A:d.convertZeroValueToBlank(e.AvgFare_Var),VAvg_A:d.convertZeroValueToBlank(e.AvgFare_VAvg),AL_MS:d.convertZeroValueToBlank(e.AL_MS_Growth),MH_MS:d.convertZeroValueToBlank(e.MH_MS_Growth),Var_MS:d.convertZeroValueToBlank(e.MarketShare_Var),AL_F:d.convertZeroValueToBlank(e.AL_Fare),MH_F:d.convertZeroValueToBlank(e.MH_Fare),Var_PR:d.convertZeroValueToBlank(e.Price_Var),AV_S:d.convertZeroValueToBlank(e.Avail),LF_S:d.convertZeroValueToBlank(e.Load_Factor),ASK_S:d.convertZeroValueToBlank(e.ASK),TL_AL:e.Total_Alert,AC_AL:e.Actioned,RJ_AL:e.Rejected,RE_AL:e.Reccuring,PN_AL:e.Pending,CY_R_AB:window.numberWithCommas(e.Revenue_CY),Var_R_AB:window.numberWithCommas(e.Revenue_Var),VRev_R_AB:window.numberWithCommas(e.Revenue_VRev),CY_B_AB:window.numberWithCommas(e.Bookings_CY),Var_B_AB:window.numberWithCommas(e.Bookings_Var),VBook_B_AB:"".concat(window.numberWithCommas(e.Bookings_VBook)).concat(d.showPercent(e.Bookings_VBook)),CY_P_AB:window.numberWithCommas(e.Passenger_CY),Var_P_AB:window.numberWithCommas(e.Passenger_Var),VPax_P_AB:window.numberWithCommas(e.Passenger_VPax),CY_A_AB:window.numberWithCommas(e.AvgFare_CY),Var_A_AB:window.numberWithCommas(e.AvgFare_Var),VAvg_A_AB:window.numberWithCommas(e.AvgFare_VAvg),AL_MS_AB:window.numberWithCommas(e.AL_MS_Growth),MH_MS_AB:window.numberWithCommas(e.MH_MS_Growth),Var_MS_AB:window.numberWithCommas(e.MarketShare_Var),AL_F_AB:window.numberWithCommas(e.AL_Fare),MH_F_AB:window.numberWithCommas(e.MH_Fare),Var_PR_AB:window.numberWithCommas(e.Price_Var),AV_S_AB:window.numberWithCommas(e.Avail),LF_S_AB:window.numberWithCommas(e.Load_Factor),ASK_S_AB:window.numberWithCommas(e.ASK),TL_AL_AB:e.Total_Alert,AC_AL_AB:e.Actioned,RJ_AL_AB:e.Rejected,PN_AL_AB:e.Pending,isAlert:e.is_alert})})),[{columnName:d.getAlertColumns("drilldown",h,"Null"),rowData:t,currentAccess:e.data.CurrentAccess,totalData:a,tabName:h}]})).catch((function(e){d.errorHandling(e)}))}},{key:"getBookingTable",value:function(e,t,a,n,o,r,l){var i=this,c="".concat(he,"/bookingtable?getYear=").concat(e,"&gettingMonth=").concat(t,"&").concat(Ne(0,a,n,o,r,l));return v.a.get(c,this.getDefaultHeader()).then((function(e){var t=[{headerName:O.columnName.RBD,field:"RBD",tooltipField:"RBD_AB",alignLeft:!0},{headerName:"Bookings",field:"Booking",tooltipField:"Booking_AB"},{headerName:"VLY(%)",field:"VLY(%)",tooltipField:"VLY(%)_AB",cellRenderer:function(e){return i.arrowIndicator(e)}},{headerName:"Ticketed Average Fare(SR)",field:"Ticketed Average Fare(SR)",tooltipField:"Ticketed Average Fare(SR)_AB"},{headerName:"VLY(%)TKT",field:"VLY(%)TKT",tooltipField:"VLY(%)TKT_AB",cellRenderer:function(e){return i.arrowIndicator(e)}}],a=e.data.Data.filter((function(e){return"F"===e.Cabin})),n=e.data.Data.filter((function(e){return"J"===e.Cabin})),o=e.data.Data.filter((function(e){return"Y"===e.Cabin})),r=e.data.Total.filter((function(e){return"Total of F"===e.RBD})),l=e.data.Total.filter((function(e){return"Total of J"===e.RBD})),c=e.data.Total.filter((function(e){return"Total of Y"===e.RBD})),s=[].concat(Object(I.a)(r),Object(I.a)(a),Object(I.a)(l),Object(I.a)(n),Object(I.a)(c),Object(I.a)(o)),u=[];s.forEach((function(e){u.push({Cabin:e.Cabin,RBD:e.RBD,Booking:i.convertZeroValueToBlank(e.Bookings_CY),"VLY(%)":i.convertZeroValueToBlank(e.Bookings_VLY),"Ticketed Average Fare(SR)":i.convertZeroValueToBlank(e.TicketedAverage_CY),"VLY(%)TKT":i.convertZeroValueToBlank(e.TicketedAverage_VLY),Booking_AB:window.numberWithCommas(e.Bookings_CY),"VLY(%)_AB":window.numberWithCommas(e.Bookings_VLY),"Ticketed Average Fare(SR)_AB":window.numberWithCommas(e.TicketedAverage_CY),"VLY(%)TKT_AB":window.numberWithCommas(e.TicketedAverage_VLY)})}));var d=[];return console.log(e.data),Array(e.data.Total_CY).forEach((function(e){d.push({Cabin:"Total",RBD:"Total",Booking:i.convertZeroValueToBlank(e.Bookings_CY),"VLY(%)":i.convertZeroValueToBlank(e.Bookings_VLY),"Ticketed Average Fare(SR)":i.convertZeroValueToBlank(e.TicketedAverage_CY),"VLY(%)TKT":i.convertZeroValueToBlank(e.TicketedAverage_VLY),Booking_AB:window.numberWithCommas(e.Bookings_CY),"VLY(%)_AB":window.numberWithCommas(e.Bookings_VLY),"Ticketed Average Fare(SR)_AB":window.numberWithCommas(e.TicketedAverage_CY),"VLY(%)TKT_AB":window.numberWithCommas(e.TicketedAverage_VLY)})})),[{columnName:t,cabinData:u,totalData:d}]}))}},{key:"getPOSMonthTables",value:function(e,t,a,n,o,r){var l=this,i="".concat(he,"/posDataMonthly?").concat(_e(t,a,n,r),"&commonOD=").concat(U(o));return v.a.get(i,this.getDefaultHeader()).then((function(t){var a=t.data.TableData.filter((function(e){return 0===e.AvgFare_TGT||null===e.AvgFare_TGT})).length===t.data.TableData.length,n=t.data.TableData.filter((function(e){return 0===e.Revenue_TGT||null===e.Revenue_TGT})).length===t.data.TableData.length,o=t.data.TableData.filter((function(e){return 0===e.Passenger_TGT||null===e.Passenger_TGT})).length===t.data.TableData.length,r=[{headerName:"",children:[{headerName:O.columnName.MONTH,field:"Month",tooltipField:"Month",width:250,alignLeft:!0,underline:!0}]},{headerName:O.columnName.BOOKINGS,headerGroupComponent:"customHeaderGroupComponent",children:[{headerName:O.columnName.CY,field:"CY_B",tooltipField:"CY_B_AB",underline:!0},{headerName:O.columnName.VLY,field:"VLY_B",tooltipField:"VLY_B_AB",cellRenderer:function(e){return l.arrowIndicator(e)}},{headerName:O.columnName.TKT,field:"TKT_B",tooltipField:"TKT_B_AB"}]},{headerName:"Passenger-(O&D)",headerGroupComponent:"customHeaderGroupComponent",children:[{headerName:O.columnName.FORECAST_ACT,field:"FRCT/Act_P",tooltipField:"FRCT/Act_P_AB",width:250,cellClassRules:{"align-right-underline":function(e){return e.data.isUnderline}}},{headerName:O.columnName.TGT,field:"TGT_P",tooltipField:"TGT_P_AB",hide:o},{headerName:O.columnName.VTG,field:"VTG_P",tooltipField:"VTG_P_AB",cellRenderer:function(e){return l.arrowIndicator(e)},hide:o},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return l.arrowIndicator(e)}}]},{headerName:O.columnName.AVERAGE_FARE_$,headerGroupComponent:"customHeaderGroupComponent",children:[{headerName:O.columnName.FORECAST_ACT,field:"FRCT/Act_A",tooltipField:"FRCT/Act_A_AB",width:250,cellClassRules:{"align-right-underline":function(e){return e.data.isUnderline}}},{headerName:O.columnName.TGT,field:"TGT_A",tooltipField:"TGT_A_AB",hide:a},{headerName:O.columnName.VTG,field:"VTG_A",tooltipField:"VTG_A_AB",cellRenderer:function(e){return l.arrowIndicator(e)},hide:a},{headerName:O.columnName.VLY,field:"VLY_A",tooltipField:"VLY_A_AB",cellRenderer:function(e){return l.arrowIndicator(e)}}]},{headerName:O.columnName.REVENUE_$,headerGroupComponent:"customHeaderGroupComponent",children:[{headerName:O.columnName.FORECAST_ACT,field:"FRCT/Act_R",tooltipField:"FRCT/Act_R_AB",width:250,cellClassRules:{"align-right-underline":function(e){return e.data.isUnderline}}},{headerName:O.columnName.TGT,field:"TGT_R",tooltipField:"TGT_R_AB",hide:n},{headerName:O.columnName.VTG,field:"VTG_R",tooltipField:"VTG_R_AB",cellRenderer:function(e){return l.arrowIndicator(e)},hide:n},{headerName:O.columnName.VLY,field:"VLY_R",tooltipField:"VLY_R_AB",cellRenderer:function(e){return l.arrowIndicator(e)}}]},{headerName:O.columnName.AL_MARKET_SHARE,headerGroupComponent:"customHeaderGroupComponent",children:[{headerName:O.columnName.CY,field:"CY_AL",tooltipField:"CY_AL_AB",underline:!0},{headerName:O.columnName.VLY,field:"VLY_AL",tooltipField:"VLY_AL_AB",cellRenderer:function(e){return l.arrowIndicator(e)}}]}],i=t.data.TableData.filter((function(e){return e.Year===ge-1})),c=t.data.TableData.filter((function(e){return e.Year===ge})),s=t.data.TableData.filter((function(e){return e.Year===ge+1})),u=[].concat(Object(I.a)(t.data.Total_LY),Object(I.a)(i),Object(I.a)(c),Object(I.a)(t.data.Total_NY),Object(I.a)(s)),d=[];u.forEach((function(t){d.push({Month:null===t.MonthName?"---":t.MonthName,CY_B:l.convertZeroValueToBlank(t.Bookings_CY),VLY_B:l.convertZeroValueToBlank(t.Bookings_VLY),TKT_B:"".concat(l.convertZeroValueToBlank(t.Bookings_TKT)).concat(l.showPercent(t.Bookings_TKT)),"FRCT/Act_P":l.convertZeroValueToBlank(t.Passenger_FRCT),TGT_P:l.convertZeroValueToBlank(t.Passenger_TGT),VTG_P:l.convertZeroValueToBlank(t.Passenger_VTG),VLY_P:l.convertZeroValueToBlank(t.Passenger_VLY),"FRCT/Act_A":"lc"===e?l.convertZeroValueToBlank(t.LocalAvgFare_FRCT):l.convertZeroValueToBlank(t.AvgFare_FRCT),TGT_A:l.convertZeroValueToBlank(t.AvgFare_TGT),VTG_A:l.convertZeroValueToBlank(t.AvgFare_VTG),VLY_A:"lc"===e?l.convertZeroValueToBlank(t.LocalAvgFare_VLY):l.convertZeroValueToBlank(t.AvgFare_VLY),"FRCT/Act_R":"lc"===e?l.convertZeroValueToBlank(t.LocalRevenue_CY):l.convertZeroValueToBlank(t.Revenue_CY),TGT_R:l.convertZeroValueToBlank(t.Revenue_TGT),VTG_R:l.convertZeroValueToBlank(t.Revenue_VTG),VLY_R:"lc"===e?l.convertZeroValueToBlank(t.LocalRevenue_VLY):l.convertZeroValueToBlank(t.Revenue_VLY),CY_AL:l.convertZeroValueToBlank(t.AL_CY),VLY_AL:l.convertZeroValueToBlank(t.AL_VLY),CY_B_AB:window.numberWithCommas(t.Bookings_CY),VLY_B_AB:window.numberWithCommas(t.Bookings_VLY),TKT_B_AB:window.numberWithCommas(t.Bookings_TKT),"FRCT/Act_P_AB":window.numberWithCommas(t.Passenger_FRCT),TGT_P_AB:window.numberWithCommas(t.Passenger_TGT),VTG_P_AB:window.numberWithCommas(t.Passenger_VTG),VLY_P_AB:window.numberWithCommas(t.Passenger_VLY),"FRCT/Act_A_AB":"lc"===e?window.numberWithCommas(t.LocalAvgFare_FRCT):window.numberWithCommas(t.AvgFare_FRCT),TGT_A_AB:window.numberWithCommas(t.AvgFare_TGT),VTG_A_AB:window.numberWithCommas(t.AvgFare_VTG),VLY_A_AB:"lc"===e?window.numberWithCommas(t.LocalAvgFare_VLY):window.numberWithCommas(t.AvgFare_VLY),"FRCT/Act_R_AB":"lc"===e?window.numberWithCommas(t.LocalRevenue_CY):window.numberWithCommas(t.Revenue_CY),TGT_R_AB:window.numberWithCommas(t.Revenue_TGT),VTG_R_AB:window.numberWithCommas(t.Revenue_VTG),VLY_R_AB:"lc"===e?window.numberWithCommas(t.LocalRevenue_VLY):window.numberWithCommas(t.Revenue_VLY),CY_AL_AB:window.numberWithCommas(t.AL_CY),VLY_AL_AB:window.numberWithCommas(t.AL_VLY),Year:t.Year,MonthName:t.monthfullname,isUnderline:parseInt(t.Year)==ge?t.MonthNumber>=pe:parseInt(t.Year)>ge&&t.MonthNumber<pe})}));var m=[];return t.data.Total_CY.forEach((function(t){m.push({Month:"Total",CY_B:l.convertZeroValueToBlank(t.Bookings_CY),VLY_B:l.convertZeroValueToBlank(t.Bookings_VLY),TKT_B:"".concat(l.convertZeroValueToBlank(t.Bookings_TKT)).concat(l.showPercent(t.Bookings_TKT)),"FRCT/Act_P":l.convertZeroValueToBlank(t.Passenger_FRCT),TGT_P:l.convertZeroValueToBlank(t.Passenger_TGT),VTG_P:l.convertZeroValueToBlank(t.Passenger_VTG),VLY_P:l.convertZeroValueToBlank(t.Passenger_VLY),"FRCT/Act_A":"lc"===e?l.convertZeroValueToBlank(t.LocalAvgFare_FRCT):l.convertZeroValueToBlank(t.AvgFare_FRCT),TGT_A:l.convertZeroValueToBlank(t.AvgFare_TGT),VTG_A:l.convertZeroValueToBlank(t.AvgFare_VTG),VLY_A:"lc"===e?l.convertZeroValueToBlank(t.LocalAvgFare_VLY):l.convertZeroValueToBlank(t.AvgFare_VLY),"FRCT/Act_R":"lc"===e?l.convertZeroValueToBlank(t.LocalRevenue_CY):l.convertZeroValueToBlank(t.Revenue_CY),TGT_R:l.convertZeroValueToBlank(t.Revenue_TGT),VTG_R:l.convertZeroValueToBlank(t.Revenue_VTG),VLY_R:"lc"===e?l.convertZeroValueToBlank(t.LocalRevenue_VLY):l.convertZeroValueToBlank(t.Revenue_VLY),CY_AL:l.convertZeroValueToBlank(t.AL_CY),VLY_AL:l.convertZeroValueToBlank(t.AL_VLY),CY_B_AB:window.numberWithCommas(t.Bookings_CY),VLY_B_AB:window.numberWithCommas(t.Bookings_VLY),TKT_B_AB:window.numberWithCommas(t.Bookings_TKT),"FRCT/Act_P_AB":window.numberWithCommas(t.Passenger_FRCT),TGT_P_AB:window.numberWithCommas(t.Passenger_TGT),VTG_P_AB:window.numberWithCommas(t.Passenger_VTG),VLY_P_AB:window.numberWithCommas(t.Passenger_VLY),"FRCT/Act_A_AB":"lc"===e?window.numberWithCommas(t.LocalAvgFare_FRCT):window.numberWithCommas(t.AvgFare_FRCT),TGT_A_AB:window.numberWithCommas(t.AvgFare_TGT),VTG_A_AB:window.numberWithCommas(t.AvgFare_VTG),VLY_A_AB:"lc"===e?window.numberWithCommas(t.LocalAvgFare_VLY):window.numberWithCommas(t.AvgFare_VLY),"FRCT/Act_R_AB":"lc"===e?window.numberWithCommas(t.LocalRevenue_CY):window.numberWithCommas(t.Revenue_CY),TGT_R_AB:window.numberWithCommas(t.Revenue_TGT),VTG_R_AB:window.numberWithCommas(t.Revenue_VTG),VLY_R_AB:"lc"===e?window.numberWithCommas(t.LocalRevenue_VLY):window.numberWithCommas(t.Revenue_VLY),CY_AL_AB:window.numberWithCommas(t.AL_CY),VLY_AL_AB:window.numberWithCommas(t.AL_VLY)})})),[{columnName:r,rowData:d,totalData:m,currentAccess:t.data.CurretAccess}]})).catch((function(e){console.log(e)}))}},{key:"getPOSDrillDownData",value:function(e,t,a,n,o,r,l,i,c,s){var u=this,d=c;"*"!==l&&("Ancillary"!=c&&"Agency"!=c||(d="Null"));var m="".concat(he,"/posDataDrillDown?getYear=").concat(e,"&gettingMonth=").concat(a,"&").concat(_e(n,o,r,i),"&commonOD=").concat(U(l),"&type=").concat(c,"&odSearch=").concat(s),h="".concat(he,"/FullYearDownloadPOS?getYear=").concat(e,"&").concat(_e(n,o,r,i),"&commonOD=").concat(U(l),"&type=").concat(d);return localStorage.setItem("postype",c),localStorage.setItem("posDownloadURL",h),v.a.get(m,this.getDefaultHeader()).then((function(e){var a=e.data.ColumnName,n=e.data.TableData.filter((function(e){return 0===e.AvgFare_TGT||null===e.AvgFare_TGT})).length===e.data.TableData.length,o=e.data.TableData.filter((function(e){return 0===e.Revenue_TGT||null===e.Revenue_TGT})).length===e.data.TableData.length,r=e.data.TableData.filter((function(e){return 0===e.Passenger_TGT||null===e.Passenger_TGT})).length===e.data.TableData.length,l=[{headerName:"",children:[{headerName:a,field:"firstColumnName",tooltipField:"firstColumnName",width:250,alignLeft:!0,underline:("Null"===c||"Agency"===c)&&"Cabin"!==a}]},{headerName:O.columnName.BOOKINGS,children:[{headerName:O.columnName.CY,field:"CY_B",tooltipField:"CY_B_AB",hide:"Ancillary"===a,sortable:!0,comparator:u.customSorting},{headerName:O.columnName.VLY,field:"VLY_B",tooltipField:"VLY_B_AB",cellRenderer:function(e){return u.arrowIndicator(e)},hide:"Ancillary"===a,sortable:!0,comparator:u.customSorting},{headerName:O.columnName.TKT,field:"TKT_B",tooltipField:"TKT_B_AB",hide:"Ancillary"===a,sortable:!0,comparator:u.customSorting}]},{headerName:"Passenger-(O&D)",children:[{headerName:O.columnName.FORECAST_ACT,field:"FRCT/Act_P",tooltipField:"FRCT/Act_P_AB",width:250,sortable:!0,comparator:u.customSorting},{headerName:O.columnName.TGT,field:"TGT_P",tooltipField:"TGT_P_AB",hide:r,sortable:!0,comparator:u.customSorting},{headerName:O.columnName.VTG,field:"VTG_P",tooltipField:"VTG_P_AB",cellRenderer:function(e){return u.arrowIndicator(e)},hide:r,sortable:!0,comparator:u.customSorting},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return u.arrowIndicator(e)},sortable:!0,comparator:u.customSorting}]},{headerName:O.columnName.AVERAGE_FARE_$,children:[{headerName:O.columnName.FORECAST_ACT,field:"FRCT/Act_A",tooltipField:"FRCT/Act_A_AB",width:250,underline:"Null"===c||"Cabin"===a,sortable:!0,comparator:u.customSorting},{headerName:O.columnName.TGT,field:"TGT_A",tooltipField:"TGT_A_AB",hide:n,sortable:!0,comparator:u.customSorting},{headerName:O.columnName.VTG,field:"VTG_A",tooltipField:"VTG_A_AB",cellRenderer:function(e){return u.arrowIndicator(e)},hide:n,sortable:!0,comparator:u.customSorting},{headerName:O.columnName.VLY,field:"VLY_A",tooltipField:"VLY_A_AB",cellRenderer:function(e){return u.arrowIndicator(e)},sortable:!0,comparator:u.customSorting}]},{headerName:O.columnName.REVENUE_$,children:[{headerName:O.columnName.FORECAST_ACT,field:"FRCT/Act_R",tooltipField:"FRCT/Act_R_AB",width:250,sortable:!0,comparator:u.customSorting,sort:"desc"},{headerName:O.columnName.TGT,field:"TGT_R",tooltipField:"TGT_R_AB",hide:o,sortable:!0,comparator:u.customSorting},{headerName:O.columnName.VTG,field:"VTG_R",tooltipField:"VTG_R_AB",cellRenderer:function(e){return u.arrowIndicator(e)},hide:o,sortable:!0,comparator:u.customSorting},{headerName:O.columnName.VLY,field:"VLY_R",tooltipField:"VLY_R_AB",cellRenderer:function(e){return u.arrowIndicator(e)},sortable:!0,comparator:u.customSorting}]},{headerName:"",children:[{headerName:O.columnName.AVAIL,field:"Avail",tooltipField:"Avail_AB",hide:"Ancillary"===a,underline:"Null"===c||"OD"===c||"Cabin"===c,sortable:!0,comparator:u.customSorting}]},{headerName:O.columnName.AL_MARKET_SHARE,children:[{headerName:O.columnName.CY,field:"CY_AL",tooltipField:"CY_AL_AB",hide:"Ancillary"===a,underline:"Null"===c||"OD"===c,sortable:!0,comparator:u.customSorting},{headerName:O.columnName.VLY,field:"VLY_AL",tooltipField:"VLY_AL_AB",cellRenderer:function(e){return u.arrowIndicator(e)},hide:"Ancillary"===a,sortable:!0,comparator:u.customSorting}]}],i=[];e.data.TableData.forEach((function(e){i.push({firstColumnName:null===e.ColumnName?"---":e.ColumnName,"":"",CY_B:u.convertZeroValueToBlank(e.Bookings_CY),VLY_B:u.convertZeroValueToBlank(e.Bookings_VLY),TKT_B:"".concat(u.convertZeroValueToBlank(e.Bookings_TKT)).concat(u.showPercent(e.Bookings_TKT)),"FRCT/Act_P":u.convertZeroValueToBlank(e.Passenger_FRCT),TGT_P:u.convertZeroValueToBlank(e.Passenger_TGT),VTG_P:u.convertZeroValueToBlank(e.Passenger_VTG),VLY_P:u.convertZeroValueToBlank(e.Passenger_VLY),"FRCT/Act_A":"lc"===t?u.convertZeroValueToBlank(e.LocalAvgFare_FRCT):u.convertZeroValueToBlank(e.AvgFare_FRCT),TGT_A:u.convertZeroValueToBlank(e.AvgFare_TGT),VTG_A:u.convertZeroValueToBlank(e.AvgFare_VTG),VLY_A:"lc"===t?u.convertZeroValueToBlank(e.LocalAvgFare_VLY):u.convertZeroValueToBlank(e.AvgFare_VLY),"FRCT/Act_R":"lc"===t?u.convertZeroValueToBlank(e.LocalRevenue_CY):u.convertZeroValueToBlank(e.Revenue_CY),TGT_R:u.convertZeroValueToBlank(e.Revenue_TGT),VTG_R:u.convertZeroValueToBlank(e.Revenue_VTG),VLY_R:"lc"===t?u.convertZeroValueToBlank(e.LocalRevenue_VLY):u.convertZeroValueToBlank(e.Revenue_VLY),Avail:u.convertZeroValueToBlank(e.Avail),CY_AL:u.convertZeroValueToBlank(e.AL_CY),VLY_AL:u.convertZeroValueToBlank(e.AL_VLY),CY_B_AB:window.numberWithCommas(e.Bookings_CY),VLY_B_AB:window.numberWithCommas(e.Bookings_VLY),TKT_B_AB:window.numberWithCommas(e.Bookings_TKT),"FRCT/Act_P_AB":window.numberWithCommas(e.Passenger_FRCT),TGT_P_AB:window.numberWithCommas(e.Passenger_TGT),VTG_P_AB:window.numberWithCommas(e.Passenger_VTG),VLY_P_AB:window.numberWithCommas(e.Passenger_VLY),"FRCT/Act_A_AB":"lc"===t?window.numberWithCommas(e.LocalAvgFare_FRCT):window.numberWithCommas(e.AvgFare_FRCT),TGT_A_AB:window.numberWithCommas(e.AvgFare_TGT),VTG_A_AB:window.numberWithCommas(e.AvgFare_VTG),VLY_A_AB:"lc"===t?window.numberWithCommas(e.LocalAvgFare_VLY):window.numberWithCommas(e.AvgFare_VLY),"FRCT/Act_R_AB":"lc"===t?window.numberWithCommas(e.LocalRevenue_CY):window.numberWithCommas(e.Revenue_CY),TGT_R_AB:window.numberWithCommas(e.Revenue_TGT),VTG_R_AB:window.numberWithCommas(e.Revenue_VTG),VLY_R_AB:"lc"===t?window.numberWithCommas(e.LocalRevenue_VLY):window.numberWithCommas(e.Revenue_VLY),Avail_AB:window.numberWithCommas(e.Avail),CY_AL_AB:window.numberWithCommas(e.AL_CY),VLY_AL_AB:window.numberWithCommas(e.AL_VLY),isAlert:e.is_alert})}));var s=[];return e.data.Total.forEach((function(e){s.push({Ancillary_Full_Name:"Total",firstColumnName:"Total",CY_B:u.convertZeroValueToBlank(e.Bookings_CY),VLY_B:u.convertZeroValueToBlank(e.Bookings_VLY),TKT_B:"".concat(u.convertZeroValueToBlank(e.Bookings_TKT)).concat(u.showPercent(e.Bookings_TKT)),"FRCT/Act_P":u.convertZeroValueToBlank(e.Passenger_FRCT),TGT_P:u.convertZeroValueToBlank(e.Passenger_TGT),VTG_P:u.convertZeroValueToBlank(e.Passenger_VTG),VLY_P:u.convertZeroValueToBlank(e.Passenger_VLY),"FRCT/Act_A":"lc"===t?u.convertZeroValueToBlank(e.LocalAvgFare_FRCT):u.convertZeroValueToBlank(e.AvgFare_FRCT),TGT_A:u.convertZeroValueToBlank(e.AvgFare_TGT),VTG_A:u.convertZeroValueToBlank(e.AvgFare_VTG),VLY_A:"lc"===t?u.convertZeroValueToBlank(e.LocalAvgFare_VLY):u.convertZeroValueToBlank(e.AvgFare_VLY),"FRCT/Act_R":"lc"===t?u.convertZeroValueToBlank(e.LocalRevenue_CY):u.convertZeroValueToBlank(e.Revenue_CY),TGT_R:u.convertZeroValueToBlank(e.Revenue_TGT),VTG_R:u.convertZeroValueToBlank(e.Revenue_VTG),VLY_R:"lc"===t?u.convertZeroValueToBlank(e.LocalRevenue_VLY):u.convertZeroValueToBlank(e.Revenue_VLY),Avail:u.convertZeroValueToBlank(e.Avail),CY_AL:u.convertZeroValueToBlank(e.AL_CY),VLY_AL:u.convertZeroValueToBlank(e.AL_VLY),CY_B_AB:window.numberWithCommas(e.Bookings_CY),VLY_B_AB:window.numberWithCommas(e.Bookings_VLY),TKT_B_AB:window.numberWithCommas(e.Bookings_TKT),"FRCT/Act_P_AB":window.numberWithCommas(e.Passenger_FRCT),TGT_P_AB:window.numberWithCommas(e.Passenger_TGT),VTG_P_AB:window.numberWithCommas(e.Passenger_VTG),VLY_P_AB:window.numberWithCommas(e.Passenger_VLY),"FRCT/Act_A_AB":"lc"===t?window.numberWithCommas(e.LocalAvgFare_FRCT):window.numberWithCommas(e.AvgFare_FRCT),TGT_A_AB:window.numberWithCommas(e.AvgFare_TGT),VTG_A_AB:window.numberWithCommas(e.AvgFare_VTG),VLY_A_AB:"lc"===t?window.numberWithCommas(e.LocalAvgFare_VLY):window.numberWithCommas(e.AvgFare_VLY),"FRCT/Act_R_AB":"lc"===t?window.numberWithCommas(e.LocalRevenue_CY):window.numberWithCommas(e.Revenue_CY),TGT_R_AB:window.numberWithCommas(e.Revenue_TGT),VTG_R_AB:window.numberWithCommas(e.Revenue_VTG),VLY_R_AB:"lc"===t?window.numberWithCommas(e.LocalRevenue_VLY):window.numberWithCommas(e.Revenue_VLY),Avail_AB:window.numberWithCommas(e.Avail),CY_AL_AB:window.numberWithCommas(e.AL_CY),VLY_AL_AB:window.numberWithCommas(e.AL_VLY),isAlert:e.is_alert})})),[{columnName:l,rowData:i,currentAccess:e.data.CurrentAccess,totalData:s,tabName:e.data.ColumnName,firstTabName:e.data.first_ColumnName}]})).catch((function(e){u.errorHandling(e)}))}},{key:"getPOSCabinDetails",value:function(e,t,a,n,o,r,l){var i=this,c="".concat(he,"/poscabinWiseDetails?getYear=").concat(e,"&gettingMonth=").concat(t,"&").concat(_e(a,n,o,l),"&commonOD=").concat(encodeURIComponent(r));return v.a.get(c,this.getDefaultHeader()).then((function(e){var t=[{headerName:O.columnName.RBD,field:"RBD",tooltipField:"RBD_AB",alignLeft:!0},{headerName:"Bookings",field:"Booking",tooltipField:"Booking_AB"},{headerName:"VLY(%)",field:"VLY(%)",tooltipField:"VLY(%)_AB",cellRenderer:function(e){return i.arrowIndicator(e)}},{headerName:"Ticketed Average Fare(SR)",field:"Ticketed Average Fare(SR)",tooltipField:"Ticketed Average Fare(SR)_AB"},{headerName:"VLY(%)TKT",field:"VLY(%)TKT",tooltipField:"VLY(%)TKT_AB",cellRenderer:function(e){return i.arrowIndicator(e)}}],a=e.data.Data.filter((function(e){return"F"===e.Cabin})),n=e.data.Data.filter((function(e){return"J"===e.Cabin})),o=e.data.Data.filter((function(e){return"Y"===e.Cabin})),r=e.data.Total.filter((function(e){return"Total of F"===e.RBD})),l=e.data.Total.filter((function(e){return"Total of J"===e.RBD})),c=e.data.Total.filter((function(e){return"Total of Y"===e.RBD})),s=[].concat(Object(I.a)(r),Object(I.a)(a),Object(I.a)(l),Object(I.a)(n),Object(I.a)(c),Object(I.a)(o)),u=[];return s.forEach((function(e){u.push({Cabin:e.Cabin,RBD:e.RBD,Booking:i.convertZeroValueToBlank(e.Bookings_CY),"VLY(%)":i.convertZeroValueToBlank(e.Bookings_VLY),"Ticketed Average Fare(SR)":i.convertZeroValueToBlank(e.TicketedAverage_CY),"VLY(%)TKT":i.convertZeroValueToBlank(e.TicketedAverage_VLY),Booking_AB:window.numberWithCommas(e.Bookings_CY),"VLY(%)_AB":window.numberWithCommas(e.Bookings_VLY),"Ticketed Average Fare(SR)_AB":window.numberWithCommas(e.TicketedAverage_CY),"VLY(%)TKT_AB":window.numberWithCommas(e.TicketedAverage_VLY)})})),[{columnName:t,cabinData:u}]})).catch((function(e){i.errorHandling(e)}))}},{key:"getAlertSummary",value:function(e){var t="".concat(he,"/alertsummary?alertId='").concat(e,"'");return v.a.get(t,this.getDefaultHeader()).then((function(e){return e.data.response.response}))}},{key:"getAlertDetails",value:function(e,t,a,n,o,r,l){var i=this,c="".concat(he,"/alertdetails?getYear=").concat(e,"&gettingMonth=").concat(t,"&").concat(ye(0,a,n,o,r,l));return v.a.get(c,this.getDefaultHeader()).then((function(e){var t,a,n=[[{headerName:"Name",field:"Name",width:150,alignLeft:!0},{headerName:"Actual",field:"CY",tooltipField:"CY_AB",width:150},{headerName:"Target",field:"TGT",tooltipField:"TGT_AB",width:150},{headerName:"Var",field:"Var",tooltipField:"Var_AB",width:150},{headerName:"Var%",field:"VarP",tooltipField:"varP_AB",width:150},{headerName:"Status",field:"Status",width:150,alignLeft:!0,cellRenderer:function(e){return i.statusArrowIndicator(e)}}],[{headerName:"Name",field:"Name",width:150,alignLeft:!0},{headerName:"AL MS",field:"AL_MS",tooltipField:"AL_MS_AB",width:150},{headerName:"MH AL MS",field:"MH_AL_MS",tooltipField:"MH_AL_MS_AB",width:150},{headerName:"Var",field:"Var_MS",tooltipField:"Var_MS_AB",width:150},{headerName:"Status",field:"Status",width:150,alignLeft:!0,cellRenderer:function(e){return i.statusArrowIndicator(e)}}],[{headerName:"Name",field:"Name",width:150,alignLeft:!0},{headerName:"MH Fare",field:"MH_F",tooltipField:"MH_F_AB",width:150},{headerName:"AL Fare",field:"AL_F",tooltipField:"AL_F_AB",width:150},{headerName:"Var",field:"Var_P",tooltipField:"Var_P_AB",width:150},{headerName:"Status",field:"Status",width:150,alignLeft:!0,cellRenderer:function(e){return i.statusArrowIndicator(e)}}],[{headerName:"Name",field:"Name",width:150,alignLeft:!0},{headerName:"ASK",field:"ASK_S",tooltipField:"ASK_S_AB",width:150},{headerName:"Avail",field:"AV_S",tooltipField:"AV_S_AB",width:150},{headerName:"Load Factor",field:"LF_S",tooltipField:"LF_S_AB",width:150},{headerName:"Status",field:"Status",width:150,alignLeft:!0,cellRenderer:function(e){return i.statusArrowIndicator(e)}}]],o=[[],[],[],[]];return e.data.TableData.forEach((function(e){Object.entries(e).forEach((function(e){var t=Object(k.a)(e,2),a=t[0],n=t[1];"Id"!==a&&"Flag"!==a&&o[0].push({Name:n.Name,Status:n.Status,CY:i.convertZeroValueToBlank(n.CY),TGT:i.convertZeroValueToBlank(n.TGT),Var:i.convertZeroValueToBlank(n.Var),VarP:i.convertZeroValueToBlank(n["Var%"])})}))})),e.data.MS_Data.forEach((function(e){o[1].push({Name:e.Name,Status:e.Status,AL_MS:i.convertZeroValueToBlank(e.All_MS_CY),MH_AL_MS:i.convertZeroValueToBlank(e.All_MS_LY),Var_MS:i.convertZeroValueToBlank(e.Var),AL_MS_AB:window.numberWithCommas(e.All_MS_CY),MH_AL_AB:window.numberWithCommas(e.All_MS_LY),Var_MS_AB:window.numberWithCommas(e.Var)})})),e.data.Infare.forEach((function(e){o[2].push({Name:e.Name,Status:e.Status,MH_F:i.convertZeroValueToBlank(e.MH_Fare),AL_F:i.convertZeroValueToBlank(e.AL_Fare),Var_P:i.convertZeroValueToBlank(e.Var),MH_F_AB:window.numberWithCommas(e.MH_Fare),AL_F_AB:window.numberWithCommas(e.Comp_Fare),Var_P_AB:window.numberWithCommas(e.Var)})})),e.data.Availability.forEach((function(e){o[3].push({Name:e.Name,Status:e.Status,ASK_S:i.convertZeroValueToBlank(e.ASK),AV_S:i.convertZeroValueToBlank(e.Avail),LF_S:i.convertZeroValueToBlank(e.Load_Factor),ASK_S_AB:window.numberWithCommas(e.ASK),AV_S_AB:window.numberWithCommas(e.Avail),LF_S_AB:window.numberWithCommas(e.Load_Factor)})})),{id:null===(t=e.data.TableData[0])||void 0===t?void 0:t.Id,flag:null===(a=e.data.TableData[0])||void 0===a?void 0:a.Flag,columnName:n,rowData:o}}))}},{key:"postAlertDetails",value:function(e,t,a,n,o,r,l,i){var c=JSON.parse(b.getCookie("userDetails")),s="".concat(he,"/alertdetails?").concat(ye(0,e,t,a,n,o));return v.a.post(s,{action:r,Id:l,Message:i,Username:c.username,Date:(new Date).toISOString().slice(0,10)},this.getDefaultHeader())}},{key:"getInfareTrendData",value:function(e,t,a,n,o,r,l,i){var c="".concat(he,"/trendTable?getYear=").concat(e,"&gettingMonth=").concat(t,"&selectedRouteGroup=Network&selectedRegion=").concat(a,"&selectedCountry=").concat(n,"&selectedCity=").concat(o,"&selectedRoute=").concat(r,"&getCabinValue=").concat(l,"&getTrend='").concat(i,"'");return v.a.get(c,this.getDefaultHeader()).then((function(e){var t=["High","Moderate","Low",0];return e.data.TableData.sort((function(e,a){var n=t.indexOf(e.Alert_Type);return t.indexOf(a.Alert_Type)-n})),e.data})).catch((function(e){console.log(e)}))}},{key:"getAlertTrendData",value:function(e,t,a,n,o,r,l,i){var c=this,s="".concat(he,"/trendTable?getYear=").concat(e,"&gettingMonth=").concat(t,"&").concat(Ne(0,a,n,o,r,l),"&getTrend='").concat(i,"'");return v.a.get(s,this.getDefaultHeader()).then((function(e){var t=[];t="Infare"===i?[{headerName:"Priority",field:"Alert_Type"},{headerName:"MH Fare",field:"MH_F",tooltipField:"MH_F_AB"},{headerName:"Comp Fare",field:"CMP_F",tooltipField:"CMP_F_AB"},{headerName:"Rank",field:"RANK",tooltipField:"RANK_AB"}]:"Avail"===i?[{headerName:"Priority",field:"Alert_Type"},{headerName:"Avail (%)",field:"AV_AV",tooltipField:"AV_AV_AB"},{headerName:"Load Factor (%)",field:"LF_AV",tooltipField:"LF_AV_AB"},{headerName:"ASK (%)",field:"ASK_AV",tooltipField:"ASK_AV_AB"}]:"MarketShare"===i?[{headerName:"AL",field:"AL",tooltipField:"AL_AB",sortable:!0},{headerName:"AL MS",field:"AL_MS",tooltipField:"AL_MS_AB",sortable:!0},{headerName:"MH AL MS",field:"MH_AL_MS",tooltipField:"MH_AL_MS_AB",sortable:!0},{headerName:"AL MS Growth",field:"AL_MS_G",tooltipField:"AL_MS_G_AB",sortable:!0},{headerName:"MH MS Growth",field:"MH_MS_G",tooltipField:"MH_MS_G_AB",sortable:!0},{headerName:"Var Growth",field:"Var_G",tooltipField:"Var_G_AB",sortable:!0}]:[{headerName:"Priority",field:"Alert_Type"},{headerName:"Actual",field:"CY",tooltipField:"CY_AB"},{headerName:"LY",field:"TGT",tooltipField:"TGT_AB"},{headerName:"Var",field:"Var",tooltipField:"Var_AB"},{headerName:"Var%",field:"VarP",tooltipField:"VarP_AB"}];var a=[],n=function(e,t){var a,n;return{Alert_Type:null!==(a=e.Alert_Type)&&void 0!==a?a:t?"Total":"",Status:e.Status,CY:c.convertZeroValueToBlank(e.CY),TGT:c.convertZeroValueToBlank(e.TGT),Var:c.convertZeroValueToBlank(e.Var),VarP:c.convertZeroValueToBlank(e["Var%"]),CY_AB:window.numberWithCommas(e.CY),TGT_AB:window.numberWithCommas(e.TGT),Var_AB:window.numberWithCommas(e.Var),VarP_AB:window.numberWithCommas(e["Var%"]),AL:null!==(n=e.AL)&&void 0!==n?n:"Total",AL_MS:c.convertZeroValueToBlank(e.AL_MS),MH_AL_MS:c.convertZeroValueToBlank(e.MH_AL_MS),AL_MS_G:c.convertZeroValueToBlank(e.AL_MS_Growth),MH_MS_G:c.convertZeroValueToBlank(e.MH_MS_Growth),Var_G:c.convertZeroValueToBlank(e.Var_Growth),AL_MS_AB:window.numberWithCommas(e.AL_MS),MH_AL_MS_AB:window.numberWithCommas(e.MH_AL_MS),AL_MS_G_AB:window.numberWithCommas(e.AL_MS_Growth),MH_MS_G_AB:window.numberWithCommas(e.MH_MS_Growth),Var_G_AB:window.numberWithCommas(e.Var_Growth),MH_F:c.convertZeroValueToBlank(e.MH_Fare),CMP_F:c.convertZeroValueToBlank(e.Comp_Fare),RANK:c.convertZeroValueToBlank(e.Rank),MH_F_AB:window.numberWithCommas(e.MH_Fare),CMP_F_AB:window.numberWithCommas(e.Comp_Fare),RANK_AB:window.numberWithCommas(e.Rank),AV_AV:c.convertZeroValueToBlank(e.Avail),LF_AV:c.convertZeroValueToBlank(e.Load_Factor),ASK_AV:c.convertZeroValueToBlank(e.ASK),AV_AV_AB:window.numberWithCommas(e.Avail),LF_AV_AB:window.numberWithCommas(e.Load_Factor),ASK_AV_AB:window.numberWithCommas(e.ASK)}};e.data.TableData.forEach((function(e){a.push(n(e))}));var o=["High","Moderate","Low",0];return a.sort((function(e,t){return o.indexOf(e.Alert_Type)-o.indexOf(t.Alert_Type)})),a.push(n(e.data.Total,!0)),[{columnName:t,rowData:a,name:e.data.TableData[0].Name}]}))}},{key:"getAvailabilityDetails",value:function(e,t,a,n,o,r,l,i,c){var s=this,u="".concat(he,"/seatavailability?getYear=").concat(e,"&gettingMonth=").concat(t,"&").concat(_e(a,n,o,l),"&commonOD=").concat(encodeURIComponent(r),"&type=").concat(i,"&typeParameter=").concat(c);return v.a.get(u,this.getDefaultHeader()).then((function(e){var t=[{headerName:O.columnName.RBD,field:"RBD",tooltipField:"RBD_AB",alignLeft:!0},{headerName:"Availability",field:"Availability",tooltipField:"Availability_AB",alignLeft:!0}],a=e.data.Data.filter((function(e){return"F"===e.Cabin})),n=e.data.Data.filter((function(e){return"J"===e.Cabin})),o=e.data.Data.filter((function(e){return"Y"===e.Cabin})),r=e.data.Total.filter((function(e){return"Total of F"===e.RBD})),l=e.data.Total.filter((function(e){return"Total of J"===e.RBD})),i=e.data.Total.filter((function(e){return"Total of Y"===e.RBD})),c=[].concat(Object(I.a)(r),Object(I.a)(a),Object(I.a)(l),Object(I.a)(n),Object(I.a)(i),Object(I.a)(o)),u=[];return c.forEach((function(e){u.push({Cabin:e.Cabin,RBD:e.RBD,Availability:s.convertZeroValueToBlank(e.Availability),Availability_AB:window.numberWithCommas(e.Availability)})})),[{columnName:t,rowData:u}]})).catch((function(e){s.errorHandling(e)}))}},{key:"getPOSLineCharts",value:function(e,t,a,n,o,r){var l="";e===O.columnName.BOOKINGS&&(l="posbooking"),"Passenger-(O&D)"===e&&(l="pospassenger"),e===O.columnName.AVERAGE_FARE_$&&(l="posavgfare"),e===O.columnName.REVENUE_$&&(l="posrevenue");var i="".concat(he,"/").concat(l,"?regionId=").concat(t,"&countryId=").concat(a,"&cityId=").concat(n,"&commonOD=").concat(o,"&getCabinValue=").concat(r);return v.a.get(i,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getPOSLineChartsForecast",value:function(e,t,a,n,o,r,l,i){var c="";e===O.columnName.BOOKINGS&&(c="posbooking"),"Passenger Forecast"===e&&(c="posPassengerForeGraph"),"Average fare Forecast"===e&&(c="posAvgFareForeGraph"),"Revenue Forecast"===e&&(c="posRevenueForeGraph");var s="".concat(he,"/").concat(c,"?getYear=").concat(l,"&gettingMonth=").concat(i,"&regionId=").concat(t,"&countryId=").concat(a,"&cityId=").concat(n,"&commonOD=").concat(o,"&getCabinValue=").concat(r);return v.a.get(s,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"exportCSVPOSMonthlyURL",value:function(e,t,a,n,o){return"posDataMonthly?".concat(_e(e,t,a,o),"&commonOD=").concat(encodeURIComponent(n))}},{key:"exportCSVPOSDrillDownURL",value:function(e,t,a,n,o,r,l,i){return"posDataDrillDown?getYear=".concat(e,"&gettingMonth=").concat(t,"&").concat(_e(a,n,o,l),"&commonOD=").concat(encodeURIComponent(r),"&type=").concat(i)}},{key:"getPOSPromotionMonthTables",value:function(e,t,a,n,o,r,l,i,c,s){var u=this,d="".concat(he,"/promoTrackMonthly?").concat(be(t,a,n,o,r,l,i,c,s));return v.a.get(d,this.getDefaultHeader()).then((function(t){var a=t.data.TableData.filter((function(e){return 0===e.AvgFare_TGT||null===e.AvgFare_TGT})).length===t.data.TableData.length,n=t.data.TableData.filter((function(e){return 0===e.Revenue_TGT||null===e.Revenue_TGT})).length===t.data.TableData.length,o=t.data.TableData.filter((function(e){return 0===e.Passenger_TGT||null===e.Passenger_TGT})).length===t.data.TableData.length,r=[{headerName:"",children:[{headerName:O.columnName.MONTH,field:"Month",tooltipField:"Month",width:250,alignLeft:!0,underline:!0}]},{headerName:"Passenger-(O&D)",children:[{headerName:O.columnName.CY,field:"CY_P",tooltipField:"CY_P_AB",hide:o},{headerName:O.columnName.LY,field:"LY_P",tooltipField:"LY_P_AB",hide:o},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return u.arrowIndicator(e)}}]},{headerName:O.columnName.AVERAGE_FARE_$,children:[{headerName:O.columnName.CY,field:"CY_A",tooltipField:"CY_A_AB",hide:a},{headerName:O.columnName.LY,field:"LY_A",tooltipField:"LY_A_AB",hide:a},{headerName:O.columnName.VLY,field:"VLY_A",tooltipField:"VLY_A_AB",cellRenderer:function(e){return u.arrowIndicator(e)}}]},{headerName:O.columnName.REVENUE_$,children:[{headerName:O.columnName.CY,field:"CY_R",tooltipField:"CY_R_AB",hide:n},{headerName:O.columnName.LY,field:"LY_R",tooltipField:"LY_R_AB",hide:n},{headerName:O.columnName.VLY,field:"VLY_R",tooltipField:"VLY_R_AB",cellRenderer:function(e){return u.arrowIndicator(e)}}]}],l=t.data.TableData.filter((function(e){return e.Year===ge-1})),i=t.data.TableData.filter((function(e){return e.Year===ge})),c=t.data.TableData.filter((function(e){return e.Year===ge+1})),s=[].concat(Object(I.a)(t.data.Total_LY),Object(I.a)(l),Object(I.a)(i),Object(I.a)(t.data.Total_NY),Object(I.a)(c)),d=[];s.forEach((function(t){var a;d.push((a={Month:null===t.MonthName?"---":t.MonthName,CY_B:u.convertZeroValueToBlank(t.Bookings_CY),LY_B:u.convertZeroValueToBlank(t.Bookings_LY),VLY_B:u.convertZeroValueToBlank(t.Bookings_VLY),CY_P:u.convertZeroValueToBlank(t.Passenger_FRCT),LY_P:u.convertZeroValueToBlank(t.Passenger_LY),VLY_P:u.convertZeroValueToBlank(t.Passenger_VLY),CY_A:"lc"===e?u.convertZeroValueToBlank(t.LocalAvgFare_FRCT):u.convertZeroValueToBlank(t.AvgFare_FRCT),LY_A:"lc"===e?u.convertZeroValueToBlank(t.LocalAvgFare_LY):u.convertZeroValueToBlank(t.AvgFare_LY),VLY_A:"lc"===e?u.convertZeroValueToBlank(t.LocalAvgFare_VLY):u.convertZeroValueToBlank(t.AvgFare_VLY),CY_R:"lc"===e?u.convertZeroValueToBlank(t.LocalRevenue_CY):u.convertZeroValueToBlank(t.Revenue_CY),LY_R:"lc"===e?u.convertZeroValueToBlank(t.LocalRevenue_LY):u.convertZeroValueToBlank(t.Revenue_LY),VLY_R:"lc"===e?u.convertZeroValueToBlank(t.LocalRevenue_VLY):u.convertZeroValueToBlank(t.Revenue_VLY),CY_AL:u.convertZeroValueToBlank(t.AL_CY),VLY_AL:u.convertZeroValueToBlank(t.AL_VLY),CY_B_AB:window.numberWithCommas(t.Bookings_CY),VLY_B_AB:window.numberWithCommas(t.Bookings_VLY)},Object(p.a)(a,"VLY_B_AB",window.numberWithCommas(t.Bookings_VLY)),Object(p.a)(a,"TKT_B_AB",window.numberWithCommas(t.Bookings_TKT)),Object(p.a)(a,"CY_P_AB",window.numberWithCommas(t.Passenger_FRCT)),Object(p.a)(a,"LY_P_AB",window.numberWithCommas(t.Passenger_LY)),Object(p.a)(a,"VLY_P_AB",window.numberWithCommas(t.Passenger_VLY)),Object(p.a)(a,"CY_A_AB","lc"===e?window.numberWithCommas(t.LocalAvgFare_FRCT):window.numberWithCommas(t.AvgFare_FRCT)),Object(p.a)(a,"LY_A_AB","lc"===e?window.numberWithCommas(t.LocalAvgFare_LY):window.numberWithCommas(t.AvgFare_LY)),Object(p.a)(a,"VLY_A_AB","lc"===e?window.numberWithCommas(t.LocalAvgFare_VLY):window.numberWithCommas(t.AvgFare_VLY)),Object(p.a)(a,"CY_R_AB","lc"===e?window.numberWithCommas(t.LocalRevenue_CY):window.numberWithCommas(t.Revenue_CY)),Object(p.a)(a,"LY_R_AB","lc"===e?window.numberWithCommas(t.LocalRevenue_LY):window.numberWithCommas(t.Revenue_LY)),Object(p.a)(a,"VLY_R_AB","lc"===e?window.numberWithCommas(t.LocalRevenue_VLY):window.numberWithCommas(t.Revenue_VLY)),Object(p.a)(a,"CY_AL_AB",window.numberWithCommas(t.AL_CY)),Object(p.a)(a,"VLY_AL_AB",window.numberWithCommas(t.AL_VLY)),Object(p.a)(a,"Year",t.Year),Object(p.a)(a,"MonthName",t.monthfullname),Object(p.a)(a,"isUnderline",parseInt(t.Year)==ge?t.MonthNumber>=pe:parseInt(t.Year)>ge&&t.MonthNumber<pe),a))}));var m=[];return t.data.Total_CY.forEach((function(t){m.push({Month:"Total",CY_B:u.convertZeroValueToBlank(t.Bookings_CY),LY_B:u.convertZeroValueToBlank(t.Bookings_LY),VLY_B:u.convertZeroValueToBlank(t.Bookings_VLY),CY_P:u.convertZeroValueToBlank(t.Passenger_FRCT),LY_P:u.convertZeroValueToBlank(t.Passenger_LY),VLY_P:u.convertZeroValueToBlank(t.Passenger_VLY),CY_A:"lc"===e?u.convertZeroValueToBlank(t.LocalAvgFare_FRCT):u.convertZeroValueToBlank(t.AvgFare_FRCT),LY_A:"lc"===e?u.convertZeroValueToBlank(t.LocalAvgFare_LY):u.convertZeroValueToBlank(t.AvgFare_LY),VLY_A:"lc"===e?u.convertZeroValueToBlank(t.LocalAvgFare_VLY):u.convertZeroValueToBlank(t.AvgFare_VLY),CY_R:"lc"===e?u.convertZeroValueToBlank(t.LocalRevenue_CY):u.convertZeroValueToBlank(t.Revenue_CY),LY_R:"lc"===e?u.convertZeroValueToBlank(t.LocalRevenue_LY):u.convertZeroValueToBlank(t.Revenue_LY),VLY_R:"lc"===e?u.convertZeroValueToBlank(t.LocalRevenue_VLY):u.convertZeroValueToBlank(t.Revenue_VLY),CY_AL:u.convertZeroValueToBlank(t.AL_CY),VLY_AL:u.convertZeroValueToBlank(t.AL_VLY),CY_B_AB:window.numberWithCommas(t.Bookings_CY),LY_B_AB:window.numberWithCommas(t.Bookings_LY),VLY_B_AB:window.numberWithCommas(t.Bookings_VLY),TKT_B_AB:window.numberWithCommas(t.Bookings_TKT),CY_P_AB:window.numberWithCommas(t.Passenger_FRCT),LY_P_AB:window.numberWithCommas(t.Passenger_LY),VLY_P_AB:window.numberWithCommas(t.Passenger_VLY),CY_A_AB:"lc"===e?window.numberWithCommas(t.LocalAvgFare_FRCT):window.numberWithCommas(t.AvgFare_FRCT),LY_A_AB:"lc"===e?window.numberWithCommas(t.LocalAvgFare_LY):window.numberWithCommas(t.AvgFare_LY),VLY_A_AB:"lc"===e?window.numberWithCommas(t.LocalAvgFare_VLY):window.numberWithCommas(t.AvgFare_VLY),CY_R_AB:"lc"===e?window.numberWithCommas(t.LocalRevenue_CY):window.numberWithCommas(t.Revenue_CY),LY_R_AB:"lc"===e?window.numberWithCommas(t.LocalRevenue_LY):window.numberWithCommas(t.Revenue_LY),VLY_R_AB:"lc"===e?window.numberWithCommas(t.LocalRevenue_VLY):window.numberWithCommas(t.Revenue_VLY),CY_AL_AB:window.numberWithCommas(t.AL_CY),VLY_AL_AB:window.numberWithCommas(t.AL_VLY)})})),[{columnName:r,rowData:d,totalData:m,currentAccess:t.data.CurretAccess}]})).catch((function(e){console.log(e)}))}},{key:"getPOSPromotionDrillDownData",value:function(e,t,a,n,o,r,l,i,c,s,u,d,m){var h=this,g="".concat(he,"/promoTrackDrillDown?getYear=").concat(e,"&gettingMonth=").concat(a,"&").concat(be(n,o,r,l,i,c,s,u,d),"&type=").concat(m);return localStorage.setItem("posPromotionDownloadURL",g),v.a.get(g,this.getDefaultHeader()).then((function(e){var a=e.data.ColumnName,n=(e.data.TableData.filter((function(e){return 0===e.AvgFare_TGT||null===e.AvgFare_TGT})).length,e.data.TableData.length,e.data.TableData.filter((function(e){return 0===e.Revenue_TGT||null===e.Revenue_TGT})).length,e.data.TableData.length,e.data.TableData.filter((function(e){return 0===e.Passenger_TGT||null===e.Passenger_TGT})).length===e.data.TableData.length),o=[{headerName:"",children:[{headerName:a,field:"firstColumnName",tooltipField:"firstColumnName",width:250,alignLeft:!0,underline:"Null"===m&&"Cabin"!==a}]},{headerName:"Passenger-(O&D)",children:[{headerName:O.columnName.CY,field:"CY_P",tooltipField:"CY_P_AB",hide:n,sortable:!0,comparator:h.customSorting},{headerName:O.columnName.LY,field:"LY_P",tooltipField:"LY_P_AB",hide:n,sortable:!0,comparator:h.customSorting},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return h.arrowIndicator(e)},sortable:!0,comparator:h.customSorting}]},{headerName:O.columnName.AVERAGE_FARE_$,children:[{headerName:O.columnName.CY,field:"CY_A",tooltipField:"CY_A_AB",hide:n,sortable:!0,comparator:h.customSorting},{headerName:O.columnName.LY,field:"LY_A",tooltipField:"LY_A_AB",hide:n,sortable:!0,comparator:h.customSorting},{headerName:O.columnName.VLY,field:"VLY_A",tooltipField:"VLY_A_AB",cellRenderer:function(e){return h.arrowIndicator(e)},sortable:!0,comparator:h.customSorting}]},{headerName:O.columnName.REVENUE_$,children:[{headerName:O.columnName.CY,field:"CY_R",tooltipField:"CY_R_AB",hide:n,sortable:!0,comparator:h.customSorting},{headerName:O.columnName.LY,field:"LY_R",tooltipField:"LY_R_AB",hide:n,sortable:!0,comparator:h.customSorting},{headerName:O.columnName.VLY,field:"VLY_R",tooltipField:"VLY_R_AB",cellRenderer:function(e){return h.arrowIndicator(e)},sortable:!0,comparator:h.customSorting}]}],r=[];e.data.TableData.forEach((function(e){r.push({firstColumnName:null===e.ColumnName?"---":e.ColumnName,"":"",CY_B:h.convertZeroValueToBlank(e.Bookings_CY),LY_B:h.convertZeroValueToBlank(e.Bookings_LY),VLY_B:h.convertZeroValueToBlank(e.Bookings_VLY),CY_P:h.convertZeroValueToBlank(e.Passenger_FRCT),LY_P:h.convertZeroValueToBlank(e.Passenger_LY),VLY_P:h.convertZeroValueToBlank(e.Passenger_VLY),CY_A:"lc"===t?h.convertZeroValueToBlank(e.LocalAvgFare_FRCT):h.convertZeroValueToBlank(e.AvgFare_FRCT),LY_A:"lc"===t?h.convertZeroValueToBlank(e.LocalAvgFare_LY):h.convertZeroValueToBlank(e.AvgFare_LY),VLY_A:"lc"===t?h.convertZeroValueToBlank(e.LocalAvgFare_VLY):h.convertZeroValueToBlank(e.AvgFare_VLY),CY_R:"lc"===t?h.convertZeroValueToBlank(e.LocalRevenue_CY):h.convertZeroValueToBlank(e.Revenue_CY),LY_R:"lc"===t?h.convertZeroValueToBlank(e.LocalRevenue_LY):h.convertZeroValueToBlank(e.Revenue_LY),VLY_R:"lc"===t?h.convertZeroValueToBlank(e.LocalRevenue_VLY):h.convertZeroValueToBlank(e.Revenue_VLY),Avail:h.convertZeroValueToBlank(e.Avail),CY_AL:h.convertZeroValueToBlank(e.AL_CY),VLY_AL:h.convertZeroValueToBlank(e.AL_VLY),CY_B_AB:window.numberWithCommas(e.Bookings_CY),LY_B_AB:window.numberWithCommas(e.Bookings_LY),VLY_B_AB:window.numberWithCommas(e.Bookings_VLY),TKT_B_AB:window.numberWithCommas(e.Bookings_TKT),CY_P_AB:window.numberWithCommas(e.Passenger_FRCT),LY_P_AB:window.numberWithCommas(e.Passenger_LY),VLY_P_AB:window.numberWithCommas(e.Passenger_VLY),CY_A_AB:"lc"===t?window.numberWithCommas(e.LocalAvgFare_FRCT):window.numberWithCommas(e.AvgFare_FRCT),LY_A_AB:"lc"===t?window.numberWithCommas(e.LocalAvgFare_LY):window.numberWithCommas(e.AvgFare_LY),VLY_A_AB:"lc"===t?window.numberWithCommas(e.LocalAvgFare_VLY):window.numberWithCommas(e.AvgFare_VLY),CY_R_AB:"lc"===t?window.numberWithCommas(e.LocalRevenue_CY):window.numberWithCommas(e.Revenue_CY),LY_R_AB:"lc"===t?window.numberWithCommas(e.LocalRevenue_LY):window.numberWithCommas(e.Revenue_LY),VLY_R_AB:"lc"===t?window.numberWithCommas(e.LocalRevenue_VLY):window.numberWithCommas(e.Revenue_VLY),Avail_AB:window.numberWithCommas(e.Avail),CY_AL_AB:window.numberWithCommas(e.AL_CY),VLY_AL_AB:window.numberWithCommas(e.AL_VLY),isAlert:e.is_alert})}));var l=[];return e.data.Total.forEach((function(e){l.push({Ancillary_Full_Name:"Total",firstColumnName:"Total",CY_B:h.convertZeroValueToBlank(e.Bookings_CY),LY_B:h.convertZeroValueToBlank(e.Bookings_LY),VLY_B:h.convertZeroValueToBlank(e.Bookings_VLY),CY_P:h.convertZeroValueToBlank(e.Passenger_FRCT),LY_P:h.convertZeroValueToBlank(e.Passenger_LY),VLY_P:h.convertZeroValueToBlank(e.Passenger_VLY),CY_A:"lc"===t?h.convertZeroValueToBlank(e.LocalAvgFare_FRCT):h.convertZeroValueToBlank(e.AvgFare_FRCT),LY_A:"lc"===t?h.convertZeroValueToBlank(e.LocalAvgFare_LY):h.convertZeroValueToBlank(e.AvgFare_LY),VLY_A:"lc"===t?h.convertZeroValueToBlank(e.LocalAvgFare_VLY):h.convertZeroValueToBlank(e.AvgFare_VLY),CY_R:"lc"===t?h.convertZeroValueToBlank(e.LocalRevenue_CY):h.convertZeroValueToBlank(e.Revenue_CY),LY_R:"lc"===t?h.convertZeroValueToBlank(e.LocalRevenue_LY):h.convertZeroValueToBlank(e.Revenue_LY),VLY_R:"lc"===t?h.convertZeroValueToBlank(e.LocalRevenue_VLY):h.convertZeroValueToBlank(e.Revenue_VLY),Avail:h.convertZeroValueToBlank(e.Avail),CY_AL:h.convertZeroValueToBlank(e.AL_CY),VLY_AL:h.convertZeroValueToBlank(e.AL_VLY),CY_B_AB:window.numberWithCommas(e.Bookings_CY),LY_B_AB:window.numberWithCommas(e.Bookings_LY),VLY_B_AB:window.numberWithCommas(e.Bookings_VLY),TKT_B_AB:window.numberWithCommas(e.Bookings_TKT),CY_P_AB:window.numberWithCommas(e.Passenger_FRCT),LY_P_AB:window.numberWithCommas(e.Passenger_LY),VLY_P_AB:window.numberWithCommas(e.Passenger_VLY),CY_A_AB:"lc"===t?window.numberWithCommas(e.LocalAvgFare_FRCT):window.numberWithCommas(e.AvgFare_FRCT),LY_A_AB:"lc"===t?window.numberWithCommas(e.LocalAvgFare_LY):window.numberWithCommas(e.AvgFare_LY),VLY_A_AB:"lc"===t?window.numberWithCommas(e.LocalAvgFare_VLY):window.numberWithCommas(e.AvgFare_VLY),CY_R_AB:"lc"===t?window.numberWithCommas(e.LocalRevenue_CY):window.numberWithCommas(e.Revenue_CY),LY_R_AB:"lc"===t?window.numberWithCommas(e.LocalRevenue_LY):window.numberWithCommas(e.Revenue_LY),VLY_R_AB:"lc"===t?window.numberWithCommas(e.LocalRevenue_VLY):window.numberWithCommas(e.Revenue_VLY),Avail_AB:window.numberWithCommas(e.Avail),CY_AL_AB:window.numberWithCommas(e.AL_CY),VLY_AL_AB:window.numberWithCommas(e.AL_VLY),isAlert:e.is_alert})})),[{columnName:o,rowData:r,currentAccess:e.data.CurrentAccess,totalData:l,tabName:e.data.ColumnName,firstTabName:e.data.first_ColumnName}]})).catch((function(e){h.errorHandling(e)}))}},{key:"getPromoTitleGraph",value:function(e,t,a,n,o,r,l,i,c,s,u,d,m){var h=this,g="".concat(he,"/PromoTitleGraph?getYear=").concat(e,"&gettingMonth=").concat(a,"&").concat(be(n,o,r,l,i,c,s,u,d),"&dataType=").concat(m);return v.a.get(g,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){h.errorHandling(e)}))}},{key:"getTicketbyChannelGraph",value:function(e,t,a,n,o,r,l,i,c,s,u,d,m){var h=this,g="".concat(he,"/TicketbyChannelGraph?getYear=").concat(e,"&gettingMonth=").concat(a,"&").concat(be(n,o,r,l,i,c,s,u,d),"&dataType=").concat(m);return v.a.get(g,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){h.errorHandling(e)}))}},{key:"getChannelbyRevenueGraph",value:function(e,t,a,n,o,r,l,i,c,s,u,d,m){var h=this,g="".concat(he,"/ChannelbyRevenueGraph?getYear=").concat(e,"&gettingMonth=").concat(a,"&").concat(be(n,o,r,l,i,c,s,u,d),"&dataType=").concat(m);return v.a.get(g,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){h.errorHandling(e)}))}},{key:"getTop10NonDirectionalODGraph",value:function(e,t,a,n,o,r,l,i,c,s,u,d,m){var h=this,g="".concat(he,"/Top10Non_directionalODGraph?getYear=").concat(e,"&gettingMonth=").concat(a,"&").concat(be(n,o,r,l,i,c,s,u,d),"&dataType=").concat(m);return v.a.get(g,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){h.errorHandling(e)}))}},{key:"getRevenueByIssueDateGraph",value:function(e,t,a,n,o,r,l,i,c,s,u,d,m){var h=this,g="".concat(he,"/RevenueByIssueDate?getYear=").concat(e,"&gettingMonth=").concat(a,"&").concat(be(n,o,r,l,i,c,s,u,d),"&dataType=").concat(m);return v.a.get(g,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){h.errorHandling(e)}))}},{key:"getNoOfTicketsByIssueGraph",value:function(e,t,a,n,o,r,l,i,c,s,u,d,m){var h=this,g="".concat(he,"/NoOfTicketsByIssueDate?getYear=").concat(e,"&gettingMonth=").concat(a,"&").concat(be(n,o,r,l,i,c,s,u,d),"&dataType=").concat(m);return v.a.get(g,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){h.errorHandling(e)}))}},{key:"getRevenueByTravelPeriodGraph",value:function(e,t,a,n,o,r,l,i,c,s,u,d,m){var h=this,g="".concat(he,"/RevenueByTravelPeriod?getYear=").concat(e,"&gettingMonth=").concat(a,"&").concat(be(n,o,r,l,i,c,s,u,d),"&dataType=").concat(m);return v.a.get(g,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){h.errorHandling(e)}))}},{key:"getNoOfTicketsByTravelPeriodGraph",value:function(e,t,a,n,o,r,l,i,c,s,u,d,m){var h=this,g="".concat(he,"/NoOfTicketByTravelPeriod?getYear=").concat(e,"&gettingMonth=").concat(a,"&").concat(be(n,o,r,l,i,c,s,u,d),"&dataType=").concat(m);return v.a.get(g,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){h.errorHandling(e)}))}},{key:"getClassNameDetails",value:function(){var e="".concat(he,"/getClassDetails");return v.a.get(e).then((function(e){var t=[];return e.data.forEach((function(e){t.push({ClassText:e.Cabin,ClassValue:e.Cabin})})),[{classDatas:t}]})).catch((function(e){console.log(e)}))}},{key:"getRouteMonthTables",value:function(e,t,a,n,o,r,l,i){var c=this,s="".concat(he,"/routeDataMonthly?selectedRouteGroup=").concat(t,"&").concat(Se(a,n,o,i),"&selectedLeg=").concat(encodeURIComponent(r),"&flight=").concat(H(l));return v.a.get(s,this.getDefaultHeader()).then((function(t){var a=t.data.TableData.filter((function(e){return 0===e.AvgFare_TGT||null===e.AvgFare_TGT})).length===t.data.TableData.length,n=t.data.TableData.filter((function(e){return 0===e.Revenue_TGT||null===e.Revenue_TGT})).length===t.data.TableData.length,o=t.data.TableData.filter((function(e){return 0===e.Passenger_TGT||null===e.Passenger_TGT})).length===t.data.TableData.length,r=[{headerName:"",children:[{headerName:O.columnName.MONTH,field:"Month",tooltipField:"Month",width:250,alignLeft:!0,underline:!0}]},{headerName:O.columnName.BOOKINGS,headerTooltip:O.columnName.BOOKINGS,headerGroupComponent:"customHeaderGroupComponent",children:[{headerName:O.columnName.CY,field:"CY_B",tooltipField:"CY_B_AB",underline:!0},{headerName:O.columnName.VLY,field:"VLY_B",tooltipField:"VLY_B_AB",cellRenderer:function(e){return c.arrowIndicator(e)},width:250},{headerName:O.columnName.TKT,field:"TKT_B",tooltipField:"TKT_B_AB"}]},{headerName:O.columnName.PASSENGER_OD,headerTooltip:O.columnName.PASSENGER_OD,headerGroupComponent:"customHeaderGroupComponent",children:[{headerName:O.columnName.FORECAST_ACT,field:"FRCT/Act_P",tooltipField:"FRCT/Act_P_AB",width:250,cellClassRules:{"align-right-underline":function(e){return e.data.isUnderline}}},{headerName:O.columnName.TGT,field:"TGT_P",tooltipField:"TGT_P_AB",hide:o},{headerName:O.columnName.VTG,field:"VTG_P",tooltipField:"VTG_P_AB",cellRenderer:function(e){return c.arrowIndicator(e)},hide:o},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return c.arrowIndicator(e)}}]},{headerName:O.columnName.AVERAGE_FARE_$,headerTooltip:O.columnName.AVERAGE_FARE_$,headerGroupComponent:"customHeaderGroupComponent",children:[{headerName:O.columnName.FORECAST_ACT,field:"FRCT/Act_A",tooltipField:"FRCT/Act_A_AB",width:250,cellClassRules:{"align-right-underline":function(e){return e.data.isUnderline}}},{headerName:O.columnName.TGT,field:"TGT_A",tooltipField:"TGT_A_AB",hide:a},{headerName:O.columnName.VTG,field:"VTG_A",tooltipField:"VTG_A_AB",cellRenderer:function(e){return c.arrowIndicator(e)},hide:a},{headerName:O.columnName.VLY,field:"VLY_Avg",tooltipField:"VLY_Avg_AB",cellRenderer:function(e){return c.arrowIndicator(e)}}]},{headerName:O.columnName.REVENUE_$,headerTooltip:O.columnName.REVENUE_$,headerGroupComponent:"customHeaderGroupComponent",children:[{headerName:O.columnName.FORECAST_ACT,field:"FRCT/Act_R",tooltipField:"FRCT/Act_R_AB",width:250,cellClassRules:{"align-right-underline":function(e){return e.data.isUnderline}}},{headerName:O.columnName.TGT,field:"TGT_R",tooltipField:"TGT_R_AB",hide:n},{headerName:O.columnName.VTG,field:"VTG_R",tooltipField:"VTG_R_AB",cellRenderer:function(e){return c.arrowIndicator(e)},hide:n},{headerName:O.columnName.VLY,field:"VLY_Rev",tooltipField:"VLY_Rev_AB",cellRenderer:function(e){return c.arrowIndicator(e)}}]},{headerName:O.columnName.RASK_DOLLAR,headerTooltip:O.columnName.RASK_DOLLAR,children:[{headerName:O.columnName.CY,field:"CY_R",tooltipField:"CY_R_AB"},{headerName:O.columnName.VLY,field:"VLY_R",tooltipField:"VLY_R",cellRenderer:function(e){return c.arrowIndicator(e)},width:250}]},{headerName:O.columnName.ASK,headerTooltip:O.columnName.ASK,children:[{headerName:O.columnName.CY,field:"CY_A",tooltipField:"CY_A_AB"},{headerName:O.columnName.VLY,field:"VLY_A",tooltipField:"VLY_A",cellRenderer:function(e){return c.arrowIndicator(e)},width:250}]},{headerName:O.columnName.YIELD,headerTooltip:O.columnName.YIELD,children:[{headerName:O.columnName.CY,field:"CY_Y",tooltipField:"CY_Y_AB"},{headerName:O.columnName.VLY,field:"VLY_Y",tooltipField:"VLY_Y_AB",cellRenderer:function(e){return c.arrowIndicator(e)},width:250}]},{headerName:O.columnName.LOAD_FACTOR,headerTooltip:O.columnName.LOAD_FACTOR,headerGroupComponent:"customHeaderGroupComponent",children:[{headerName:O.columnName.CY,field:"CY_L",tooltipField:"CY_L_AB"},{headerName:O.columnName.VLY,field:"VLY_L",tooltipField:"VLY_L_AB",cellRenderer:function(e){return c.arrowIndicator(e)},width:250}]}],l=t.data.TableData.filter((function(e){return e.Year===ge-1})),i=t.data.TableData.filter((function(e){return e.Year===ge})),s=t.data.TableData.filter((function(e){return e.Year===ge+1})),u=[].concat(Object(I.a)(t.data.Total_LY),Object(I.a)(l),Object(I.a)(i),Object(I.a)(t.data.Total_NY),Object(I.a)(s)),d=[];u.forEach((function(t){d.push({Month:null===t.MonthName?"---":t.MonthName,"":"",CY_B:c.convertZeroValueToBlank(t.Bookings_CY),VLY_B:c.convertZeroValueToBlank(t.Bookings_VLY),TKT_B:"".concat(c.convertZeroValueToBlank(t.Bookings_TKT)).concat(c.showPercent(t.Bookings_TKT)),"FRCT/Act_P":c.convertZeroValueToBlank(t.Passenger_FRCT),TGT_P:c.convertZeroValueToBlank(t.Passenger_TGT),VTG_P:c.convertZeroValueToBlank(t.Passenger_VTG),VLY_P:c.convertZeroValueToBlank(t.Passenger_VLY),"FRCT/Act_A":"lc"===e?c.convertZeroValueToBlank(t.LocalAvgFare_FRCT):c.convertZeroValueToBlank(t.AvgFare_FRCT),TGT_A:c.convertZeroValueToBlank(t.AvgFare_TGT),VTG_A:c.convertZeroValueToBlank(t.AvgFare_VTG),VLY_Avg:"lc"===e?c.convertZeroValueToBlank(t.LocalAvgFare_VLY):c.convertZeroValueToBlank(t.AvgFare_VLY),"FRCT/Act_R":"lc"===e?c.convertZeroValueToBlank(t.LocalRevenue_CY):c.convertZeroValueToBlank(t.Revenue_CY),TGT_R:c.convertZeroValueToBlank(t.Revenue_TGT),VTG_R:c.convertZeroValueToBlank(t.Revenue_VTG),VLY_Rev:"lc"===e?c.convertZeroValueToBlank(t.LocalRevenue_VLY):c.convertZeroValueToBlank(t.Revenue_VLY),CY_AL:c.convertZeroValueToBlank(t.AL_CY),VLY_AL:c.convertZeroValueToBlank(t.AL_VLY),CY_R:"lc"===e?c.convertZeroValueToBlank(t.LocalRask_CY):c.convertZeroValueToBlank(t.Rask_CY),VLY_R:"lc"===e?c.convertZeroValueToBlank(t.LocalRask_VLY):c.convertZeroValueToBlank(t.Rask_VLY),CY_A:c.convertZeroValueToBlank(t.ASK_CY),VLY_A:c.convertZeroValueToBlank(t.ASK_VLY),CY_Y:c.convertZeroValueToBlank(t.yield_CY),VLY_Y:c.convertZeroValueToBlank(t.yield_VLY),CY_L:c.convertZeroValueToBlank(t.LoadFactor_CY),VLY_L:c.convertZeroValueToBlank(t.LoadFactor_VLY),CY_B_AB:window.numberWithCommas(t.Bookings_CY),VLY_B_AB:window.numberWithCommas(t.Bookings_VLY),TKT_B_AB:window.numberWithCommas(t.Bookings_TKT),"FRCT/Act_P_AB":window.numberWithCommas(t.Passenger_FRCT),TGT_P_AB:window.numberWithCommas(t.Passenger_TGT),VTG_P_AB:window.numberWithCommas(t.Passenger_VTG),VLY_P_AB:window.numberWithCommas(t.Passenger_VLY),"FRCT/Act_A_AB":"lc"===e?window.numberWithCommas(t.LocalAvgFare_FRCT):window.numberWithCommas(t.AvgFare_FRCT),TGT_A_AB:window.numberWithCommas(t.AvgFare_TGT),VTG_A_AB:window.numberWithCommas(t.AvgFare_VTG),VLY_Avg_AB:"lc"===e?window.numberWithCommas(t.LocalAvgFare_VLY):window.numberWithCommas(t.AvgFare_VLY),"FRCT/Act_R_AB":"lc"===e?window.numberWithCommas(t.LocalRevenue_CY):window.numberWithCommas(t.Revenue_CY),TGT_R_AB:window.numberWithCommas(t.Revenue_TGT),VTG_R_AB:window.numberWithCommas(t.Revenue_VTG),VLY_Rev_AB:"lc"===e?window.numberWithCommas(t.LocalRevenue_VLY):window.numberWithCommas(t.Revenue_VLY),CY_AL_AB:window.numberWithCommas(t.AL_CY),VLY_AL_AB:window.numberWithCommas(t.AL_VLY),CY_R_AB:"lc"===e?window.numberWithCommas(t.LocalRask_CY):window.numberWithCommas(t.Rask_CY),VLY_R_AB:"lc"===e?window.numberWithCommas(t.LocalRask_VLY):window.numberWithCommas(t.Rask_VLY),CY_A_AB:window.numberWithCommas(t.ASK_CY),VLY_A_AB:window.numberWithCommas(t.ASK_VLY),CY_Y_AB:window.numberWithCommas(t.yield_CY),VLY_Y_AB:window.numberWithCommas(t.yield_VLY),CY_L_AB:window.numberWithCommas(t.LoadFactor_CY),VLY_L_AB:window.numberWithCommas(t.LoadFactor_VLY),Year:t.Year,MonthName:t.monthfullname,isUnderline:parseInt(t.Year)==ge?t.MonthNumber>=pe:parseInt(t.Year)>ge&&t.MonthNumber<pe})}));var m=[];return t.data.Total_CY.forEach((function(t){m.push({Month:"Total",CY_B:c.convertZeroValueToBlank(t.Bookings_CY),VLY_B:c.convertZeroValueToBlank(t.Bookings_VLY),TKT_B:"".concat(c.convertZeroValueToBlank(t.Bookings_TKT)).concat(c.showPercent(t.Bookings_TKT)),"FRCT/Act_P":c.convertZeroValueToBlank(t.Passenger_FRCT),TGT_P:c.convertZeroValueToBlank(t.Passenger_TGT),VTG_P:c.convertZeroValueToBlank(t.Passenger_VTG),VLY_P:c.convertZeroValueToBlank(t.Passenger_VLY),"FRCT/Act_A":"lc"===e?c.convertZeroValueToBlank(t.LocalAvgFare_FRCT):c.convertZeroValueToBlank(t.AvgFare_FRCT),TGT_A:c.convertZeroValueToBlank(t.AvgFare_TGT),VTG_A:c.convertZeroValueToBlank(t.AvgFare_VTG),VLY_Avg:"lc"===e?c.convertZeroValueToBlank(t.LocalAvgFare_VLY):c.convertZeroValueToBlank(t.AvgFare_VLY),"FRCT/Act_R":"lc"===e?c.convertZeroValueToBlank(t.LocalRevenue_CY):c.convertZeroValueToBlank(t.Revenue_CY),TGT_R:c.convertZeroValueToBlank(t.Revenue_TGT),VTG_R:c.convertZeroValueToBlank(t.Revenue_VTG),VLY_Rev:"lc"===e?c.convertZeroValueToBlank(t.LocalRevenue_VLY):c.convertZeroValueToBlank(t.Revenue_VLY),CY_AL:c.convertZeroValueToBlank(t.AL_CY),VLY_AL:c.convertZeroValueToBlank(t.AL_VLY),CY_R:"lc"===e?c.convertZeroValueToBlank(t.LocalRask_CY):c.convertZeroValueToBlank(t.Rask_CY),VLY_R:"lc"===e?c.convertZeroValueToBlank(t.LocalRask_VLY):c.convertZeroValueToBlank(t.Rask_VLY),CY_A:c.convertZeroValueToBlank(t.ASK_CY),VLY_A:c.convertZeroValueToBlank(t.ASK_VLY),CY_Y:c.convertZeroValueToBlank(t.yield_CY),VLY_Y:c.convertZeroValueToBlank(t.yield_VLY),CY_L:c.convertZeroValueToBlank(t.LoadFactor_CY),VLY_L:c.convertZeroValueToBlank(t.LoadFactor_VLY),CY_B_AB:window.numberWithCommas(t.Bookings_CY),VLY_B_AB:window.numberWithCommas(t.Bookings_VLY),TKT_B_AB:window.numberWithCommas(t.Bookings_TKT),"FRCT/Act_P_AB":window.numberWithCommas(t.Passenger_FRCT),TGT_P_AB:window.numberWithCommas(t.Passenger_TGT),VTG_P_AB:window.numberWithCommas(t.Passenger_VTG),VLY_P_AB:window.numberWithCommas(t.Passenger_VLY),"FRCT/Act_A_AB":"lc"===e?window.numberWithCommas(t.LocalAvgFare_FRCT):window.numberWithCommas(t.AvgFare_FRCT),TGT_A_AB:window.numberWithCommas(t.AvgFare_TGT),VTG_A_AB:window.numberWithCommas(t.AvgFare_VTG),VLY_Avg_AB:"lc"===e?window.numberWithCommas(t.LocalAvgFare_VLY):window.numberWithCommas(t.AvgFare_VLY),"FRCT/Act_R_AB":"lc"===e?window.numberWithCommas(t.LocalRevenue_CY):window.numberWithCommas(t.Revenue_CY),TGT_R_AB:window.numberWithCommas(t.Revenue_TGT),VTG_R_AB:window.numberWithCommas(t.Revenue_VTG),VLY_Rev_AB:"lc"===e?window.numberWithCommas(t.LocalRevenue_VLY):window.numberWithCommas(t.Revenue_VLY),CY_AL_AB:window.numberWithCommas(t.AL_CY),VLY_AL_AB:window.numberWithCommas(t.AL_VLY),CY_R_AB:"lc"===e?window.numberWithCommas(t.LocalRask_CY):window.numberWithCommas(t.Rask_CY),VLY_R_AB:"lc"===e?window.numberWithCommas(t.LocalRask_VLY):window.numberWithCommas(t.Rask_VLY),CY_A_AB:window.numberWithCommas(t.ASK_CY),VLY_A_AB:window.numberWithCommas(t.ASK_VLY),CY_Y_AB:window.numberWithCommas(t.yield_CY),VLY_Y_AB:window.numberWithCommas(t.yield_VLY),CY_L_AB:window.numberWithCommas(t.LoadFactor_CY),VLY_L_AB:window.numberWithCommas(t.LoadFactor_VLY)})})),[{columnName:r,routemonthtableDatas:d,currentAccess:t.data.CurretAccess,totalData:m}]})).catch((function(e){console.log("error",e)}))}},{key:"getRouteDrillDownData",value:function(e,t,a,n,o,r,l,i,c,s,u){var d=this,m="".concat(he,"/routeDataDrillDown?getYear=").concat(e,"&gettingMonth=").concat(a,"&selectedRouteGroup=").concat(n,"&").concat(Se(o,r,l,s),"&selectedLeg=").concat(encodeURIComponent(i),"&flight=").concat(H(c),"&type=").concat(u),h="".concat(he,"/FullYearDownloadRoute?getYear=").concat(e,"&gettingMonth=").concat(a,"&selectedRouteGroup=").concat(n,"&").concat(Se(o,r,l,s),"&selectedLeg=").concat(encodeURIComponent(i),"&flight=").concat(H(c),"&type=").concat(u);return localStorage.setItem("routeDownloadURL",h),v.a.get(m,this.getDefaultHeader()).then((function(e){var a=e.data.TableData.filter((function(e){return 0===e.AvgFare_TGT||null===e.AvgFare_TGT})).length===e.data.TableData.length,n=e.data.TableData.filter((function(e){return 0===e.Revenue_TGT||null===e.Revenue_TGT})).length===e.data.TableData.length,o=e.data.TableData.filter((function(e){return 0===e.Passenger_TGT||null===e.Passenger_TGT})).length===e.data.TableData.length,r=e.data.ColumnName,l="Ancillary"===r,i=[{headerName:"",children:[{headerName:r,field:"firstColumnName",tooltipField:"Ancillary"===r?"Ancillary_Full_Name":"firstColumnName",width:250,alignLeft:!0,underline:"Null"===u&&"Cabin"!==r}]},{headerName:O.columnName.BOOKINGS,headerTooltip:O.columnName.BOOKINGS,children:[{headerName:O.columnName.CY,field:"CY_B",tooltipField:"CY_B_AB",sortable:!0,hide:"Ancillary"===r,comparator:d.customSorting},{headerName:O.columnName.VLY,field:"VLY_B",tooltipField:"VLY_B_AB",cellRenderer:function(e){return d.arrowIndicator(e)},width:250,hide:"Ancillary"===r,sortable:!0,comparator:d.customSorting},{headerName:O.columnName.TKT,field:"TKT_B",tooltipField:"TKT_B_AB",hide:"Ancillary"===r,sortable:!0,comparator:d.customSorting}]},{headerName:O.columnName.PASSENGER_OD,headerTooltip:O.columnName.PASSENGER_OD,children:[{headerName:O.columnName.FORECAST_ACT,field:"FRCT/Act_P",tooltipField:"FRCT/Act_P_AB",width:250,sortable:!0,comparator:d.customSorting},{headerName:O.columnName.TGT,field:"TGT_P",tooltipField:"TGT_P_AB",hide:o,sortable:!0,comparator:d.customSorting},{headerName:O.columnName.VTG,field:"VTG_P",tooltipField:"VTG_P_AB",cellRenderer:function(e){return d.arrowIndicator(e)},hide:o,sortable:!0,comparator:d.customSorting},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return d.arrowIndicator(e)},sortable:!0,comparator:d.customSorting}]},{headerName:O.columnName.AVERAGE_FARE_$,headerTooltip:O.columnName.AVERAGE_FARE_$,children:[{headerName:O.columnName.FORECAST_ACT,field:"FRCT/Act_A",tooltipField:"FRCT/Act_A_AB",width:250,sortable:!0,comparator:d.customSorting},{headerName:O.columnName.TGT,field:"TGT_A",tooltipField:"TGT_A_AB",hide:a,sortable:!0,comparator:d.customSorting},{headerName:O.columnName.VTG,field:"VTG_A",tooltipField:"VTG_A_AB",cellRenderer:function(e){return d.arrowIndicator(e)},hide:a,sortable:!0,comparator:d.customSorting},{headerName:O.columnName.VLY,field:"VLY_Avg",tooltipField:"VLY_Avg_AB",cellRenderer:function(e){return d.arrowIndicator(e)},sortable:!0,comparator:d.customSorting}]},{headerName:O.columnName.REVENUE_$,headerTooltip:O.columnName.REVENUE_$,children:[{headerName:O.columnName.FORECAST_ACT,field:"FRCT/Act_R",tooltipField:"FRCT/Act_R_AB",width:250,sortable:!0,comparator:d.customSorting,sort:"desc"},{headerName:O.columnName.TGT,field:"TGT_R",tooltipField:"TGT_R_AB",hide:n,sortable:!0,comparator:d.customSorting},{headerName:O.columnName.VTG,field:"VTG_R",tooltipField:"VTG_R_AB",cellRenderer:function(e){return d.arrowIndicator(e)},hide:n,sortable:!0,comparator:d.customSorting},{headerName:O.columnName.VLY,field:"VLY_Rev",tooltipField:"VLY_Rev_AB",cellRenderer:function(e){return d.arrowIndicator(e)},sortable:!0,comparator:d.customSorting}]},{headerName:O.columnName.RASK_DOLLAR,headerTooltip:O.columnName.RASK_DOLLAR,children:[{headerName:O.columnName.CY,field:"CY_R",tooltipField:"CY_R_AB",hide:l,sortable:!0,comparator:d.customSorting},{headerName:O.columnName.VLY,field:"VLY_R",tooltipField:"VLY_R",cellRenderer:function(e){return d.arrowIndicator(e)},width:250,hide:l,sortable:!0,comparator:d.customSorting}]},{headerName:O.columnName.ASK,headerTooltip:O.columnName.ASK,children:[{headerName:O.columnName.CY,field:"CY_A",tooltipField:"CY_A_AB",hide:l,sortable:!0,comparator:d.customSorting},{headerName:O.columnName.VLY,field:"VLY_A",tooltipField:"VLY_A",cellRenderer:function(e){return d.arrowIndicator(e)},width:250,hide:l,sortable:!0,comparator:d.customSorting}]},{headerName:O.columnName.YIELD,headerTooltip:O.columnName.YIELD,children:[{headerName:O.columnName.CY,field:"CY_Y",tooltipField:"CY_Y_AB",hide:"Ancillary"===r,sortable:!0,comparator:d.customSorting},{headerName:O.columnName.VLY,field:"VLY_Y",tooltipField:"VLY_Y_AB",cellRenderer:function(e){return d.arrowIndicator(e)},width:250,hide:"Ancillary"===r,sortable:!0,comparator:d.customSorting}]},{headerName:O.columnName.LOAD_FACTOR,headerTooltip:O.columnName.LOAD_FACTOR,children:[{headerName:O.columnName.CY,field:"CY_L",tooltipField:"CY_L_AB",hide:l,sortable:!0,comparator:d.customSorting},{headerName:O.columnName.VLY,field:"VLY_L",tooltipField:"VLY_L_AB",cellRenderer:function(e){return d.arrowIndicator(e)},width:250,hide:l,sortable:!0,comparator:d.customSorting}]}],c=[];e.data.TableData.forEach((function(e){c.push({Ancillary_Full_Name:e.AncillaryName,firstColumnName:null===e.ColumnName?"---":e.ColumnName,CY_B:d.convertZeroValueToBlank(e.Bookings_CY),VLY_B:d.convertZeroValueToBlank(e.Bookings_VLY),TKT_B:"".concat(d.convertZeroValueToBlank(e.Bookings_TKT)).concat(d.showPercent(e.Bookings_TKT)),"FRCT/Act_P":d.convertZeroValueToBlank(e.Passenger_FRCT),TGT_P:d.convertZeroValueToBlank(e.Passenger_TGT),VTG_P:d.convertZeroValueToBlank(e.Passenger_VTG),VLY_P:d.convertZeroValueToBlank(e.Passenger_VLY),"FRCT/Act_A":"lc"===t?d.convertZeroValueToBlank(e.LocalAvgFare_FRCT):d.convertZeroValueToBlank(e.AvgFare_FRCT),TGT_A:d.convertZeroValueToBlank(e.AvgFare_TGT),VTG_A:d.convertZeroValueToBlank(e.AvgFare_VTG),VLY_Avg:"lc"===t?d.convertZeroValueToBlank(e.LocalAvgFare_VLY):d.convertZeroValueToBlank(e.AvgFare_VLY),"FRCT/Act_R":"lc"===t?d.convertZeroValueToBlank(e.LocalRevenue_CY):d.convertZeroValueToBlank(e.Revenue_CY),TGT_R:d.convertZeroValueToBlank(e.Revenue_TGT),VTG_R:d.convertZeroValueToBlank(e.Revenue_VTG),VLY_Rev:"lc"===t?d.convertZeroValueToBlank(e.LocalRevenue_VLY):d.convertZeroValueToBlank(e.Revenue_VLY),Avail:d.convertZeroValueToBlank(e.Avail),CY_AL:d.convertZeroValueToBlank(e.AL_CY),VLY_AL:d.convertZeroValueToBlank(e.AL_VLY),CY_R:"lc"===t?d.convertZeroValueToBlank(e.LocalRask_CY):d.convertZeroValueToBlank(e.Rask_CY),VLY_R:"lc"===t?d.convertZeroValueToBlank(e.LocalRask_VLY):d.convertZeroValueToBlank(e.Rask_VLY),CY_A:d.convertZeroValueToBlank(e.ASK_CY),VLY_A:d.convertZeroValueToBlank(e.ASK_VLY),CY_Y:d.convertZeroValueToBlank(e.yield_CY),VLY_Y:d.convertZeroValueToBlank(e.yield_VLY),CY_L:d.convertZeroValueToBlank(e.LoadFactor_CY),VLY_L:d.convertZeroValueToBlank(e.LoadFactor_VLY),CY_B_AB:window.numberWithCommas(e.Bookings_CY),VLY_B_AB:window.numberWithCommas(e.Bookings_VLY),TKT_B_AB:window.numberWithCommas(e.Bookings_TKT),"FRCT/Act_P_AB":window.numberWithCommas(e.Passenger_FRCT),TGT_P_AB:window.numberWithCommas(e.Passenger_TGT),VTG_P_AB:window.numberWithCommas(e.Passenger_VTG),VLY_P_AB:window.numberWithCommas(e.Passenger_VLY),"FRCT/Act_A_AB":"lc"===t?window.numberWithCommas(e.LocalAvgFare_FRCT):window.numberWithCommas(e.AvgFare_FRCT),TGT_A_AB:window.numberWithCommas(e.AvgFare_TGT),VTG_A_AB:window.numberWithCommas(e.AvgFare_VTG),VLY_Avg_AB:"lc"===t?window.numberWithCommas(e.LocalAvgFare_VLY):window.numberWithCommas(e.AvgFare_VLY),"FRCT/Act_R_AB":"lc"===t?window.numberWithCommas(e.LocalRevenue_CY):window.numberWithCommas(e.Revenue_CY),TGT_R_AB:window.numberWithCommas(e.Revenue_TGT),VTG_R_AB:window.numberWithCommas(e.Revenue_VTG),VLY_Rev_AB:"lc"===t?window.numberWithCommas(e.LocalRevenue_VLY):window.numberWithCommas(e.Revenue_VLY),CY_AL_AB:window.numberWithCommas(e.AL_CY),VLY_AL_AB:window.numberWithCommas(e.AL_VLY),CY_R_AB:"lc"===t?window.numberWithCommas(e.LocalRask_CY):window.numberWithCommas(e.Rask_CY),VLY_R_AB:"lc"===t?window.numberWithCommas(e.LocalRask_VLY):window.numberWithCommas(e.Rask_VLY),CY_A_AB:window.numberWithCommas(e.ASK_CY),VLY_A_AB:window.numberWithCommas(e.ASK_VLY),CY_Y_AB:window.numberWithCommas(e.yield_CY),VLY_Y_AB:window.numberWithCommas(e.yield_VLY),CY_L_AB:window.numberWithCommas(e.LoadFactor_CY),VLY_L_AB:window.numberWithCommas(e.LoadFactor_VLY)})}));var s=[];return e.data.Total.forEach((function(e){s.push({firstColumnName:"Total",CY_B:d.convertZeroValueToBlank(e.Bookings_CY),VLY_B:d.convertZeroValueToBlank(e.Bookings_VLY),TKT_B:"".concat(d.convertZeroValueToBlank(e.Bookings_TKT)).concat(d.showPercent(e.Bookings_TKT)),"FRCT/Act_P":d.convertZeroValueToBlank(e.Passenger_FRCT),TGT_P:d.convertZeroValueToBlank(e.Passenger_TGT),VTG_P:d.convertZeroValueToBlank(e.Passenger_VTG),VLY_P:d.convertZeroValueToBlank(e.Passenger_VLY),"FRCT/Act_A":"lc"===t?d.convertZeroValueToBlank(e.LocalAvgFare_FRCT):d.convertZeroValueToBlank(e.AvgFare_FRCT),TGT_A:d.convertZeroValueToBlank(e.AvgFare_TGT),VTG_A:d.convertZeroValueToBlank(e.AvgFare_VTG),VLY_Avg:"lc"===t?d.convertZeroValueToBlank(e.LocalAvgFare_VLY):d.convertZeroValueToBlank(e.AvgFare_VLY),"FRCT/Act_R":"lc"===t?d.convertZeroValueToBlank(e.LocalRevenue_CY):d.convertZeroValueToBlank(e.Revenue_CY),TGT_R:d.convertZeroValueToBlank(e.Revenue_TGT),VTG_R:d.convertZeroValueToBlank(e.Revenue_VTG),VLY_Rev:"lc"===t?d.convertZeroValueToBlank(e.LocalRevenue_VLY):d.convertZeroValueToBlank(e.Revenue_VLY),Avail:d.convertZeroValueToBlank(e.Avail),CY_AL:d.convertZeroValueToBlank(e.AL_CY),VLY_AL:d.convertZeroValueToBlank(e.AL_VLY),CY_R:"lc"===t?d.convertZeroValueToBlank(e.LocalRask_CY):d.convertZeroValueToBlank(e.Rask_CY),VLY_R:"lc"===t?d.convertZeroValueToBlank(e.LocalRask_VLY):d.convertZeroValueToBlank(e.Rask_VLY),CY_A:d.convertZeroValueToBlank(e.ASK_CY),VLY_A:d.convertZeroValueToBlank(e.ASK_VLY),CY_Y:d.convertZeroValueToBlank(e.yield_CY),VLY_Y:d.convertZeroValueToBlank(e.yield_VLY),CY_L:d.convertZeroValueToBlank(e.LoadFactor_CY),VLY_L:d.convertZeroValueToBlank(e.LoadFactor_VLY),CY_B_AB:window.numberWithCommas(e.Bookings_CY),VLY_B_AB:window.numberWithCommas(e.Bookings_VLY),TKT_B_AB:window.numberWithCommas(e.Bookings_TKT),"FRCT/Act_P_AB":window.numberWithCommas(e.Passenger_FRCT),TGT_P_AB:window.numberWithCommas(e.Passenger_TGT),VTG_P_AB:window.numberWithCommas(e.Passenger_VTG),VLY_P_AB:window.numberWithCommas(e.Passenger_VLY),"FRCT/Act_A_AB":"lc"===t?window.numberWithCommas(e.LocalAvgFare_FRCT):window.numberWithCommas(e.AvgFare_FRCT),TGT_A_AB:window.numberWithCommas(e.AvgFare_TGT),VTG_A_AB:window.numberWithCommas(e.AvgFare_VTG),VLY_Avg_AB:"lc"===t?window.numberWithCommas(e.LocalAvgFare_VLY):window.numberWithCommas(e.AvgFare_VLY),"FRCT/Act_R_AB":"lc"===t?window.numberWithCommas(e.LocalRevenue_CY):window.numberWithCommas(e.Revenue_CY),TGT_R_AB:window.numberWithCommas(e.Revenue_TGT),VTG_R_AB:window.numberWithCommas(e.Revenue_VTG),VLY_Rev_AB:"lc"===t?window.numberWithCommas(e.LocalRevenue_VLY):window.numberWithCommas(e.Revenue_VLY),CY_AL_AB:window.numberWithCommas(e.AL_CY),VLY_AL_AB:window.numberWithCommas(e.AL_VLY),CY_R_AB:"lc"===t?window.numberWithCommas(e.LocalRask_CY):window.numberWithCommas(e.Rask_CY),VLY_R_AB:"lc"===t?window.numberWithCommas(e.LocalRask_VLY):window.numberWithCommas(e.Rask_VLY),CY_A_AB:window.numberWithCommas(e.ASK_CY),VLY_A_AB:window.numberWithCommas(e.ASK_VLY),CY_Y_AB:window.numberWithCommas(e.yield_CY),VLY_Y_AB:window.numberWithCommas(e.yield_VLY),CY_L_AB:window.numberWithCommas(e.LoadFactor_CY),VLY_L_AB:window.numberWithCommas(e.LoadFactor_VLY)})})),[{columnName:i,routeRegionTableDatas:c,currentAccess:e.data.CurrentAccess,tabName:e.data.ColumnName,firstTabName:e.data.first_ColumnName,totalData:s}]})).catch((function(e){d.errorHandling(e)}))}},{key:"getRouteCabinDetails",value:function(e,t,a,n,o,r,l,i,c){var s=this,u="".concat(he,"/routecabinWiseDetails?getYear=").concat(e,"&gettingMonth=").concat(t,"&selectedRouteGroup=").concat(a,"&").concat(Se(n,o,r,c),"&selectedLeg=").concat(encodeURIComponent(l),"&flight=").concat(i);return v.a.get(u,this.getDefaultHeader()).then((function(e){var t=[{headerName:O.columnName.RBD,field:"RBD",tooltipField:"RBD_AB",alignLeft:!0},{headerName:"Bookings",field:"Booking",tooltipField:"Booking_AB"},{headerName:"VLY(%)",field:"VLY(%)",tooltipField:"VLY(%)_AB",cellRenderer:function(e){return s.arrowIndicator(e)}},{headerName:"Ticketed Average Fare(SR)",field:"Ticketed Average Fare(SR)",tooltipField:"Ticketed Average Fare(SR)_AB"},{headerName:"VLY(%)TKT",field:"VLY(%)TKT",tooltipField:"VLY(%)TKT_AB",cellRenderer:function(e){return s.arrowIndicator(e)}}],a=e.data.Data.filter((function(e){return"F"===e.Cabin})),n=e.data.Data.filter((function(e){return"J"===e.Cabin})),o=e.data.Data.filter((function(e){return"Y"===e.Cabin})),r=e.data.Total.filter((function(e){return"Total of F"===e.RBD})),l=e.data.Total.filter((function(e){return"Total of J"===e.RBD})),i=e.data.Total.filter((function(e){return"Total of Y"===e.RBD})),c=[].concat(Object(I.a)(r),Object(I.a)(a),Object(I.a)(l),Object(I.a)(n),Object(I.a)(i),Object(I.a)(o)),u=[];return c.forEach((function(e){u.push({Cabin:e.Cabin,RBD:e.RBD,Booking:s.convertZeroValueToBlank(e.Bookings_CY),"VLY(%)":s.convertZeroValueToBlank(e.Bookings_VLY),"Ticketed Average Fare(SR)":s.convertZeroValueToBlank(e.TicketedAverage_CY),"VLY(%)TKT":s.convertZeroValueToBlank(e.TicketedAverage_VLY),Booking_AB:window.numberWithCommas(e.Bookings_CY),"VLY(%)_AB":window.numberWithCommas(e.Bookings_VLY),"Ticketed Average Fare(SR)_AB":window.numberWithCommas(e.TicketedAverage_CY),"VLY(%)TKT_AB":window.numberWithCommas(e.TicketedAverage_VLY)})})),[{columnName:t,cabinData:u}]})).catch((function(e){s.errorHandling(e)}))}},{key:"getRouteLineCharts",value:function(e,t,a,n,o,r,l,i){var c="";e===O.columnName.BOOKINGS&&(c="routebooking"),e===O.columnName.PASSENGER_OD&&(c="routepassenger"),e===O.columnName.AVERAGE_FARE_$&&(c="routeavgfare"),e===O.columnName.REVENUE_$&&(c="routerevenue");var s="".concat(he,"/").concat(c,"?selectedRouteGroup=").concat(t,"&selectedRouteRegion=").concat(a,"&selectedRouteCountry=").concat(n,"&selectedRoute=").concat(o,"&selectedLeg=").concat(r,"&flight=").concat(l,"&getCabinValue=").concat(i);return v.a.get(s,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"getRouteLineChartsForecast",value:function(e,t,a,n,o,r,l,i,c,s){var u="";e===O.columnName.BOOKINGS&&(u="routebooking"),"Passenger Forecast"===e&&(u="routePassengerForeGraph"),"Average fare Forecast"===e&&(u="routeAvgFareForeGraph"),"Revenue Forecast"===e&&(u="routeRevenueForeGraph");var d="".concat(he,"/").concat(u,"?getYear=").concat(c,"&gettingMonth=").concat(s,"&selectedRouteGroup=").concat(t,"&selectedRouteRegion=").concat(a,"&selectedRouteCountry=").concat(n,"&selectedRoute=").concat(o,"&selectedLeg=").concat(r,"&flight=").concat(l,"&getCabinValue=").concat(i);return v.a.get(d,this.getDefaultHeader()).then((function(e){return e.data.response})).catch((function(e){console.log(e)}))}},{key:"exportCSVRouteMonthlyURL",value:function(e,t,a,n,o,r,l){return"routeDataMonthly?selectedRouteGroup=".concat(e,"&").concat(Se(t,a,n,l),"&selectedLeg=").concat(encodeURIComponent(o),"&flight=").concat(r)}},{key:"exportCSVRouteDrillDownURL",value:function(e,t,a,n,o,r,l,i,c,s){return"routeDataDrillDown?getYear=".concat(e,"&gettingMonth=").concat(t,"&selectedRouteGroup=").concat(a,"&").concat(Se(n,o,r,c),"&selectedLeg=").concat(encodeURIComponent(l),"&flight=").concat(i,"&type=").concat(s)}},{key:"getPOSContributionData",value:function(e,t,a,n,o,r,l,i,c,s,u){var d=this,m="".concat(he,"/poscontributionnew?getYear=").concat(e,"&gettingMonth=").concat(a,"&").concat(Se(n,o,r,l),"&selectedLeg=").concat(encodeURIComponent(s),"&flight=").concat(H(u),"&tableType=").concat(i,"&page_num=").concat(c);return v.a.get(m,this.getDefaultHeader()).then((function(e){localStorage.setItem("posContributionDownloadURL",m);var t=[{headerName:"",children:[{headerName:O.columnName.ROUTE,headerTooltip:O.columnName.ROUTE,field:"Route",tooltipField:"Route",width:300,alignLeft:!0}]},{headerName:O.columnName.POS,headerTooltip:O.columnName.POS,field:"POS",tooltipField:"POS",width:300,alignLeft:!0},{headerName:"",children:[{headerName:"Leg",headerTooltip:"Leg",field:"Leg",tooltipField:"Leg",width:300,alignLeft:!0}]},{headerName:"",children:[{headerName:O.columnName.FLIGHT,headerTooltip:O.columnName.FLIGHT,field:"Flight",tooltipField:"Flight",width:300,alignLeft:!0}]},{headerName:"",children:[{headerName:O.columnName.OD,headerTooltip:O.columnName.OD,field:"OD",tooltipField:"OD",width:300,alignLeft:!0,hide:"Segment"==i}]},{headerName:"",children:[{headerName:"Segment",headerTooltip:"Segment",field:"Segment",tooltipField:"Segment",width:300,alignLeft:!0,hide:"OD"==i}]},{headerName:O.columnName.PASSENGER_OD,headerTooltip:O.columnName.PASSENGER_OD,children:[{headerName:O.columnName.CY,field:"CY_Passenger",tooltipField:"CY_Passenger_AB",sortable:!0,comparator:d.customSorting},{headerName:O.columnName.VTG,field:"VTG_P",tooltipField:"VTG_P_AB",cellRenderer:function(e){return d.arrowIndicator(e)},sortable:!0,comparator:d.customSorting,hide:"Segment"==i},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return d.arrowIndicator(e)},sortable:!0,comparator:d.customSorting}]},{headerName:O.columnName.AVERAGE_FARE_$,headerTooltip:O.columnName.AVERAGE_FARE_$,children:[{headerName:O.columnName.CY,field:"AvgFare_CY",tooltipField:"AvgFare_CY_AB",sortable:!0,comparator:d.customSorting},{headerName:O.columnName.VTG,field:"VTG_A",tooltipField:"VTG_A_AB",cellRenderer:function(e){return d.arrowIndicator(e)},sortable:!0,comparator:d.customSorting,hide:"Segment"==i},{headerName:O.columnName.VLY,field:"VLY_A",tooltipField:"VLY_A_AB",cellRenderer:function(e){return d.arrowIndicator(e)},sortable:!0,comparator:d.customSorting}]},{headerName:O.columnName.REVENUE_$,headerTooltip:O.columnName.REVENUE_$,children:[{headerName:O.columnName.CY,field:"CY_Revenue",tooltipField:"CY_Revenue_AB",sortable:!0,comparator:d.customSorting},{headerName:O.columnName.VTG,field:"VTG_R",tooltipField:"VTG_R_AB",cellRenderer:function(e){return d.arrowIndicator(e)},sortable:!0,comparator:d.customSorting,hide:"Segment"==i},{headerName:O.columnName.VLY,field:"VLY_Rev",tooltipField:"VLY_Rev_AB",cellRenderer:function(e){return d.arrowIndicator(e)},sortable:!0,comparator:d.customSorting}]}],a=[],n=d,o={};return(o=e.data.response?e.data.response:e.data).TableData.forEach((function(e){a.push({Route:e.Route,POS:e.POS,Leg:e.Leg,Flight:e.FlightNumber,OD:e.OD,Segment:e.Segment,CY_Passenger:n.convertZeroValueToBlank(e.CY_Passenger),CY_Passenger_AB:window.numberWithCommas(e.CY_Passenger),VTG_P:n.convertZeroValueToBlank(e.Passenger_VTG),VTG_P_AB:window.numberWithCommas(e.Passenger_VTG),VLY_P:n.convertZeroValueToBlank(e.Passenger_VLY),VLY_P_AB:window.numberWithCommas(e.Passenger_VLY),CY_Revenue:n.convertZeroValueToBlank(e.CY_Revenue),CY_Revenue_AB:window.numberWithCommas(e.CY_Revenue),VTG_R:n.convertZeroValueToBlank(e.Revenue_VTG),VTG_R_AB:window.numberWithCommas(e.Revenue_VTG),VLY_Rev:n.convertZeroValueToBlank(e.Revenue_VLY),VLY_Rev_AB:window.numberWithCommas(e.Revenue_VLY),AvgFare_CY:n.convertZeroValueToBlank(e.AvgFare_CY),AvgFare_CY_AB:window.numberWithCommas(e.AvgFare_CY),VTG_A:n.convertZeroValueToBlank(e.AvgFare_VTG),VTG_A_AB:window.numberWithCommas(e.AvgFare_VTG),VLY_A:n.convertZeroValueToBlank(e.AvgFare_VLY),VLY_A_AB:window.numberWithCommas(e.AvgFare_VLY)})})),[{columnNameOD:t,rowDataOD:a,currentPage:o.pageNumber,totalPages:o.totalPages,totalRecords:o.totalRecords,paginationSize:o.paginationLimit}]})).catch((function(e){console.log(e)}))}},{key:"getForecastMonthTable",value:function(e,t,a,n,o,r){var l=this,i="".concat(he,"/forecastaccuracymonthly?startdate=").concat(e,"&").concat(_e(t,a,n,r),"&commonOD=").concat(encodeURIComponent(o));return v.a.get(i,this.getDefaultHeader()).then((function(e){var t=[{headerName:"",children:[{headerName:O.columnName.MONTH,field:"Month",tooltipField:"Month",width:250,alignLeft:!0,underline:!0}]},{headerName:O.columnName.PASSENGER,children:[{headerName:O.columnName.TARGET,field:"target_p",tooltipField:"target_p_AB"},{headerName:O.columnName.Forecast,field:"forecast_p",tooltipField:"forecast_p_AB"},{headerName:O.columnName.ACTUAL,field:"actual_p",tooltipField:"actual_p_AB"},{headerName:O.columnName.ACCURACY,field:"error_p",tooltipField:"error_p_AB",cellRenderer:function(e){return l.accuracyArrowIndicator(e)}}]},{headerName:O.columnName.AVERAGE_FARE_$,children:[{headerName:O.columnName.TARGET,field:"target_a",tooltipField:"target_a_AB"},{headerName:O.columnName.Forecast,field:"forecast_a",tooltipField:"forecast_a_AB"},{headerName:O.columnName.ACTUAL,field:"actual_a",tooltipField:"actual_a_AB"},{headerName:O.columnName.ACCURACY,field:"error_a",tooltipField:"error_a_AB",cellRenderer:function(e){return l.accuracyArrowIndicator(e)}}]},{headerName:O.columnName.REVENUE,children:[{headerName:O.columnName.TARGET,field:"target_r",tooltipField:"target_r_AB"},{headerName:O.columnName.Forecast,field:"forecast_r",tooltipField:"forecast_r_AB"},{headerName:O.columnName.ACTUAL,field:"actual_r",tooltipField:"actual_r_AB"},{headerName:O.columnName.ACCURACY,field:"error_r",tooltipField:"error_r_AB",cellRenderer:function(e){return l.accuracyArrowIndicator(e)}}]}],a=[],n=e.data.response;n.TableData.forEach((function(e){a.push({Month:null===e.MonthName?"---":e.MonthName,target_p:l.convertZeroValueToBlank(e.Target_pax),forecast_p:l.convertZeroValueToBlank(e.Forecast_pax),actual_p:l.convertZeroValueToBlank(e.Actual_Pax),error_p:l.convertZeroValueToBlank(e.Error_Pax),target_a:l.convertZeroValueToBlank(e.target_avg),forecast_a:l.convertZeroValueToBlank(e.Forecast_avg),actual_a:l.convertZeroValueToBlank(e.Actual_avg),error_a:l.convertZeroValueToBlank(e.Error_Avg),target_r:l.convertZeroValueToBlank(e.Target_Rev),forecast_r:l.convertZeroValueToBlank(e.Forecast_Rev),actual_r:l.convertZeroValueToBlank(e.Actual_Rev),error_r:l.convertZeroValueToBlank(e.Error_Rev),target_p_AB:window.numberWithCommas(e.Target_pax),forecast_p_AB:window.numberWithCommas(e.Forecast_pax),actual_p_AB:window.numberWithCommas(e.Actual_Pax),error_p_AB:window.numberWithCommas(e.Error_Pax),target_a_AB:window.numberWithCommas(e.target_avg),forecast_a_AB:window.numberWithCommas(e.Forecast_avg),actual_a_AB:window.numberWithCommas(e.Actual_avg),error_a_AB:window.numberWithCommas(e.Error_Avg),target_r_AB:window.numberWithCommas(e.Target_Rev),forecast_r_AB:window.numberWithCommas(e.Forecast_Rev),actual_r_AB:window.numberWithCommas(e.Actual_Rev),error_r_AB:window.numberWithCommas(e.Error_Rev),Year:e.Year,MonthName:e.monthfullname})}));var o=[];return n.Total.forEach((function(e){o.push({Month:"Total",target_p:l.convertZeroValueToBlank(e.Target_pax),forecast_p:l.convertZeroValueToBlank(e.Forecast_pax),actual_p:l.convertZeroValueToBlank(e.Actual_Pax),error_p:l.convertZeroValueToBlank(e.Error_Pax),target_a:l.convertZeroValueToBlank(e.target_avg),forecast_a:l.convertZeroValueToBlank(e.Forecast_avg),actual_a:l.convertZeroValueToBlank(e.Actual_avg),error_a:l.convertZeroValueToBlank(e.Error_Avg),target_r:l.convertZeroValueToBlank(e.Target_Rev),forecast_r:l.convertZeroValueToBlank(e.Forecast_Rev),actual_r:l.convertZeroValueToBlank(e.Actual_Rev),error_r:l.convertZeroValueToBlank(e.Error_Rev),target_p_AB:window.numberWithCommas(e.Target_pax),forecast_p_AB:window.numberWithCommas(e.Forecast_pax),actual_p_AB:window.numberWithCommas(e.Actual_Pax),error_p_AB:window.numberWithCommas(e.Error_Pax),target_a_AB:window.numberWithCommas(e.target_avg),forecast_a_AB:window.numberWithCommas(e.Forecast_avg),actual_a_AB:window.numberWithCommas(e.Actual_avg),error_a_AB:window.numberWithCommas(e.Error_Avg),target_r_AB:window.numberWithCommas(e.Target_Rev),forecast_r_AB:window.numberWithCommas(e.Forecast_Rev),actual_r_AB:window.numberWithCommas(e.Actual_Rev),error_r_AB:window.numberWithCommas(e.Error_Rev)})})),[{columnName:t,rowData:a,totalData:o,currentAccess:n.CurretAccess}]})).catch((function(e){console.log(e)}))}},{key:"getForecastDrillDownData",value:function(e,t,a,n,o,r,l,i,c){var s=this,u=(new Date).getMonth()+1,d="".concat(he,"/forecastaccuracydrilldown?startdate=").concat(t,"&getYear=").concat(e,"&gettingMonth=").concat(a==u?a-1:a,"&").concat(_e(n,o,r,i),"&commonOD=").concat(encodeURIComponent(l),"&type=").concat(c);return v.a.get(d,this.getDefaultHeader()).then((function(e){var a=e.data.response.ColumnName,n=((new Date).getMonth(),new Date),o=new Date(n.getFullYear(),n.getMonth(),2).toISOString().slice(0,10),r=[{headerName:"",children:[{headerName:a,field:"firstColumnName",tooltipField:"firstColumnName",width:250,alignLeft:!0,underline:"Null"===c&&"Cabin"!==a&&"POS"!==a&&t!==o}]},{headerName:O.columnName.PASSENGER,children:[{headerName:O.columnName.TARGET,field:"target_p",tooltipField:"target_p_AB",sortable:!0,comparator:s.customSorting},{headerName:O.columnName.Forecast,field:"forecast_p",tooltipField:"forecast_p_AB",sortable:!0,comparator:s.customSorting},{headerName:O.columnName.ACTUAL,field:"actual_p",tooltipField:"actual_p_AB",sortable:!0,comparator:s.customSorting},{headerName:O.columnName.ACCURACY,field:"error_p",tooltipField:"error_p_AB",sortable:!0,comparator:s.customSorting,cellRenderer:function(e){return s.accuracyArrowIndicator(e)}}]},{headerName:O.columnName.AVERAGE_FARE_$,children:[{headerName:O.columnName.TARGET,field:"target_a",tooltipField:"target_a_AB",sortable:!0,comparator:s.customSorting},{headerName:O.columnName.Forecast,field:"forecast_a",tooltipField:"forecast_a_AB",sortable:!0,comparator:s.customSorting},{headerName:O.columnName.ACTUAL,field:"actual_a",tooltipField:"actual_a_AB",sortable:!0,comparator:s.customSorting},{headerName:O.columnName.ACCURACY,field:"error_a",tooltipField:"error_a_AB",sortable:!0,comparator:s.customSorting,cellRenderer:function(e){return s.accuracyArrowIndicator(e)}}]},{headerName:O.columnName.REVENUE,children:[{headerName:O.columnName.TARGET,field:"target_r",tooltipField:"target_r_AB",sortable:!0,comparator:s.customSorting,sort:"desc"},{headerName:O.columnName.Forecast,field:"forecast_r",tooltipField:"forecast_r_AB",sortable:!0,comparator:s.customSorting},{headerName:O.columnName.ACTUAL,field:"actual_r",tooltipField:"actual_r_AB",sortable:!0,comparator:s.customSorting},{headerName:O.columnName.ACCURACY,field:"error_r",tooltipField:"error_r_AB",sortable:!0,comparator:s.customSorting,cellRenderer:function(e){return s.accuracyArrowIndicator(e)}}]}],l=[],i=e.data.response;i.TableData.forEach((function(e){l.push({firstColumnName:null===e.ColumnName?"---":e.ColumnName,target_p:s.convertZeroValueToBlank(e.Target_pax),forecast_p:s.convertZeroValueToBlank(e.Forecast_pax),actual_p:s.convertZeroValueToBlank(e.Actual_Pax),error_p:s.convertZeroValueToBlank(e.Error_Pax),target_a:s.convertZeroValueToBlank(e.target_avg),forecast_a:s.convertZeroValueToBlank(e.Forecast_avg),actual_a:s.convertZeroValueToBlank(e.Actual_avg),error_a:s.convertZeroValueToBlank(e.Error_Avg),target_r:s.convertZeroValueToBlank(e.Target_Rev),forecast_r:s.convertZeroValueToBlank(e.Forecast_Rev),actual_r:s.convertZeroValueToBlank(e.Actual_Rev),error_r:s.convertZeroValueToBlank(e.Error_Rev),target_p_AB:window.numberWithCommas(e.Target_pax),forecast_p_AB:window.numberWithCommas(e.Forecast_pax),actual_p_AB:window.numberWithCommas(e.Actual_Pax),error_p_AB:window.numberWithCommas(e.Error_Pax),target_a_AB:window.numberWithCommas(e.target_avg),forecast_a_AB:window.numberWithCommas(e.Forecast_avg),actual_a_AB:window.numberWithCommas(e.Actual_avg),error_a_AB:window.numberWithCommas(e.Error_Avg),target_r_AB:window.numberWithCommas(e.Target_Rev),forecast_r_AB:window.numberWithCommas(e.Forecast_Rev),actual_r_AB:window.numberWithCommas(e.Actual_Rev),error_r_AB:window.numberWithCommas(e.Error_Rev)})}));var u=[];return i.Total.forEach((function(e){u.push({Ancillary_Full_Name:"Total",firstColumnName:"Total",target_p:s.convertZeroValueToBlank(e.Target_pax),forecast_p:s.convertZeroValueToBlank(e.Forecast_pax),actual_p:s.convertZeroValueToBlank(e.Actual_Pax),error_p:s.convertZeroValueToBlank(e.Error_Pax),target_a:s.convertZeroValueToBlank(e.target_avg),forecast_a:s.convertZeroValueToBlank(e.Forecast_avg),actual_a:s.convertZeroValueToBlank(e.Actual_avg),error_a:s.convertZeroValueToBlank(e.Error_Avg),target_r:s.convertZeroValueToBlank(e.Target_Rev),forecast_r:s.convertZeroValueToBlank(e.Forecast_Rev),actual_r:s.convertZeroValueToBlank(e.Actual_Rev),error_r:s.convertZeroValueToBlank(e.Error_Rev),target_p_AB:window.numberWithCommas(e.Target_pax),forecast_p_AB:window.numberWithCommas(e.Forecast_pax),actual_p_AB:window.numberWithCommas(e.Actual_Pax),error_p_AB:window.numberWithCommas(e.Error_Pax),target_a_AB:window.numberWithCommas(e.target_avg),forecast_a_AB:window.numberWithCommas(e.Forecast_avg),actual_a_AB:window.numberWithCommas(e.Actual_avg),error_a_AB:window.numberWithCommas(e.Error_Avg),target_r_AB:window.numberWithCommas(e.Target_Rev),forecast_r_AB:window.numberWithCommas(e.Forecast_Rev),actual_r_AB:window.numberWithCommas(e.Actual_Rev),error_r_AB:window.numberWithCommas(e.Error_Rev)})})),[{columnName:r,rowData:l,currentAccess:i.CurrentAccess,totalData:u,tabName:i.ColumnName,firstTabName:i.first_ColumnName}]})).catch((function(e){s.errorHandling(e)}))}},{key:"getTopMarkets",value:function(e,t,a,n,o,r,l,i,c){var s=this,u="".concat(he,"/topmarkettable?page_num=").concat(e,"&startDate=").concat(t,"&endDate=").concat(a,"&").concat(we(n,o,r,l),"&getOD=").concat(U(i),"&getLeftTableValue=").concat(encodeURIComponent(c)),d="".concat(he,"/FullYearDownloadTopMarket?startDate=").concat(t,"&endDate=").concat(a,"&").concat(we(n,o,r,l),"&getOD=").concat(U(i));return localStorage.setItem("topMarketDownloadURL",d),v.a.get(u,this.getDefaultHeader()).then((function(e){var t=e.data.response.filter((function(e){return 0===e.Passenger_TGT||null===e.Passenger_TGT})).length===e.data.response.length,a=e.data.response.filter((function(e){return 0===e.Revenue_VTG||null===e.Revenue_VTG})).length===e.data.response.length,n=[{headerName:"",children:[{headerName:O.columnName.OD,field:O.columnName.OD,alignLeft:!0,underline:!0}],cellStyle:{color:"red"}},{headerName:O.columnName.MIDT_BOOKED_PASSENGER,children:[{headerName:O.columnName.CY,field:"CY_MIDT",tooltipField:"CY_MIDT_AB",sortable:!0,comparator:s.customSorting,sort:"desc"},{headerName:O.columnName.LY,field:"LY_MIDT",tooltipField:"LY_MIDT_AB",sortable:!0,comparator:s.customSorting},{headerName:O.columnName.VLY,field:"VLY(%)_MIDT",tooltipField:"VLY(%)_MIDT_AB",cellRenderer:function(e){return s.arrowIndicator(e)},sortable:!0,comparator:s.customSorting},{headerName:O.columnName.YTD,field:"YTD_MIDT",tooltipField:"YTD_MIDT_AB",sortable:!0,comparator:s.customSorting}]},{headerName:O.columnName.MIDT_AIRLINES_BOOKED_PASSENGER,children:[{headerName:O.columnName.CY,field:"CY_MIDTA",tooltipField:"CY_MIDTA_AB",sortable:!0,comparator:s.customSorting},{headerName:O.columnName.LY,field:"LY_MIDTA",tooltipField:"LY_MIDTA_AB",sortable:!0,comparator:s.customSorting},{headerName:O.columnName.VLY,field:"VLY(%)_MIDTA",tooltipField:"VLY(%)_MIDTA_AB",cellRenderer:function(e){return s.arrowIndicator(e)},sortable:!0,comparator:s.customSorting}]},{headerName:O.columnName.O_AND_D_PASSENGER_FORECAST,children:[{headerName:O.columnName.FORECAST_ACT,field:"Forecast_OD",tooltipField:"Forecast_OD_AB",sortable:!0,comparator:s.customSorting},{headerName:"TGT",field:"TGT_OD",tooltipField:"TGT_OD_AB",hide:t,sortable:!0,comparator:s.customSorting},{headerName:"VTG(%)",field:"VTG(%)_OD",tooltipField:"VTG(%)_OD_AB",cellRenderer:function(e){return s.arrowIndicator(e)},hide:t,sortable:!0,comparator:s.customSorting},{headerName:O.columnName.VLY,field:"VLY(%)_OD",tooltipField:"VLY(%)_OD_AB",cellRenderer:function(e){return s.arrowIndicator(e)},sortable:!0,comparator:s.customSorting}]},{headerName:O.columnName.REVENUE,hide:a,children:[{headerName:"VTG(%)",field:"VTG(%)_REV",tooltipField:"VTG(%)_REV_AB",cellRenderer:function(e){return s.arrowIndicator(e)},hide:a,sortable:!0,comparator:s.customSorting}]},{headerName:O.columnName.AL_MARKET_SHARE,headerGroupComponent:"customHeaderGroupComponent",children:[{headerName:O.columnName.CY,field:"CY_AL",tooltipField:"CY_AL_AB",sortable:!0,comparator:s.customSorting},{headerName:O.columnName.VLY,field:"VLY(%)_AL",tooltipField:"VLY(%)_AL_AB",cellRenderer:function(e){return s.arrowIndicator(e)},sortable:!0,comparator:s.customSorting},{headerName:"YTD(Abs)",field:"YTD_AL",tooltipField:"YTD_AL_AB",sortable:!0,comparator:s.customSorting}]}],o=[],r=e.data.response[0];r.TableData.forEach((function(e){o.push({OD:e.OD,CY_MIDT:s.convertZeroValueToBlank(e.BookedPassenger_CY),LY_MIDT:s.convertZeroValueToBlank(e.BookedPassenger_LY),"VLY(%)_MIDT":s.convertZeroValueToBlank(e.BookedPassenger_VLY),YTD_MIDT:s.convertZeroValueToBlank(e.MS_YTD),CY_MIDTA:s.convertZeroValueToBlank(e.AirlinesBookedPassenger_CY),LY_MIDTA:s.convertZeroValueToBlank(e.AirlinesBookedPassenger_LY),"VLY(%)_MIDTA":s.convertZeroValueToBlank(e.AirlinesBookedPassenger_VLY),Forecast_OD:s.convertZeroValueToBlank(e.Passenger_CY),TGT_OD:s.convertZeroValueToBlank(e.Passenger_TGT),"VTG(%)_OD":s.convertZeroValueToBlank(e.Passenger_VTG),"VLY(%)_OD":s.convertZeroValueToBlank(e.Passenger_VLY),"VTG(%)_REV":s.convertZeroValueToBlank(e.Revenue_VTG),CY_AL:s.convertZeroValueToBlank(e.MarketShare_CY),"VLY(%)_AL":s.convertZeroValueToBlank(e.MarketShare_VLY),YTD_AL:s.convertZeroValueToBlank(e.MS_Airlines_YTD),"TOP Competitor %":"---",CY_MIDT_AB:window.numberWithCommas(e.BookedPassenger_CY),LY_MIDT_AB:window.numberWithCommas(e.BookedPassenger_LY),"VLY(%)_MIDT_AB":window.numberWithCommas(e.BookedPassenger_VLY),YTD_MIDT_AB:window.numberWithCommas(e.MS_YTD),CY_MIDTA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_CY),LY_MIDTA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_LY),"VLY(%)_MIDTA_AB":window.numberWithCommas(e.AirlinesBookedPassenger_VLY),Forecast_OD_AB:window.numberWithCommas(e.Forecast),TGT_OD_AB:window.numberWithCommas(e.Passenger_TGT),"VTG(%)_OD_AB":window.numberWithCommas(e.Forecast_VTG),"VLY(%)_OD_AB":window.numberWithCommas(e.Forecast_VLY),"VTG(%)_REV_AB":window.numberWithCommas(e.Revenue_VTG),CY_AL_AB:window.numberWithCommas(e.MarketShare_CY),"VLY(%)_AL_AB":window.numberWithCommas(e.MarketShare_VLY),YTD_AL_AB:window.numberWithCommas(e.MS_Airlines_YTD)})}));var l=[];return r.Total.forEach((function(e){l.push({OD:"Total",CY_MIDT:s.convertZeroValueToBlank(e.BookedPassenger_CY),LY_MIDT:s.convertZeroValueToBlank(e.BookedPassenger_LY),"VLY(%)_MIDT":s.convertZeroValueToBlank(e.BookedPassenger_VLY),YTD_MIDT:s.convertZeroValueToBlank(e.MS_YTD),CY_MIDTA:s.convertZeroValueToBlank(e.AirlinesBookedPassenger_CY),LY_MIDTA:s.convertZeroValueToBlank(e.AirlinesBookedPassenger_LY),"VLY(%)_MIDTA":s.convertZeroValueToBlank(e.AirlinesBookedPassenger_VLY),Forecast_OD:s.convertZeroValueToBlank(e.Passenger_CY),TGT_OD:s.convertZeroValueToBlank(e.Passenger_TGT),"VTG(%)_OD":s.convertZeroValueToBlank(e.Passenger_VTG),"VLY(%)_OD":s.convertZeroValueToBlank(e.Passenger_VLY),"VTG(%)_REV":s.convertZeroValueToBlank(e.Revenue_VTG),CY_AL:s.convertZeroValueToBlank(e.MarketShare_CY),"VLY(%)_AL":s.convertZeroValueToBlank(e.MarketShare_VLY),YTD_AL:s.convertZeroValueToBlank(e.MS_Airlines_YTD),"TOP Competitor %":"---",CY_MIDT_AB:window.numberWithCommas(e.BookedPassenger_CY),LY_MIDT_AB:window.numberWithCommas(e.BookedPassenger_LY),"VLY(%)_MIDT_AB":window.numberWithCommas(e.BookedPassenger_VLY),YTD_MIDT_AB:window.numberWithCommas(e.MS_YTD),CY_MIDTA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_CY),LY_MIDTA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_LY),"VLY(%)_MIDTA_AB":window.numberWithCommas(e.AirlinesBookedPassenger_VLY),Forecast_OD_AB:window.numberWithCommas(e.Forecast),TGT_OD_AB:window.numberWithCommas(e.Passenger_TGT),"VTG(%)_OD_AB":window.numberWithCommas(e.Forecast_VTG),"VLY(%)_OD_AB":window.numberWithCommas(e.Forecast_VLY),"VTG(%)_REV_AB":window.numberWithCommas(e.Revenue_VTG),CY_AL_AB:window.numberWithCommas(e.MarketShare_CY),"VLY(%)_AL_AB":window.numberWithCommas(e.MarketShare_VLY),YTD_AL_AB:window.numberWithCommas(e.MS_Airlines_YTD)})})),[{columnName:n,rowData:o,totalData:l,currentPage:r.pageNumber,totalPages:r.totalPages,totalRecords:r.totalRecords,paginationSize:r.paginationLimit}]})).catch((function(e){s.errorHandling(e)}))}},{key:"getTopCompetitors",value:function(e,t,a,n,o,r,l,i){var c=this,s="".concat(he,"/topOdcompetitors?startDate=").concat(e,"&endDate=").concat(t,"&").concat(we(a,n,o,r),"&getOD=").concat(l,"&getLeftTableValue=").concat(encodeURIComponent(i));return v.a.get(s,this.getDefaultHeader()).then((function(e){var t=[{headerName:"",children:[{headerName:O.columnName.AIRLINE,field:"Airline",tooltipField:"Airline",alignLeft:!0,underline:!0}]},{headerName:O.columnName.MIDT_AIRLINES_BOOKED_PASSENGER,children:[{headerName:O.columnName.CY,field:"CY_MIDTA",tooltipField:"CY_MIDTA_AB",underline:"Null"===i,sortable:!0,comparator:c.customSorting,sort:"desc"},{headerName:O.columnName.LY,field:"LY_MIDTA",tooltipField:"LY_MIDTA_AB",sortable:!0,comparator:c.customSorting},{headerName:O.columnName.VLY,field:"VLY(%)_MIDTA",tooltipField:"VLY(%)_MIDTA_AB",cellRenderer:function(e){return c.arrowIndicator(e)},sortable:!0,comparator:c.customSorting}]},{headerName:O.columnName.AL_MARKET_SHARE,children:[{headerName:O.columnName.CY,field:"CY_AL",tooltipField:"CY_AL_AB",sortable:!0,comparator:c.customSorting},{headerName:O.columnName.VLY,field:"VLY(%)_AL",tooltipField:"VLY(%)_AL_AB",cellRenderer:function(e){return c.arrowIndicator(e)},sortable:!0,comparator:c.customSorting},{headerName:O.columnName.YTD,field:"YTD_AL",tooltipField:"YTD_AL_AB",sortable:!0,comparator:c.customSorting}]}],a=[];e.data.response[0].TableData.forEach((function(e){a.push({Airline:e.airlines,CY_MIDTA:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_CY),LY_MIDTA:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_LY),"VLY(%)_MIDTA":c.convertZeroValueToBlank(e.AirlinesBookedPassenger_VLY),CY_AL:c.convertZeroValueToBlank(e.MarketShare_CY),"VLY(%)_AL":c.convertZeroValueToBlank(e.MarketShare_VLY),YTD_AL:c.convertZeroValueToBlank(e.MS_Airlines_YTD),CY_MIDTA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_CY),LY_MIDTA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_LY),"VLY(%)_MIDTA_AB":window.numberWithCommas(e.AirlinesBookedPassenger_VLY),CY_AL_AB:window.numberWithCommas(e.MarketShare_CY),"VLY(%)_AL_AB":window.numberWithCommas(e.MarketShare_VLY),YTD_AL_AB:window.numberWithCommas(e.MS_Airlines_YTD)})}));var n=[];return e.data.response[0].Total.forEach((function(e){n.push({Airline:"Total",CY_MIDTA:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_CY),LY_MIDTA:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_LY),"VLY(%)_MIDTA":c.convertZeroValueToBlank(e.AirlinesBookedPassenger_VLY),CY_AL:c.convertZeroValueToBlank(e.MarketShare_CY),"VLY(%)_AL":c.convertZeroValueToBlank(e.MarketShare_VLY),YTD_AL:c.convertZeroValueToBlank(e.MS_Airlines_YTD),CY_MIDTA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_CY),LY_MIDTA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_LY),"VLY(%)_MIDTA_AB":window.numberWithCommas(e.AirlinesBookedPassenger_VLY),CY_AL_AB:window.numberWithCommas(e.MarketShare_CY),"VLY(%)_AL_AB":window.numberWithCommas(e.MarketShare_VLY),YTD_AL_AB:window.numberWithCommas(e.MS_Airlines_YTD)})})),[{columnName:t,rowData:a,totalData:n}]})).catch((function(e){c.errorHandling(e)}))}},{key:"getTopAgents",value:function(e,t,a,n,o,r,l,i){var c=this,s="".concat(he,"/topODagents?startDate=").concat(e,"&endDate=").concat(t,"&").concat(we(a,n,o,r),"&getOD=").concat(l,"&getLeftTableValue=").concat(encodeURIComponent(i));return v.a.get(s,this.getDefaultHeader()).then((function(e){var t=[{headerName:"",children:[{headerName:O.columnName.NAME,field:"Name",tooltipField:"Name",width:300,alignLeft:!0,underline:!0}]},{headerName:O.columnName.MIDT_BOOKED_PASSENGER,children:[{headerName:O.columnName.CY,field:"CY_MIDT",tooltipField:"CY_MIDT_AB",underline:"Null"===i,sortable:!0,comparator:c.customSorting,sort:"desc"},{headerName:O.columnName.VLY,field:"VLY(%)_MIDT",tooltipField:"VLY(%)_MIDT_AB",cellRenderer:function(e){return c.arrowIndicator(e)},sortable:!0,comparator:c.customSorting},{headerName:O.columnName.YTD,field:"YTD_MIDT",tooltipField:"YTD_MIDT_AB",sortable:!0,comparator:c.customSorting}]},{headerName:O.columnName.MIDT_AIRLINES_BOOKED_PASSENGER,children:[{headerName:O.columnName.CY,field:"CY_MIDTA",tooltipField:"CY_MIDTA_AB",sortable:!0,comparator:c.customSorting},{headerName:O.columnName.VLY,field:"VLY(%)_MIDTA",tooltipField:"VLY(%)_MIDTA_AB",cellRenderer:function(e){return c.arrowIndicator(e)},sortable:!0,comparator:c.customSorting},{headerName:O.columnName.YTD,field:"YTD_MIDTA",tooltipField:"YTD_MIDTA_AB",sortable:!0,comparator:c.customSorting}]}],a=[];e.data.response[0].TableData.forEach((function(e){a.push({Name:e.AgentName,CY_MIDT:c.convertZeroValueToBlank(e.BookedPassenger_CY),"VLY(%)_MIDT":c.convertZeroValueToBlank(e.BookedPassenger_VLY),YTD_MIDT:c.convertZeroValueToBlank(e.MS_YTD),CY_MIDTA:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_CY),"VLY(%)_MIDTA":c.convertZeroValueToBlank(e.AirlinesBookedPassenger_VLY),YTD_MIDTA:c.convertZeroValueToBlank(e.MS_Airlines_YTD),CY_ABS:c.convertZeroValueToBlank(e.MarketShare_CY),CY_MIDT_AB:window.numberWithCommas(e.BookedPassenger_CY),"VLY(%)_MIDT_AB":window.numberWithCommas(e.BookedPassenger_VLY),YTD_MIDT_AB:window.numberWithCommas(e.MS_YTD),CY_MIDTA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_CY),"VLY(%)_MIDTA_AB":window.numberWithCommas(e.AirlinesBookedPassenger_VLY),YTD_MIDTA_AB:window.numberWithCommas(e.MS_Airlines_YTD),CY_ABS_AB:window.numberWithCommas(e.MarketShare_CY)})}));var n=[];return e.data.response[0].Total.forEach((function(e){n.push({Name:"Total",CY_MIDT:c.convertZeroValueToBlank(e.BookedPassenger_CY),"VLY(%)_MIDT":c.convertZeroValueToBlank(e.BookedPassenger_VLY),YTD_MIDT:c.convertZeroValueToBlank(e.MS_YTD),CY_MIDTA:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_CY),"VLY(%)_MIDTA":c.convertZeroValueToBlank(e.AirlinesBookedPassenger_VLY),YTD_MIDTA:c.convertZeroValueToBlank(e.MS_Airlines_YTD),CY_ABS:c.convertZeroValueToBlank(e.MarketShare_CY),CY_MIDT_AB:window.numberWithCommas(e.BookedPassenger_CY),"VLY(%)_MIDT_AB":window.numberWithCommas(e.BookedPassenger_VLY),YTD_MIDT_AB:window.numberWithCommas(e.MS_YTD),CY_MIDTA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_CY),"VLY(%)_MIDTA_AB":window.numberWithCommas(e.AirlinesBookedPassenger_VLY),YTD_MIDTA_AB:window.numberWithCommas(e.MS_Airlines_YTD),CY_ABS_AB:window.numberWithCommas(e.MarketShare_CY)})})),[{columnName:t,rowData:a,totalData:n}]})).catch((function(e){c.errorHandling(e)}))}},{key:"getCompetitorAnalysis",value:function(e,t,a,n,o,r,l){var i=this,c="".concat(he,"/competitorcabin?endDate=").concat(e,"&startDate=").concat(t,"&").concat(we(a,n,o,r),"&getAirline=").concat(encodeURIComponent(l));return v.a.get(c,this.getDefaultHeader()).then((function(e){var t=[{headerName:"",children:[{headerName:O.columnName.CABIN,field:"Cabin",alignLeft:!0}]},{headerName:l,children:[{headerName:O.columnName.MIDT_CY_BOOKINGS,field:"MIDT CY Bookings_C",tooltipField:"MIDT CY Bookings_C_AB",sortable:!0,comparator:i.customSorting},{headerName:O.columnName.MIDT_LY_BOOKINGS,field:"MIDT LY Bookings_C",tooltipField:"MIDT LY Bookings_C_AB",sortable:!0,comparator:i.customSorting},{headerName:O.columnName.MIDT_BOOKINGS_VLY,field:"MIDT Bookings VLY(%)_C",tooltipField:"MIDT Bookings VLY(%)_C_AB",cellRenderer:function(e){return i.arrowIndicator(e)},width:250,sortable:!0,comparator:i.customSorting},{headerName:O.columnName.CY_MS,field:"CY MS_C",tooltipField:"CY MS_C_AB",sortable:!0,comparator:i.customSorting},{headerName:O.columnName.LY_MS,field:"LY MS_C",tooltipField:"LY MS_C_AB",sortable:!0,comparator:i.customSorting}]},{headerName:O.columnName.AL,children:[{headerName:O.columnName.MIDT_CY_BOOKINGS,field:"MIDT CY Bookings_A",tooltipField:"MIDT CY Bookings_A_AB",sortable:!0,comparator:i.customSorting},{headerName:O.columnName.MIDT_LY_BOOKINGS,field:"MIDT LY Bookings_A",tooltipField:"MIDT LY Bookings_A_AB",sortable:!0,comparator:i.customSorting},{headerName:O.columnName.MIDT_BOOKINGS_VLY,field:"MIDT Bookings VLY(%)_A",tooltipField:"MIDT Bookings VLY(%)_A_AB",cellRenderer:function(e){return i.arrowIndicator(e)},width:250,sortable:!0,comparator:i.customSorting},{headerName:O.columnName.CY_MS,field:"CY MS_A",tooltipField:"CY MS_A_AB",sortable:!0,comparator:i.customSorting,sort:"desc"},{headerName:O.columnName.LY_MS,field:"LY MS_A",tooltipField:"LY MS_A_AB",sortable:!0,comparator:i.customSorting}]}],a=[];e.data.response[0].TableData.forEach((function(e){a.push({Cabin:e.CX_Cabin,"MIDT CY Bookings_C":i.convertZeroValueToBlank(e.CX_MIDT_cy),"MIDT LY Bookings_C":i.convertZeroValueToBlank(e.CX_MIDT_ly),"MIDT Bookings VLY(%)_C":i.convertZeroValueToBlank(e.CX_VLY),"CY MS_C":i.convertZeroValueToBlank(e.CX_CY_MS),"LY MS_C":i.convertZeroValueToBlank(e.CX_LY_MS),"MIDT CY Bookings_A":i.convertZeroValueToBlank(e.AL_MIDT_cy),"MIDT LY Bookings_A":i.convertZeroValueToBlank(e.AL_MIDT_ly),"MIDT Bookings VLY(%)_A":i.convertZeroValueToBlank(e.AL_VLY),"CY MS_A":i.convertZeroValueToBlank(e.AL_CY_MS),"LY MS_A":i.convertZeroValueToBlank(e.AL_LY_MS),"MIDT CY Bookings_C_AB":window.numberWithCommas(e.CX_MIDT_cy),"MIDT LY Bookings_C_AB":window.numberWithCommas(e.CX_MIDT_ly),"MIDT Bookings VLY(%)_C_AB":window.numberWithCommas(e.CX_VLY),"CY MS_C_AB":window.numberWithCommas(e.CX_CY_MS),"LY MS_C_AB":window.numberWithCommas(e.CX_LY_MS),"MIDT CY Bookings_A_AB":window.numberWithCommas(e.AL_MIDT_cy),"MIDT LY Bookings_A_AB":window.numberWithCommas(e.AL_MIDT_ly),"MIDT Bookings VLY(%)_A_AB":window.numberWithCommas(e.AL_VLY),"CY MS_A_AB":window.numberWithCommas(e.AL_CY_MS),"LY MS_A_AB":window.numberWithCommas(e.AL_LY_MS)})}));var n=[];return e.data.response[0].Total.forEach((function(e){n.push({Cabin:"Total","MIDT CY Bookings_C":i.convertZeroValueToBlank(e.CX_MIDT_cy),"MIDT LY Bookings_C":i.convertZeroValueToBlank(e.CX_MIDT_ly),"MIDT Bookings VLY(%)_C":i.convertZeroValueToBlank(e.CX_VLY),"CY MS_C":i.convertZeroValueToBlank(e.CX_CY_MS),"LY MS_C":i.convertZeroValueToBlank(e.CX_LY_MS),"MIDT CY Bookings_A":i.convertZeroValueToBlank(e.AL_MIDT_cy),"MIDT LY Bookings_A":i.convertZeroValueToBlank(e.AL_MIDT_ly),"MIDT Bookings VLY(%)_A":i.convertZeroValueToBlank(e.AL_VLY),"CY MS_A":i.convertZeroValueToBlank(e.AL_CY_MS),"LY MS_A":i.convertZeroValueToBlank(e.AL_LY_MS),"MIDT CY Bookings_C_AB":window.numberWithCommas(e.CX_MIDT_cy),"MIDT LY Bookings_C_AB":window.numberWithCommas(e.CX_MIDT_ly),"MIDT Bookings VLY(%)_C_AB":window.numberWithCommas(e.CX_VLY),"CY MS_C_AB":window.numberWithCommas(e.CX_CY_MS),"LY MS_C_AB":window.numberWithCommas(e.CX_LY_MS),"MIDT CY Bookings_A_AB":window.numberWithCommas(e.AL_MIDT_cy),"MIDT LY Bookings_A_AB":window.numberWithCommas(e.AL_MIDT_ly),"MIDT Bookings VLY(%)_A_AB":window.numberWithCommas(e.AL_VLY),"CY MS_A_AB":window.numberWithCommas(e.AL_CY_MS),"LY MS_A_AB":window.numberWithCommas(e.AL_LY_MS)})})),[{columnName:t,rowData:a,totalData:n}]})).catch((function(e){i.errorHandling(e)}))}},{key:"getTopMarketsForCompetitors",value:function(e,t,a,n,o,r,l,i){var c=this,s="".concat(he,"/competitortopmarkets?endDate=").concat(e,"&startDate=").concat(t,"&").concat(we(a,n,o,r),"&getAirline=").concat(encodeURIComponent(l),"&getTopMarkets=").concat(i);return v.a.get(s,this.getDefaultHeader()).then((function(e){var t=[{headerName:"",children:[{headerName:O.columnName.OD,field:"OD",tooltipField:"OD",alignLeft:!0,underline:!0}]},{headerName:O.columnName.MIDT_BOOKINGS,children:[{headerName:O.columnName.CY,field:"CY_M",tooltipField:"CY_M_AB",sortable:!0,comparator:c.customSorting,sort:"desc"},{headerName:O.columnName.LY,field:"LY_M",tooltipField:"LY_M_AB",sortable:!0,comparator:c.customSorting},{headerName:O.columnName.VLY,field:"VLY_M",tooltipField:"VLY_M_AB",cellRenderer:function(e){return c.arrowIndicator(e)},sortable:!0,comparator:c.customSorting}]},{headerName:O.columnName.MARKET_SHARE,children:[{headerName:O.columnName.CY,field:"CY_MS",tooltipField:"CY_MS_AB",sortable:!0,comparator:c.customSorting},{headerName:O.columnName.LY,field:"LY_MS",tooltipField:"LY_MS_AB",sortable:!0,comparator:c.customSorting}]}],a=[];e.data.response[0].TableData.forEach((function(e){a.push({OD:e.OD,CY_M:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_CY),LY_M:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_LY),VLY_M:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_VLY),CY_MS:c.convertZeroValueToBlank(e.MarketShare_CY),LY_MS:c.convertZeroValueToBlank(e.MarketShare_LY),CY_M_AB:window.numberWithCommas(e.AirlinesBookedPassenger_CY),LY_M_AB:window.numberWithCommas(e.AirlinesBookedPassenger_LY),VLY_M_AB:window.numberWithCommas(e.AirlinesBookedPassenger_VLY),CY_MS_AB:window.numberWithCommas(e.MarketShare_CY),LY_MS_AB:window.numberWithCommas(e.MarketShare_LY),"Airline Rank":"---"})}));var n=[];return e.data.response[0].Total.forEach((function(e){n.push({OD:"Total",CY_M:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_CY),LY_M:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_LY),VLY_M:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_VLY),CY_MS:c.convertZeroValueToBlank(e.MarketShare_CY),LY_MS:c.convertZeroValueToBlank(e.MarketShare_LY),CY_M_AB:window.numberWithCommas(e.AirlinesBookedPassenger_CY),LY_M_AB:window.numberWithCommas(e.AirlinesBookedPassenger_LY),VLY_M_AB:window.numberWithCommas(e.AirlinesBookedPassenger_VLY),CY_MS_AB:window.numberWithCommas(e.MarketShare_CY),LY_MS_AB:window.numberWithCommas(e.MarketShare_LY),"Airline Rank":"---"})})),[{columnName:t,rowData:a,totalData:n}]})).catch((function(e){c.errorHandling(e)}))}},{key:"getTopAgentsForCompetitors",value:function(e,t,a,n,o,r,l,i,c){var s=this,u="".concat(he,"/competitortopagents?endDate=").concat(e,"&startDate=").concat(t,"&").concat(we(a,n,o,r),"&getAirline=").concat(encodeURIComponent(l),"&getTopMarkets=").concat(i,"&getOD=").concat(c);return v.a.get(u,this.getDefaultHeader()).then((function(e){var t=[{headerName:"",children:[{headerName:O.columnName.NAME,field:"Name",tooltipField:"Name",width:300,alignLeft:!0,underline:!0}]},{headerName:O.columnName.MIDT_BOOKED_PASSENGER,children:[{headerName:O.columnName.CY,field:"CY_MIDT",tooltipField:"CY_MIDT_AB",sortable:!0,comparator:s.customSorting,sort:"desc"},{headerName:O.columnName.VLY,field:"VLY(%)_MIDT",tooltipField:"VLY(%)_MIDT_AB",cellRenderer:function(e){return s.arrowIndicator(e)},sortable:!0,comparator:s.customSorting},{headerName:O.columnName.YTD,field:"YTD_MIDT",tooltipField:"YTD_MIDT_AB",sortable:!0,comparator:s.customSorting}]},{headerName:O.columnName.MARKET_SHARE,children:[{headerName:O.columnName.CY,field:"CY_MIDTA",tooltipField:"CY_MIDTA_AB",sortable:!0,comparator:s.customSorting},{headerName:O.columnName.VLY,field:"VLY(%)_MIDTA",tooltipField:"VLY(%)_MIDTA_AB",cellRenderer:function(e){return s.arrowIndicator(e)},sortable:!0,comparator:s.customSorting},{headerName:O.columnName.YTD,field:"YTD_MIDTA",tooltipField:"YTD_MIDTA_AB",sortable:!0,comparator:s.customSorting}]}],a=[];e.data.response[0].TableData.forEach((function(e){a.push({Name:e.AgentName,CY_MIDT:s.convertZeroValueToBlank(e.BookedPassenger_CY),"VLY(%)_MIDT":s.convertZeroValueToBlank(e.BookedPassenger_VLY),YTD_MIDT:s.convertZeroValueToBlank(e.Booked_YTD),CY_MIDTA:s.convertZeroValueToBlank(e.MarketShare_CY),"VLY(%)_MIDTA":s.convertZeroValueToBlank(e.MarketShare_VLY),YTD_MIDTA:s.convertZeroValueToBlank(e.MS_YTD),CY_MIDT_AB:window.numberWithCommas(e.BookedPassenger_CY),"VLY(%)_MIDT_AB":window.numberWithCommas(e.BookedPassenger_VLY),YTD_MIDT_AB:window.numberWithCommas(e.Booked_YTD),CY_MIDTA_AB:window.numberWithCommas(e.MarketShare_CY),"VLY(%)_MIDTA_AB":window.numberWithCommas(e.MarketShare_VLY),YTD_MIDTA_AB:window.numberWithCommas(e.MS_YTD)})}));var n=[];return e.data.response[0].Total.forEach((function(e){n.push({Name:"Total",CY_MIDT:s.convertZeroValueToBlank(e.BookedPassenger_CY),"VLY(%)_MIDT":s.convertZeroValueToBlank(e.BookedPassenger_VLY),YTD_MIDT:s.convertZeroValueToBlank(e.Booked_YTD),CY_MIDTA:s.convertZeroValueToBlank(e.MarketShare_CY),"VLY(%)_MIDTA":s.convertZeroValueToBlank(e.MarketShare_VLY),YTD_MIDTA:s.convertZeroValueToBlank(e.MS_YTD),CY_MIDT_AB:window.numberWithCommas(e.BookedPassenger_CY),"VLY(%)_MIDT_AB":window.numberWithCommas(e.BookedPassenger_VLY),YTD_MIDT_AB:window.numberWithCommas(e.Booked_YTD),CY_MIDTA_AB:window.numberWithCommas(e.MarketShare_CY),"VLY(%)_MIDTA_AB":window.numberWithCommas(e.MarketShare_VLY),YTD_MIDTA_AB:window.numberWithCommas(e.MS_YTD)})})),[{columnName:t,rowData:a,totalData:n}]})).catch((function(e){s.errorHandling(e)}))}},{key:"getAgentAnalysis",value:function(e,t,a,n,o,r,l){var i=this,c="".concat(he,"/agentanalysisreport?endDate=").concat(e,"&startDate=").concat(t,"&").concat(we(a,n,o,r),"&agentname=").concat(encodeURIComponent(l));return v.a.get(c,this.getDefaultHeader()).then((function(e){var t=[{headerName:"",children:[{headerName:O.columnName.AGENT_NAME,field:"AgentName",tooltipField:"AgentName",alignLeft:!0}]},{headerName:O.columnName.MIDT_BOOKED_PASSENGER,children:[{headerName:O.columnName.CY,field:"CY_M",tooltipField:"CY_M_AB"},{headerName:O.columnName.LY,field:"LY_M",tooltipField:"LY_M_AB"},{headerName:O.columnName.VLY,field:"VLY_M",tooltipField:"VLY_M_AB",cellRenderer:function(e){return i.arrowIndicator(e)}}]},{headerName:O.columnName.MIDT_AIRLINES_BOOKED_PASSENGER,children:[{headerName:O.columnName.CY,field:"CY_MA",tooltipField:"CY_MA_AB"},{headerName:O.columnName.LY,field:"LY_MA",tooltipField:"LY_MA_AB"},{headerName:O.columnName.VLY,field:"VLY_MA",tooltipField:"VLY_MA_AB",cellRenderer:function(e){return i.arrowIndicator(e)}}]},{headerName:O.columnName.MARKET_SHARE,children:[{headerName:O.columnName.CY,field:"CY_MS",tooltipField:"CY_MS_AB"},{headerName:O.columnName.YOY_PERCENTAGE,field:"YOY_MS",tooltipField:"YOY_MS_AB"}]},{headerName:O.columnName.AL_MARKET_SHARE,children:[{headerName:O.columnName.AL_PERCENTAGE,field:"AL",tooltipField:"AL_AB"},{headerName:O.columnName.YOY_PTS,field:"YOY(pts)",tooltipField:"YOY(pts)_AB"}]}],a=[];return e.data.response[0].TableData.forEach((function(e){a.push({AgentName:e.AgentName,CY_M:i.convertZeroValueToBlank(e.BookedPassenger_CY),LY_M:i.convertZeroValueToBlank(e.BookedPassenger_LY),VLY_M:i.convertZeroValueToBlank(e.BookedPassenger_VLY),CY_MA:i.convertZeroValueToBlank(e.AirlinesBookedPassenger_CY),LY_MA:i.convertZeroValueToBlank(e.AirlinesBookedPassenger_LY),VLY_MA:i.convertZeroValueToBlank(e.AirlinesBookedPassenger_VLY),CY_MS:i.convertZeroValueToBlank(e.Agent_MS_CY),YOY_MS:i.convertZeroValueToBlank(e.Agent_MS_YOY),AL:i.convertZeroValueToBlank(e.MarketShare_CY),"YOY(pts)":i.convertZeroValueToBlank(e.MarketShare_VLY),CY_M_AB:window.numberWithCommas(e.BookedPassenger_CY),LY_M_AB:window.numberWithCommas(e.BookedPassenger_LY),VLY_M_AB:window.numberWithCommas(e.BookedPassenger_VLY),CY_MA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_CY),LY_MA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_LY),VLY_MA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_VLY),CY_MS_AB:window.numberWithCommas(e.Agent_MS_CY),YOY_MS_AB:window.numberWithCommas(e.Agent_MS_YOY),AL_AB:window.numberWithCommas(e.MarketShare_CY),"YOY(pts)_AB":window.numberWithCommas(e.MarketShare_VLY)})})),[{columnName:t,rowData:a}]})).catch((function(e){i.errorHandling(e)}))}},{key:"getTopMarketsForAgent",value:function(e,t,a,n,o,r,l,i){var c=this,s="".concat(he,"/agenttopmarkets?endDate=").concat(e,"&startDate=").concat(t,"&").concat(we(a,n,o,r),"&getTopMarkets=").concat(l,"&agentname=").concat(encodeURIComponent(i));return v.a.get(s,this.getDefaultHeader()).then((function(e){var t=[{headerName:"",children:[{headerName:O.columnName.OD,field:"OD",alignLeft:!0}]},{headerName:O.columnName.MIDT_BOOKED_PASSENGER,children:[{headerName:O.columnName.CY,field:"CY_M",tooltipField:"CY_M_AB",sortable:!0,comparator:c.customSorting,sort:"desc"},{headerName:O.columnName.LY,field:"LY_M",tooltipField:"LY_M_AB",sortable:!0,comparator:c.customSorting},{headerName:O.columnName.VLY,field:"VLY_M",tooltipField:"VLY_M_AB",cellRenderer:function(e){return c.arrowIndicator(e)},sortable:!0,comparator:c.customSorting}]},{headerName:O.columnName.MIDT_AIRLINES_BOOKED_PASSENGER,children:[{headerName:O.columnName.CY,field:"CY_MA",tooltipField:"CY_MA_AB",sortable:!0,comparator:c.customSorting},{headerName:O.columnName.LY,field:"LY_MA",tooltipField:"LY_MA_AB",sortable:!0,comparator:c.customSorting},{headerName:O.columnName.VLY,field:"VLY_MA",tooltipField:"VLY_MA_AB",cellRenderer:function(e){return c.arrowIndicator(e)},sortable:!0,comparator:c.customSorting}]},{headerName:O.columnName.MARKET_SHARE,children:[{headerName:O.columnName.CY,field:"CY_MS",tooltipField:"CY_MS_AB",sortable:!0,comparator:c.customSorting},{headerName:O.columnName.YOY_PERCENTAGE,field:"YOY_MS",tooltipField:"YOY_MS_AB",sortable:!0,comparator:c.customSorting}]},{headerName:O.columnName.AL_MARKET_SHARE,children:[{headerName:O.columnName.AL_PERCENTAGE,field:"AL",tooltipField:"AL_AB",sortable:!0,comparator:c.customSorting},{headerName:O.columnName.YOY_PTS,field:"YOY(pts)",tooltipField:"YOY(pts)_AB",sortable:!0,comparator:c.customSorting}]}],a=[];e.data.response[0].TableData.forEach((function(e){a.push({OD:e.OD,CY_M:c.convertZeroValueToBlank(e.BookedPassenger_CY),LY_M:c.convertZeroValueToBlank(e.BookedPassenger_LY),VLY_M:c.convertZeroValueToBlank(e.BookedPassenger_VLY),CY_MA:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_CY),LY_MA:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_LY),VLY_MA:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_VLY),CY_MS:c.convertZeroValueToBlank(e.Agent_MS_CY),YOY_MS:c.convertZeroValueToBlank(e.Agent_MS_YOY),AL:c.convertZeroValueToBlank(e.MarketShare_CY),"YOY(pts)":c.convertZeroValueToBlank(e.MarketShare_VLY),CY_M_AB:window.numberWithCommas(e.BookedPassenger_CY),LY_M_AB:window.numberWithCommas(e.BookedPassenger_LY),VLY_M_AB:window.numberWithCommas(e.BookedPassenger_VLY),CY_MA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_CY),LY_MA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_LY),VLY_MA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_VLY),CY_MS_AB:window.numberWithCommas(e.Agent_MS_CY),YOY_MS_AB:window.numberWithCommas(e.Agent_MS_YOY),AL_AB:window.numberWithCommas(e.MarketShare_CY),"YOY(pts)_AB":window.numberWithCommas(e.MarketShare_VLY)})}));var n=[];return e.data.response[0].Total.forEach((function(e){n.push({OD:"Total",CY_M:c.convertZeroValueToBlank(e.BookedPassenger_CY),LY_M:c.convertZeroValueToBlank(e.BookedPassenger_LY),VLY_M:c.convertZeroValueToBlank(e.BookedPassenger_VLY),CY_MA:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_CY),LY_MA:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_LY),VLY_MA:c.convertZeroValueToBlank(e.AirlinesBookedPassenger_VLY),CY_MS:c.convertZeroValueToBlank(e.Agent_MS_CY),YOY_MS:c.convertZeroValueToBlank(e.Agent_MS_YOY),AL:c.convertZeroValueToBlank(e.MarketShare_CY),"YOY(pts)":c.convertZeroValueToBlank(e.MarketShare_VLY),CY_M_AB:window.numberWithCommas(e.BookedPassenger_CY),LY_M_AB:window.numberWithCommas(e.BookedPassenger_LY),VLY_M_AB:window.numberWithCommas(e.BookedPassenger_VLY),CY_MA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_CY),LY_MA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_LY),VLY_MA_AB:window.numberWithCommas(e.AirlinesBookedPassenger_VLY),CY_MS_AB:window.numberWithCommas(e.Agent_MS_CY),YOY_MS_AB:window.numberWithCommas(e.Agent_MS_YOY),AL_AB:window.numberWithCommas(e.MarketShare_CY),"YOY(pts)_AB":window.numberWithCommas(e.MarketShare_VLY)})})),[{columnName:t,rowData:a,totalData:n}]})).catch((function(e){c.errorHandling(e)}))}},{key:"getChannelPerformance",value:function(e,t,a,n,o,r){var l=this,i="".concat(he,"/channelperformance?endDate=").concat(e,"&startDate=").concat(t,"&").concat(we(a,n,o,"Null")),c="".concat(he,"/FullYearDownloadChannel?endDate=").concat(e,"&startDate=").concat(t,"&").concat(we(a,n,o,"Null"));return localStorage.setItem("channelDownloadURL",c),v.a.get(i,this.getDefaultHeader()).then((function(e){var t=e.data.response.filter((function(e){return 0===e.AverageFare_TGT||null===e.AverageFare_TGT})).length===e.data.response.length,a=e.data.response.filter((function(e){return 0===e.Revenue_TGT||null===e.Revenue_TGT})).length===e.data.response.length,n=e.data.response.filter((function(e){return 0===e.Passenger_TGT||null===e.Passenger_TGT})).length===e.data.response.length,o=[{headerName:"",children:[{headerName:O.columnName.CHANNEL,field:"Channel",tooltipField:"Channel",width:250,alignLeft:!0,underline:!0}]},{headerName:O.columnName.BOOKINGS,children:[{headerName:O.columnName.CY,field:"CY_B",tooltipField:"CY_B_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.VLY,field:"VLY_B",tooltipField:"VLY_B_AB",cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting},{headerName:O.columnName.TKT,field:"TKT_B",tooltipField:"TKT_B_AB",sortable:!0,comparator:l.customSorting}]},{headerName:O.columnName.PASSENGER,children:[{headerName:O.columnName.FORECAST_ACT,field:"Forecast_P",tooltipField:"Forecast_P_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.TGT,field:"TGT_P",tooltipField:"TGT_P_AB",hide:n,sortable:!0,comparator:l.customSorting},{headerName:O.columnName.VTG,field:"VTG_P",tooltipField:"VTG_P_AB",cellRenderer:function(e){return l.arrowIndicator(e)},hide:n,sortable:!0,comparator:l.customSorting},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting}]},{headerName:O.columnName.AVERAGE_FARE_$,children:[{headerName:O.columnName.FORECAST_ACT,field:"Forecast_A",tooltipField:"Forecast_A_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.TGT,field:"TGT_A",tooltipField:"TGT_A_AB",hide:t,sortable:!0,comparator:l.customSorting},{headerName:O.columnName.VTG,field:"VTG_A",tooltipField:"VTG_A_AB",cellRenderer:function(e){return l.arrowIndicator(e)},hide:t,sortable:!0,comparator:l.customSorting},{headerName:O.columnName.VLY,field:"VLY_A",tooltipField:"VLY_A_AB",cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting}]},{headerName:O.columnName.REVENUE_$,headerGroupComponent:"customHeaderGroupComponent",children:[{headerName:O.columnName.FORECAST_ACT,field:"Forecast_R",tooltipField:"Forecast_R_AB",sortable:!0,comparator:l.customSorting,sort:"desc"},{headerName:O.columnName.TGT,field:"TGT_R",tooltipField:"TGT_R_AB",hide:a,sortable:!0,comparator:l.customSorting},{headerName:O.columnName.VTG,field:"VTG_R",tooltipField:"VTG_R_AB",cellRenderer:function(e){return l.arrowIndicator(e)},hide:a,sortable:!0,comparator:l.customSorting},{headerName:O.columnName.VLY,field:"VLY_R",tooltipField:"VLY_R_AB",cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting}]}],r=[];e.data.response[0].TableData.forEach((function(e){r.push({Channel:e.ChannelName,CY_B:l.convertZeroValueToBlank(e.Bookings_CY),VLY_B:l.convertZeroValueToBlank(e.Bookings_VLY),TKT_B:l.convertZeroValueToBlank(e.Bookings_TKT),Forecast_P:l.convertZeroValueToBlank(e.Passenger_CY),TGT_P:l.convertZeroValueToBlank(e.Passenger_TGT),VTG_P:l.convertZeroValueToBlank(e.Passenger_VTG),VLY_P:l.convertZeroValueToBlank(e.Passenger_VLY),Forecast_A:l.convertZeroValueToBlank(e.AverageFare_CY),TGT_A:l.convertZeroValueToBlank(e.AverageFare_TGT),VTG_A:l.convertZeroValueToBlank(e.AverageFare_VTG),VLY_A:l.convertZeroValueToBlank(e.AverageFare_VLY),Forecast_R:l.convertZeroValueToBlank(e.Revenue_CY),TGT_R:l.convertZeroValueToBlank(e.Revenue_TGT),VTG_R:l.convertZeroValueToBlank(e.Revenue_VTG),VLY_R:l.convertZeroValueToBlank(e.Revenue_VLY),CY_B_AB:window.numberWithCommas(e.Bookings_CY),VLY_B_AB:window.numberWithCommas(e.Bookings_VLY),TKT_B_AB:window.numberWithCommas(e.Bookings_TKT),Forecast_P_AB:window.numberWithCommas(e.Passenger_CY),TGT_P_AB:window.numberWithCommas(e.Passenger_TGT),VTG_P_AB:window.numberWithCommas(e.Passenger_VTG),VLY_P_AB:window.numberWithCommas(e.Passenger_VLY),Forecast_A_AB:window.numberWithCommas(e.AverageFare_CY),TGT_A_AB:window.numberWithCommas(e.AverageFare_TGT),VTG_A_AB:window.numberWithCommas(e.AverageFare_VTG),VLY_A_AB:window.numberWithCommas(e.AverageFare_VLY),Forecast_R_AB:window.numberWithCommas(e.Revenue_CY),TGT_R_AB:window.numberWithCommas(e.Revenue_TGT),VTG_R_AB:window.numberWithCommas(e.Revenue_VTG),VLY_R_AB:window.numberWithCommas(e.Revenue_VLY)})}));var i=[];return e.data.response[0].Total.forEach((function(e){i.push({Channel:"Total",CY_B:l.convertZeroValueToBlank(e.Bookings_CY),VLY_B:l.convertZeroValueToBlank(e.Bookings_VLY),TKT_B:l.convertZeroValueToBlank(e.Bookings_TKT),Forecast_P:l.convertZeroValueToBlank(e.Passenger_CY),TGT_P:l.convertZeroValueToBlank(e.Passenger_TGT),VTG_P:l.convertZeroValueToBlank(e.Passenger_VTG),VLY_P:l.convertZeroValueToBlank(e.Passenger_VLY),Forecast_A:l.convertZeroValueToBlank(e.AverageFare_CY),TGT_A:l.convertZeroValueToBlank(e.AverageFare_TGT),VTG_A:l.convertZeroValueToBlank(e.AverageFare_VTG),VLY_A:l.convertZeroValueToBlank(e.AverageFare_VLY),Forecast_R:l.convertZeroValueToBlank(e.Revenue_CY),TGT_R:l.convertZeroValueToBlank(e.Revenue_TGT),VTG_R:l.convertZeroValueToBlank(e.Revenue_VTG),VLY_R:l.convertZeroValueToBlank(e.Revenue_VLY),CY_B_AB:window.numberWithCommas(e.Bookings_CY),VLY_B_AB:window.numberWithCommas(e.Bookings_VLY),TKT_B_AB:window.numberWithCommas(e.Bookings_TKT),Forecast_P_AB:window.numberWithCommas(e.Passenger_CY),TGT_P_AB:window.numberWithCommas(e.Passenger_TGT),VTG_P_AB:window.numberWithCommas(e.Passenger_VTG),VLY_P_AB:window.numberWithCommas(e.Passenger_VLY),Forecast_A_AB:window.numberWithCommas(e.AverageFare_CY),TGT_A_AB:window.numberWithCommas(e.AverageFare_TGT),VTG_A_AB:window.numberWithCommas(e.AverageFare_VTG),VLY_A_AB:window.numberWithCommas(e.AverageFare_VLY),Forecast_R_AB:window.numberWithCommas(e.Revenue_CY),TGT_R_AB:window.numberWithCommas(e.Revenue_TGT),VTG_R_AB:window.numberWithCommas(e.Revenue_VTG),VLY_R_AB:window.numberWithCommas(e.Revenue_VLY)})})),[{columnName:o,rowData:r,totalData:i}]})).catch((function(e){l.errorHandling(e)}))}},{key:"getSubChannelPerformance",value:function(e,t,a,n,o,r,l,i){var c=this,s="".concat(he,"/subchannelperformance?endDate=").concat(e,"&startDate=").concat(t,"&").concat(we(a,n,o,"Null"),"&channelname=").concat(encodeURIComponent(l),"&getAgent=").concat(encodeURIComponent(i)),u="".concat(he,"/FullYearDownloadsubChannel?endDate=").concat(e,"&startDate=").concat(t,"&").concat(we(a,n,o,"Null"),"&channelname=").concat(encodeURIComponent(l),"&getAgent=").concat(encodeURIComponent(i));return localStorage.setItem("subChannelDownloadURL",u),v.a.get(s,this.getDefaultHeader()).then((function(e){e.data.response.filter((function(e){return 0===e.AverageFare_TGT||null===e.AverageFare_TGT})).length,e.data.response.length,e.data.response.filter((function(e){return 0===e.Revenue_TGT||null===e.Revenue_TGT})).length,e.data.response.length,e.data.response.filter((function(e){return 0===e.Passenger_TGT||null===e.Passenger_TGT})).length,e.data.response.length;var t=e.data.response[0].columnName,a=[{headerName:"",children:[{headerName:t,field:t,tooltipField:t,width:250,alignLeft:!0,underline:"CommonOD"!==t}]},{headerName:O.columnName.BOOKINGS,children:[{headerName:O.columnName.CY,field:"CY_B",tooltipField:"CY_B_AB",sortable:!0,comparator:c.customSorting},{headerName:O.columnName.VLY,field:"VLY_B",tooltipField:"VLY_B_AB",cellRenderer:function(e){return c.arrowIndicator(e)},sortable:!0,comparator:c.customSorting},{headerName:O.columnName.TKT,field:"TKT_B",tooltipField:"TKT_B_AB",sortable:!0,comparator:c.customSorting}]},{headerName:O.columnName.PASSENGER,children:[{headerName:O.columnName.FORECAST_ACT,field:"Forecast_P",tooltipField:"Forecast_P_AB",sortable:!0,comparator:c.customSorting},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return c.arrowIndicator(e)},sortable:!0,comparator:c.customSorting}]},{headerName:O.columnName.AVERAGE_FARE_$,children:[{headerName:O.columnName.FORECAST_ACT,field:"Forecast_A",tooltipField:"Forecast_A_AB",sortable:!0,comparator:c.customSorting},{headerName:O.columnName.VLY,field:"VLY_A",tooltipField:"VLY_A_AB",cellRenderer:function(e){return c.arrowIndicator(e)},sortable:!0,comparator:c.customSorting}]},{headerName:O.columnName.REVENUE_$,headerGroupComponent:"customHeaderGroupComponent",children:[{headerName:O.columnName.FORECAST_ACT,field:"Forecast_R",tooltipField:"Forecast_R_AB",sortable:!0,comparator:c.customSorting,sort:"desc"},{headerName:O.columnName.VLY,field:"VLY_R",tooltipField:"VLY_R_AB",cellRenderer:function(e){return c.arrowIndicator(e)},sortable:!0,comparator:c.customSorting}]}],n=[];e.data.response[0].TableData.forEach((function(e){var a;n.push((a={},Object(p.a)(a,t,e[t]),Object(p.a)(a,"CY_B",c.convertZeroValueToBlank(e.Bookings_CY)),Object(p.a)(a,"VLY_B",c.convertZeroValueToBlank(e.Bookings_VLY)),Object(p.a)(a,"TKT_B",c.convertZeroValueToBlank(e.Bookings_TKT)),Object(p.a)(a,"Forecast_P",c.convertZeroValueToBlank(e.Passenger_CY)),Object(p.a)(a,"TGT_P",c.convertZeroValueToBlank(e.Passenger_TGT)),Object(p.a)(a,"VTG_P",c.convertZeroValueToBlank(e.Passenger_VTG)),Object(p.a)(a,"VLY_P",c.convertZeroValueToBlank(e.Passenger_VLY)),Object(p.a)(a,"Forecast_A",c.convertZeroValueToBlank(e.AverageFare_CY)),Object(p.a)(a,"TGT_A",c.convertZeroValueToBlank(e.AverageFare_TGT)),Object(p.a)(a,"VTG_A",c.convertZeroValueToBlank(e.AverageFare_VTG)),Object(p.a)(a,"VLY_A",c.convertZeroValueToBlank(e.AverageFare_VLY)),Object(p.a)(a,"Forecast_R",c.convertZeroValueToBlank(e.Revenue_CY)),Object(p.a)(a,"TGT_R",c.convertZeroValueToBlank(e.Revenue_TGT)),Object(p.a)(a,"VTG_R",c.convertZeroValueToBlank(e.Revenue_VTG)),Object(p.a)(a,"VLY_R",c.convertZeroValueToBlank(e.Revenue_VLY)),Object(p.a)(a,"CY_B_AB",window.numberWithCommas(e.Bookings_CY)),Object(p.a)(a,"VLY_B_AB",window.numberWithCommas(e.Bookings_VLY)),Object(p.a)(a,"TKT_B_AB",window.numberWithCommas(e.Bookings_TKT)),Object(p.a)(a,"Forecast_P_AB",window.numberWithCommas(e.Passenger_CY)),Object(p.a)(a,"TGT_P_AB",window.numberWithCommas(e.Passenger_TGT)),Object(p.a)(a,"VTG_P_AB",window.numberWithCommas(e.Passenger_VTG)),Object(p.a)(a,"VLY_P_AB",window.numberWithCommas(e.Passenger_VLY)),Object(p.a)(a,"Forecast_A_AB",window.numberWithCommas(e.AverageFare_CY)),Object(p.a)(a,"TGT_A_AB",window.numberWithCommas(e.AverageFare_TGT)),Object(p.a)(a,"VTG_A_AB",window.numberWithCommas(e.AverageFare_VTG)),Object(p.a)(a,"VLY_A_AB",window.numberWithCommas(e.AverageFare_VLY)),Object(p.a)(a,"Forecast_R_AB",window.numberWithCommas(e.Revenue_CY)),Object(p.a)(a,"TGT_R_AB",window.numberWithCommas(e.Revenue_TGT)),Object(p.a)(a,"VTG_R_AB",window.numberWithCommas(e.Revenue_VTG)),Object(p.a)(a,"VLY_R_AB",window.numberWithCommas(e.Revenue_VLY)),a))}));var o=[];return e.data.response[0].Total.forEach((function(e){o.push({Agents:"Total",CY_B:c.convertZeroValueToBlank(e.Bookings_CY),VLY_B:c.convertZeroValueToBlank(e.Bookings_VLY),TKT_B:c.convertZeroValueToBlank(e.Bookings_TKT),Forecast_P:c.convertZeroValueToBlank(e.Passenger_CY),TGT_P:c.convertZeroValueToBlank(e.Passenger_TGT),VTG_P:c.convertZeroValueToBlank(e.Passenger_VTG),VLY_P:c.convertZeroValueToBlank(e.Passenger_VLY),Forecast_A:c.convertZeroValueToBlank(e.AverageFare_CY),TGT_A:c.convertZeroValueToBlank(e.AverageFare_TGT),VTG_A:c.convertZeroValueToBlank(e.AverageFare_VTG),VLY_A:c.convertZeroValueToBlank(e.AverageFare_VLY),Forecast_R:c.convertZeroValueToBlank(e.Revenue_CY),TGT_R:c.convertZeroValueToBlank(e.Revenue_TGT),VTG_R:c.convertZeroValueToBlank(e.Revenue_VTG),VLY_R:c.convertZeroValueToBlank(e.Revenue_VLY),CY_B_AB:window.numberWithCommas(e.Bookings_CY),VLY_B_AB:window.numberWithCommas(e.Bookings_VLY),TKT_B_AB:window.numberWithCommas(e.Bookings_TKT),Forecast_P_AB:window.numberWithCommas(e.Passenger_CY),TGT_P_AB:window.numberWithCommas(e.Passenger_TGT),VTG_P_AB:window.numberWithCommas(e.Passenger_VTG),VLY_P_AB:window.numberWithCommas(e.Passenger_VLY),Forecast_A_AB:window.numberWithCommas(e.AverageFare_CY),TGT_A_AB:window.numberWithCommas(e.AverageFare_TGT),VTG_A_AB:window.numberWithCommas(e.AverageFare_VTG),VLY_A_AB:window.numberWithCommas(e.AverageFare_VLY),Forecast_R_AB:window.numberWithCommas(e.Revenue_CY),TGT_R_AB:window.numberWithCommas(e.Revenue_TGT),VTG_R_AB:window.numberWithCommas(e.Revenue_VTG),VLY_R_AB:window.numberWithCommas(e.Revenue_VLY)})})),[{columnName:a,rowData:n,totalData:o}]})).catch((function(e){c.errorHandling(e)}))}},{key:"getSegmentationData",value:function(e,t,a,n,o,r){var l=this,i="".concat(he,"/segmentationreport?endDate=").concat(e,"&startDate=").concat(t,"&").concat(we(a,n,o,"Null")),c="".concat(he,"/FullYearDownloadSegment?endDate=").concat(e,"&startDate=").concat(t,"&").concat(we(a,n,o,"Null"));return localStorage.setItem("segmentationDownloadurl",c),v.a.get(i,this.getDefaultHeader()).then((function(e){var t=e.data.response.filter((function(e){return 0===e.AverageFare_TGT||null===e.AverageFare_TGT})).length===e.data.response.length,a=e.data.response.filter((function(e){return 0===e.Revenue_TGT||null===e.Revenue_TGT})).length===e.data.response.length,n=e.data.response.filter((function(e){return 0===e.Passenger_TGT||null===e.Passenger_TGT})).length===e.data.response.length,o=[{headerName:"",children:[{headerName:"Segment",field:"Segment",tooltipField:"Segment",width:250,alignLeft:!0,underline:!0}]},{headerName:O.columnName.PASSENGER,children:[{headerName:"Actual",field:"Forecast_P",tooltipField:"Forecast_P_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.TGT,field:"TGT_P",tooltipField:"TGT_P_AB",hide:n,sortable:!0,comparator:l.customSorting},{headerName:O.columnName.VTG,field:"VTG_P",tooltipField:"VTG_P_AB",cellRenderer:function(e){return l.arrowIndicator(e)},hide:n,sortable:!0,comparator:l.customSorting},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting}]},{headerName:O.columnName.AVERAGE_FARE_$,children:[{headerName:"Actual",field:"Forecast_A",tooltipField:"Forecast_A_AB",sortable:!0,comparator:l.customSorting},{headerName:O.columnName.TGT,field:"TGT_A",tooltipField:"TGT_A_AB",hide:t,sortable:!0,comparator:l.customSorting},{headerName:O.columnName.VTG,field:"VTG_A",tooltipField:"VTG_A_AB",cellRenderer:function(e){return l.arrowIndicator(e)},hide:t,sortable:!0,comparator:l.customSorting},{headerName:O.columnName.VLY,field:"VLY_A",tooltipField:"VLY_A_AB",cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting}]},{headerName:O.columnName.REVENUE_$,headerGroupComponent:"customHeaderGroupComponent",children:[{headerName:"Actual",field:"Forecast_R",tooltipField:"Forecast_R_AB",sortable:!0,comparator:l.customSorting,sort:"desc"},{headerName:O.columnName.TGT,field:"TGT_R",tooltipField:"TGT_R_AB",hide:a,sortable:!0,comparator:l.customSorting},{headerName:O.columnName.VTG,field:"VTG_R",tooltipField:"VTG_R_AB",cellRenderer:function(e){return l.arrowIndicator(e)},hide:a,sortable:!0,comparator:l.customSorting},{headerName:O.columnName.VLY,field:"VLY_R",tooltipField:"VLY_R_AB",cellRenderer:function(e){return l.arrowIndicator(e)},sortable:!0,comparator:l.customSorting}]}],r=[];e.data.response[0].TableData.forEach((function(e){r.push({Segment:e.Segment,Forecast_P:l.convertZeroValueToBlank(e.Passenger_CY),TGT_P:l.convertZeroValueToBlank(e.Passenger_TGT),VTG_P:l.convertZeroValueToBlank(e.Passenger_VTG),VLY_P:l.convertZeroValueToBlank(e.Passenger_VLY),Forecast_A:l.convertZeroValueToBlank(e.AverageFare_CY),TGT_A:l.convertZeroValueToBlank(e.AverageFare_TGT),VTG_A:l.convertZeroValueToBlank(e.AverageFare_VTG),VLY_A:l.convertZeroValueToBlank(e.AverageFare_VLY),Forecast_R:l.convertZeroValueToBlank(e.Revenue_CY),TGT_R:l.convertZeroValueToBlank(e.Revenue_TGT),VTG_R:l.convertZeroValueToBlank(e.Revenue_VTG),VLY_R:l.convertZeroValueToBlank(e.Revenue_VLY),CY_B_AB:window.numberWithCommas(e.Bookings_CY),VLY_B_AB:window.numberWithCommas(e.Bookings_VLY),TKT_B_AB:window.numberWithCommas(e.Bookings_TKT),Forecast_P_AB:window.numberWithCommas(e.Passenger_CY),TGT_P_AB:window.numberWithCommas(e.Passenger_TGT),VTG_P_AB:window.numberWithCommas(e.Passenger_VTG),VLY_P_AB:window.numberWithCommas(e.Passenger_VLY),Forecast_A_AB:window.numberWithCommas(e.AverageFare_CY),TGT_A_AB:window.numberWithCommas(e.AverageFare_TGT),VTG_A_AB:window.numberWithCommas(e.AverageFare_VTG),VLY_A_AB:window.numberWithCommas(e.AverageFare_VLY),Forecast_R_AB:window.numberWithCommas(e.Revenue_CY),TGT_R_AB:window.numberWithCommas(e.Revenue_TGT),VTG_R_AB:window.numberWithCommas(e.Revenue_VTG),VLY_R_AB:window.numberWithCommas(e.Revenue_VLY)})}));var i=[];return e.data.response[0].Total.forEach((function(e){i.push({Segment:"Total",Forecast_P:l.convertZeroValueToBlank(e.Passenger_CY),TGT_P:l.convertZeroValueToBlank(e.Passenger_TGT),VTG_P:l.convertZeroValueToBlank(e.Passenger_VTG),VLY_P:l.convertZeroValueToBlank(e.Passenger_VLY),Forecast_A:l.convertZeroValueToBlank(e.AverageFare_CY),TGT_A:l.convertZeroValueToBlank(e.AverageFare_TGT),VTG_A:l.convertZeroValueToBlank(e.AverageFare_VTG),VLY_A:l.convertZeroValueToBlank(e.AverageFare_VLY),Forecast_R:l.convertZeroValueToBlank(e.Revenue_CY),TGT_R:l.convertZeroValueToBlank(e.Revenue_TGT),VTG_R:l.convertZeroValueToBlank(e.Revenue_VTG),VLY_R:l.convertZeroValueToBlank(e.Revenue_VLY),CY_B_AB:window.numberWithCommas(e.Bookings_CY),VLY_B_AB:window.numberWithCommas(e.Bookings_VLY),TKT_B_AB:window.numberWithCommas(e.Bookings_TKT),Forecast_P_AB:window.numberWithCommas(e.Passenger_CY),TGT_P_AB:window.numberWithCommas(e.Passenger_TGT),VTG_P_AB:window.numberWithCommas(e.Passenger_VTG),VLY_P_AB:window.numberWithCommas(e.Passenger_VLY),Forecast_A_AB:window.numberWithCommas(e.AverageFare_CY),TGT_A_AB:window.numberWithCommas(e.AverageFare_TGT),VTG_A_AB:window.numberWithCommas(e.AverageFare_VTG),VLY_A_AB:window.numberWithCommas(e.AverageFare_VLY),Forecast_R_AB:window.numberWithCommas(e.Revenue_CY),TGT_R_AB:window.numberWithCommas(e.Revenue_TGT),VTG_R_AB:window.numberWithCommas(e.Revenue_VTG),VLY_R_AB:window.numberWithCommas(e.Revenue_VLY)})})),[{columnName:o,rowData:r,totalData:i}]})).catch((function(e){l.errorHandling(e)}))}},{key:"getSubSegmentationData",value:function(e,t,a,n,o,r,l){var i=this,c="".concat(he,"/segmentationreport?endDate=").concat(e,"&startDate=").concat(t,"&").concat(we(a,n,o,"Null"),"&segmentValue=").concat(encodeURIComponent(l)),s="".concat(he,"/FullYearDownloadSegment?endDate=").concat(e,"&startDate=").concat(t,"&").concat(we(a,n,o,"Null"),"&segmentValue=").concat(encodeURIComponent(l));return localStorage.setItem("segmentationReportDownloadURL",s),v.a.get(c,this.getDefaultHeader()).then((function(e){e.data.response.filter((function(e){return 0===e.AverageFare_TGT||null===e.AverageFare_TGT})).length,e.data.response.length,e.data.response.filter((function(e){return 0===e.Revenue_TGT||null===e.Revenue_TGT})).length,e.data.response.length,e.data.response.filter((function(e){return 0===e.Passenger_TGT||null===e.Passenger_TGT})).length,e.data.response.length;var t=[{headerName:"",children:[{headerName:O.columnName.OD,field:"OD",tooltipField:"OD",width:250,alignLeft:!0}]},{headerName:O.columnName.PASSENGER,children:[{headerName:"Actual",field:"Forecast_P",tooltipField:"Forecast_P_AB",sortable:!0,comparator:i.customSorting},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return i.arrowIndicator(e)},sortable:!0,comparator:i.customSorting}]},{headerName:O.columnName.AVERAGE_FARE_$,children:[{headerName:"Actual",field:"Forecast_A",tooltipField:"Forecast_A_AB",sortable:!0,comparator:i.customSorting},{headerName:O.columnName.VLY,field:"VLY_A",tooltipField:"VLY_A_AB",cellRenderer:function(e){return i.arrowIndicator(e)},sortable:!0,comparator:i.customSorting}]},{headerName:O.columnName.REVENUE_$,headerGroupComponent:"customHeaderGroupComponent",children:[{headerName:"Actual",field:"Forecast_R",tooltipField:"Forecast_R_AB",sortable:!0,comparator:i.customSorting,sort:"desc"},{headerName:O.columnName.VLY,field:"VLY_R",tooltipField:"VLY_R_AB",cellRenderer:function(e){return i.arrowIndicator(e)},sortable:!0,comparator:i.customSorting}]}],a=[];e.data.response[0].TableData.forEach((function(e){a.push({OD:e.CommonOD,Forecast_P:i.convertZeroValueToBlank(e.Passenger_CY),TGT_P:i.convertZeroValueToBlank(e.Passenger_TGT),VTG_P:i.convertZeroValueToBlank(e.Passenger_VTG),VLY_P:i.convertZeroValueToBlank(e.Passenger_VLY),Forecast_A:i.convertZeroValueToBlank(e.AverageFare_CY),TGT_A:i.convertZeroValueToBlank(e.AverageFare_TGT),VTG_A:i.convertZeroValueToBlank(e.AverageFare_VTG),VLY_A:i.convertZeroValueToBlank(e.AverageFare_VLY),Forecast_R:i.convertZeroValueToBlank(e.Revenue_CY),TGT_R:i.convertZeroValueToBlank(e.Revenue_TGT),VTG_R:i.convertZeroValueToBlank(e.Revenue_VTG),VLY_R:i.convertZeroValueToBlank(e.Revenue_VLY),CY_B_AB:window.numberWithCommas(e.Bookings_CY),VLY_B_AB:window.numberWithCommas(e.Bookings_VLY),TKT_B_AB:window.numberWithCommas(e.Bookings_TKT),Forecast_P_AB:window.numberWithCommas(e.Passenger_CY),TGT_P_AB:window.numberWithCommas(e.Passenger_TGT),VTG_P_AB:window.numberWithCommas(e.Passenger_VTG),VLY_P_AB:window.numberWithCommas(e.Passenger_VLY),Forecast_A_AB:window.numberWithCommas(e.AverageFare_CY),TGT_A_AB:window.numberWithCommas(e.AverageFare_TGT),VTG_A_AB:window.numberWithCommas(e.AverageFare_VTG),VLY_A_AB:window.numberWithCommas(e.AverageFare_VLY),Forecast_R_AB:window.numberWithCommas(e.Revenue_CY),TGT_R_AB:window.numberWithCommas(e.Revenue_TGT),VTG_R_AB:window.numberWithCommas(e.Revenue_VTG),VLY_R_AB:window.numberWithCommas(e.Revenue_VLY)})}));var n=[];return e.data.response[0].Total.forEach((function(e){n.push({OD:"Total",Forecast_P:i.convertZeroValueToBlank(e.Passenger_CY),TGT_P:i.convertZeroValueToBlank(e.Passenger_TGT),VTG_P:i.convertZeroValueToBlank(e.Passenger_VTG),VLY_P:i.convertZeroValueToBlank(e.Passenger_VLY),Forecast_A:i.convertZeroValueToBlank(e.AverageFare_CY),TGT_A:i.convertZeroValueToBlank(e.AverageFare_TGT),VTG_A:i.convertZeroValueToBlank(e.AverageFare_VTG),VLY_A:i.convertZeroValueToBlank(e.AverageFare_VLY),Forecast_R:i.convertZeroValueToBlank(e.Revenue_CY),TGT_R:i.convertZeroValueToBlank(e.Revenue_TGT),VTG_R:i.convertZeroValueToBlank(e.Revenue_VTG),VLY_R:i.convertZeroValueToBlank(e.Revenue_VLY),CY_B_AB:window.numberWithCommas(e.Bookings_CY),VLY_B_AB:window.numberWithCommas(e.Bookings_VLY),TKT_B_AB:window.numberWithCommas(e.Bookings_TKT),Forecast_P_AB:window.numberWithCommas(e.Passenger_CY),TGT_P_AB:window.numberWithCommas(e.Passenger_TGT),VTG_P_AB:window.numberWithCommas(e.Passenger_VTG),VLY_P_AB:window.numberWithCommas(e.Passenger_VLY),Forecast_A_AB:window.numberWithCommas(e.AverageFare_CY),TGT_A_AB:window.numberWithCommas(e.AverageFare_TGT),VTG_A_AB:window.numberWithCommas(e.AverageFare_VTG),VLY_A_AB:window.numberWithCommas(e.AverageFare_VLY),Forecast_R_AB:window.numberWithCommas(e.Revenue_CY),TGT_R_AB:window.numberWithCommas(e.Revenue_TGT),VTG_R_AB:window.numberWithCommas(e.Revenue_VTG),VLY_R_AB:window.numberWithCommas(e.Revenue_VLY)})})),[{columnName:t,rowData:a,totalData:n}]})).catch((function(e){i.errorHandling(e)}))}},{key:"getRPSColumns",value:function(e,t,a){var n=this,o=G(JSON.parse(b.getCookie("userDetails")));console.log(o,"uservalidate");var r=window.localStorage.getItem("CitySelected");r=!(!r||"Null"===r);window.localStorage.getItem("FlightSelected");var l=function(t){return console.log(t,"params"),"drilldown"!==e&&"total"!==e&&(o.isPOSNetworkAdmin&&"od"===t.data.drilldown_level?t.data.version_action?(console.log("condition1"),!1):t.data.Approval_level?(console.log("condition2"),!1):o.accessLevelPOS===t.data.Submit_level?(console.log("condition3"),!1):t.data.Reject_level?(console.log("condition4"),!0):(console.log("condition5"),!0):o.isPOSNetworkAdmin||o.isPOSCountryAdmin||o.isPOSRegionAdmin&&"network"===t.data.drilldown_level||"region"===t.data.drilldown_level||"country"===t.data.drilldown_level||"pos"===t.data.drilldown_level?"Unfreeze"===t.data.version_action?(console.log("conditio6",t.data.version_action),!0):"Freeze"===t.data.version_action?(console.log("conditio10",t.data.version_action),!1):o.accessLevelPOS-1===parseInt(t.data.Approval_level)?(console.log("condition7"),!0):(console.log("condition8"),!1):(console.log("condition9"),!1))},i="drilldown"===e||"route"===e?"Edited":"Edit",c="drilldown"===e,s="drilldown"===e?this.customSorting:null;return[{headerName:"",children:"total"===e?[{headerName:O.columnName.MONTH,field:"Month",tooltipField:"Month",width:200,alignLeft:!0}]:"drilldown"===e?[{headerName:a,field:"firstColumnName",tooltipField:"firstColumnName",alignLeft:!0,underline:"Null"===t&&"O&D"!==a&&"Aircraft"!==a,width:200}]:[{headerName:O.columnName.MONTH,field:"Month",tooltipField:"Comment",width:200,alignLeft:!0,underline:!0,checkboxSelection:function(e){if(o.isPOSNetworkAdmin){if(o.accessLevelPOS-1===parseInt(e.data.Approval_level))return!0}else if(o.isPOSRegionAdmin){if(o.accessLevelPOS-1===parseInt(e.data.Submit_level))return!0}else{if(!o.isPOSCountryAdmin)return!1;if(o.accessLevelPOS-1===0)return!0}}}]},{headerName:O.columnName.PASSENGER_OD_RPS,children:[{headerName:"Target",field:"FRCT_P",tooltipField:"FRCT_P_AB",width:250,sortable:c,comparator:s},{headerName:i,field:"Edit_P",tooltipField:"Edit_P_AB",editable:function(e){return l(e)},sortable:c,comparator:s},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:c,comparator:s}]},{headerName:O.columnName.AVERAGE_FARE_$,children:[{headerName:"Target",field:"FRCT_A",tooltipField:"FRCT_A_AB",width:250,sortable:c,comparator:s},{headerName:i,field:"Edit_A",tooltipField:"Edit_A_AB",editable:function(e){return l(e)},sortable:c,comparator:s},{headerName:O.columnName.VLY,field:"VLY_A",tooltipField:"VLY_A_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:c,comparator:s}]},{headerName:O.columnName.REVENUE_$,children:[{headerName:"Target",field:"FRCT_R",tooltipField:"FRCT_R_AB",width:250,sortable:c,comparator:s,sort:"drilldown"===e?"desc":""},{headerName:O.columnName.VLY,field:"VLY_R",tooltipField:"VLY_R_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:c,comparator:s}]}]}},{key:"getRPSRouteColumns",value:function(e,t,a){var n=this,o=G(JSON.parse(b.getCookie("userDetails"))),r=window.localStorage.getItem("CitySelected");r=!(!r||"Null"===r);window.localStorage.getItem("FlightSelected");var l="drilldown"===e,i="drilldown"===e?this.customSorting:null;return[{headerName:"",children:"total"===e?[{headerName:O.columnName.MONTH,field:"Month",tooltipField:"Month",width:200,alignLeft:!0}]:"drilldown"===e?[{headerName:a,field:"firstColumnName",tooltipField:"firstColumnName",alignLeft:!0,underline:"Null"===t&&"O&D"!==a&&"Aircraft"!==a,width:200}]:[{headerName:O.columnName.MONTH,field:"Month",tooltipField:"Comment",width:200,alignLeft:!0,underline:!0,checkboxSelection:function(e){if(o.isPOSNetworkAdmin){if(o.accessLevelPOS-1===parseInt(e.data.Approval_level))return!0}else if(o.isPOSRegionAdmin){if(o.accessLevelPOS-1===parseInt(e.data.Submit_level))return!0}else{if(!o.isPOSCountryAdmin)return!1;if(o.accessLevelPOS-1===0)return!0}}}]},{headerName:O.columnName.PASSENGER_OD,children:[{headerName:"Target",field:"FRCT_P",tooltipField:"FRCT_P_AB",width:250,sortable:l,comparator:i},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:l,comparator:i}]},{headerName:O.columnName.AVERAGE_FARE_$,children:[{headerName:"Target",field:"FRCT_A",tooltipField:"FRCT_A_AB",width:250,sortable:l,comparator:i},{headerName:O.columnName.VLY,field:"VLY_A",tooltipField:"VLY_A_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:l,comparator:i}]},{headerName:O.columnName.REVENUE_$,children:[{headerName:"Target",field:"FRCT_R",tooltipField:"FRCT_R_AB",width:250,sortable:l,comparator:i,sort:"drilldown"===e?"desc":""},{headerName:O.columnName.VLY,field:"VLY_R",tooltipField:"VLY_R_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:l,comparator:i}]},{headerName:O.columnName.RASK_DOLLAR,headerTooltip:O.columnName.RASK_DOLLAR,children:[{headerName:"Target",field:"CY_RK",tooltipField:"CY_RK_AB"},{headerName:O.columnName.VLY,field:"VLY_RK",tooltipField:"VLY_RK",cellRenderer:function(e){return n.arrowIndicator(e)},width:250}]},{headerName:O.columnName.ASK,headerTooltip:O.columnName.ASK,children:[{headerName:"Target",field:"CY_AK",tooltipField:"CY_AK_AB"},{headerName:O.columnName.VLY,field:"VLY_AK",tooltipField:"VLY_AK",cellRenderer:function(e){return n.arrowIndicator(e)},width:250}]},{headerName:O.columnName.YIELD,headerTooltip:O.columnName.YIELD,children:[{headerName:"Target",field:"CY_Y",tooltipField:"CY_Y_AB"},{headerName:O.columnName.VLY,field:"VLY_Y",tooltipField:"VLY_Y_AB",cellRenderer:function(e){return n.arrowIndicator(e)},width:250}]},{headerName:O.columnName.LOAD_FACTOR,headerTooltip:O.columnName.LOAD_FACTOR,children:[{headerName:"Target",field:"CY_L",tooltipField:"CY_L_AB"},{headerName:O.columnName.VLY,field:"VLY_L",tooltipField:"VLY_L_AB",cellRenderer:function(e){return n.arrowIndicator(e)},width:250}]}]}},{key:"getRPSDrilldownColumns",value:function(e,t,a){var n=this,o=G(JSON.parse(b.getCookie("userDetails"))),r=window.localStorage.getItem("CitySelected");r=!(!r||"Null"===r);var l=function(t){return"drilldown"!==e&&(o.canEditRPS?o.isPOSCountryAdmin&&"pos"===t.data.drilldown_level?!t.data.version_action&&(!t.data.Approval_level&&(o.accessLevelPOS!==t.data.Submit_level&&(t.data.Reject_level,!0))):!(!o.isPOSNetworkAdmin||"network"!==t.data.drilldown_level)&&("Unfreeze"===t.data.version_action||o.accessLevelPOS-1===parseInt(t.data.Approval_level)):void 0)},i="drilldown"===e||"route"===e?"Edited":"Edit",c="drilldown"===e,s="drilldown"===e?this.customSorting:null;return[{headerName:"",children:"total"===e?[{headerName:O.columnName.MONTH,field:"Month",tooltipField:"Month",width:200,alignLeft:!0}]:"drilldown"===e?[{headerName:a,field:"firstColumnName",tooltipField:"firstColumnName",alignLeft:!0,underline:"Null"===t&&"O&D"!==a&&"Aircraft"!==a,width:200}]:[{headerName:O.columnName.MONTH,field:"Month",tooltipField:"Comment",width:200,alignLeft:!0,underline:!0,checkboxSelection:function(e){if(o.isPOSNetworkAdmin){if(o.accessLevelPOS-1===parseInt(e.data.Approval_level))return!0}else{if(!o.isPOSRegionAdmin)return!1;if(o.accessLevelPOS-1===parseInt(e.data.Submit_level))return!0}}}]},{headerName:O.columnName.PASSENGER_OD_RPS,children:[{headerName:"Target",field:"FRCT_P",tooltipField:"FRCT_P_AB",width:250,sortable:c,comparator:s},{headerName:i,field:"Edit_P",tooltipField:"Edit_P_AB",editable:function(e){return l(e)},sortable:c,comparator:s},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:c,comparator:s}]},{headerName:O.columnName.AVERAGE_FARE_$,children:[{headerName:"Target",field:"FRCT_A",tooltipField:"FRCT_A_AB",width:250,sortable:c,comparator:s},{headerName:i,field:"Edit_A",tooltipField:"Edit_A_AB",editable:function(e){return l(e)},sortable:c,comparator:s},{headerName:O.columnName.VLY,field:"VLY_A",tooltipField:"VLY_A_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:c,comparator:s}]},{headerName:O.columnName.REVENUE_$,children:[{headerName:"Target",field:"FRCT_R",tooltipField:"FRCT_R_AB",width:250,sortable:c,comparator:s,sort:"drilldown"===e?"desc":""},{headerName:O.columnName.VLY,field:"VLY_R",tooltipField:"VLY_R_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:c,comparator:s}]}]}},{key:"getRPSRouteDrilldownColumns",value:function(e,t,a){var n=this,o=G(JSON.parse(b.getCookie("userDetails"))),r=window.localStorage.getItem("CitySelected");r=!(!r||"Null"===r);var l="drilldown"===e,i="drilldown"===e?this.customSorting:null;return[{headerName:"",children:"total"===e?[{headerName:O.columnName.MONTH,field:"Month",tooltipField:"Month",width:200,alignLeft:!0}]:"drilldown"===e?[{headerName:a,field:"firstColumnName",tooltipField:"firstColumnName",alignLeft:!0,underline:"Null"===t&&"O&D"!==a&&"Aircraft"!==a,width:200}]:[{headerName:O.columnName.MONTH,field:"Month",tooltipField:"Comment",width:200,alignLeft:!0,underline:!0,checkboxSelection:function(e){if(o.isPOSNetworkAdmin){if(o.accessLevelPOS-1===parseInt(e.data.Approval_level))return!0}else{if(!o.isPOSRegionAdmin)return!1;if(o.accessLevelPOS-1===parseInt(e.data.Submit_level))return!0}}}]},{headerName:O.columnName.PASSENGER_OD,children:[{headerName:"Target",field:"FRCT_P",tooltipField:"FRCT_P_AB",width:250,sortable:l,comparator:i},{headerName:O.columnName.VLY,field:"VLY_P",tooltipField:"VLY_P_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:l,comparator:i}]},{headerName:O.columnName.AVERAGE_FARE_$,children:[{headerName:"Target",field:"FRCT_A",tooltipField:"FRCT_A_AB",width:250,sortable:l,comparator:i},{headerName:O.columnName.VLY,field:"VLY_A",tooltipField:"VLY_A_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:l,comparator:i}]},{headerName:O.columnName.REVENUE_$,children:[{headerName:"Target",field:"FRCT_R",tooltipField:"FRCT_R_AB",width:250,sortable:l,comparator:i,sort:"drilldown"===e?"desc":""},{headerName:O.columnName.VLY,field:"VLY_R",tooltipField:"VLY_R_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:l,comparator:i}]},{headerName:O.columnName.RASK_DOLLAR,headerTooltip:O.columnName.RASK_DOLLAR,children:[{headerName:"Target",field:"CY_RK",tooltipField:"CY_RK_AB"},{headerName:O.columnName.VLY,field:"VLY_RK",tooltipField:"VLY_RK_AB",cellRenderer:function(e){return n.arrowIndicator(e)},width:250}]},{headerName:O.columnName.ASK,headerTooltip:O.columnName.ASK,children:[{headerName:"Target",field:"CY_AK",tooltipField:"CY_AK_AB"},{headerName:O.columnName.VLY,field:"VLY_AK",tooltipField:"VLY_AK_AB",cellRenderer:function(e){return n.arrowIndicator(e)},width:250}]},{headerName:O.columnName.YIELD,headerTooltip:O.columnName.YIELD,children:[{headerName:"Target",field:"CY_Y",tooltipField:"CY_Y_AB"},{headerName:O.columnName.VLY,field:"VLY_Y",tooltipField:"VLY_Y_AB",cellRenderer:function(e){return n.arrowIndicator(e)},width:250}]},{headerName:O.columnName.LOAD_FACTOR,headerTooltip:O.columnName.LOAD_FACTOR,children:[{headerName:"Target",field:"CY_L",tooltipField:"CY_L_AB"},{headerName:O.columnName.VLY,field:"VLY_L",tooltipField:"VLY_L_AB",cellRenderer:function(e){return n.arrowIndicator(e)},width:250}]}]}},{key:"getRPSData",value:function(e,t,a){var n=this,o=[];return e.forEach((function(e,r){o.push({Month:"total"===t?"Total":e.MonthName,firstColumnName:"total"===t?"Total":e.ColumnName,FRCT_P:n.convertZeroValueToBlank(e.Passenger_CY),Edit_P:window.numberWithCommas(e.Passenger_EDIT,2),VLY_P:n.convertZeroValueToBlank(e.Passenger_VLY),FRCT_A:n.convertZeroValueToBlank(e.AverageFare_CY),Edit_A:window.numberWithCommas(e.AverageFare_EDIT,2),VLY_A:n.convertZeroValueToBlank(e.AverageFare_VLY),FRCT_R:n.convertZeroValueToBlank(e.Revenue_CY),VLY_R:n.convertZeroValueToBlank(e.Revenue_VLY),CY_AK:window.numberWithCommas(e.ASK_TGT),VLY_AK:n.convertZeroValueToBlank(e.ASK_VLY),CY_RK:n.convertZeroValueToBlank(e.RASK_TGT),VLY_RK:n.convertZeroValueToBlank(e.RASK_VLY),CY_Y:window.numberWithCommas(e.yield_TGT),VLY_Y:n.convertZeroValueToBlank(e.yield_VLY),CY_L:n.convertZeroValueToBlank(e.LoadFactor_TGT),VLY_L:n.convertZeroValueToBlank(e.LoadFactor_VLY),FRCT_P_AB:window.numberWithCommas(e.Passenger_CY),VLY_P_AB:window.numberWithCommas(e.Passenger_VLY),FRCT_A_AB:window.numberWithCommas(e.AverageFare_CY),VLY_A_AB:window.numberWithCommas(e.AverageFare_VLY),FRCT_R_AB:window.numberWithCommas(e.Revenue_CY),VLY_R_AB:window.numberWithCommas(e.Revenue_VLY),CY_AK_AB:window.numberWithCommas(e.ASK_TGT),VLY_AK_AB:n.convertZeroValueToBlank(e.ASK_VLY),CY_RK_AB:n.convertZeroValueToBlank(e.RASK_TGT),VLY_RK_AB:n.convertZeroValueToBlank(e.RASK_VLY),CY_Y_AB:window.numberWithCommas(e.yield_TGT),VLY_Y_AB:n.convertZeroValueToBlank(e.yield_VLY),CY_L_AB:n.convertZeroValueToBlank(e.LoadFactor_TGT),VLY_L_AB:n.convertZeroValueToBlank(e.LoadFactor_VLY),Year:e.Year,MonthName:e.Monthfullname,Action:e.Action,Submit_level:e.Submit_level?parseInt(e.Submit_level):e.Submit_level,Approval_level:e.Approval_level?parseInt(e.Approval_level):e.Approval_level,Reject_level:e.Reject_level?parseInt(e.Reject_level):e.Reject_level,drilldown_level:a,version_action:e.version_action})})),o}},{key:"getRPSMonthTables",value:function(e,t,a,n,o,r){var l=this;console.log("firstcheck");var i="".concat(he,"/rpsmonthly?").concat(_e(e,t,a,o),"&commonOD=").concat(encodeURIComponent(n),"&version=").concat(r);return v.a.get(i,this.getDefaultHeader()).then((function(n){var o,r=G(JSON.parse(b.getCookie("userDetails"))),i=n.data.response,c=!1,s=0;return i.TableData.forEach((function(e){c||(r.isPOSNetworkAdmin?r.accessLevelPOS-1===parseInt(e.Approval_level)&&(c=!0):r.isPOSRegionAdmin&&r.accessLevelPOS-1===parseInt(e.Submit_level)&&(c=!0)),3===parseInt(e.Approval_level)&&(s+=1)})),o=s===i.TableData.length,[{columnName:l.getRPSColumns(),rowData:l.getRPSData(i.TableData,"",oe(e,t,a)),totalData:l.getRPSData(i.Total,"total"),columnNameTotal:l.getRPSColumns("total"),apiMonthlyData:i,isActionPerformed:c,isAllApproved:o}]})).catch((function(e){l.errorHandling(e)}))}},{key:"getRPSDrillDown",value:function(e,t,a,n,o,r,l,i,c,s){var u=this,d="".concat(he,"/rpsdrilldown?getYear=").concat(e,"&gettingMonth=").concat(t,"&").concat(_e(a,n,o,l),"&commonOD=").concat(encodeURIComponent(r),"&type=").concat(i,"&version=").concat(c,"&odSearch=").concat(s);console.log("Year:::::::",e);var m="".concat(he,"/FullYearRPS_POS?getYear=").concat(e,"&gettingMonth=").concat(t,"&").concat(_e(a,n,o,l),"&commonOD=").concat(encodeURIComponent(r),"&type=").concat(i,"&version=").concat(c);return localStorage.setItem("RPSPOSDownloadURL",m),v.a.get(d,this.getDefaultHeader()).then((function(e){var t=e.data.response,a=t.ColumName;return[{columnName:u.getRPSDrilldownColumns("drilldown",i,a),rowData:u.getRPSData(t.TableData),totalData:u.getRPSData(t.Total,"total"),currentAccess:t.CurrentAccess,tabName:t.ColumName,firstTabName:t.first_ColumName,apiDrilldownData:t}]})).catch((function(e){u.errorHandling(e)}))}},{key:"getRPSRouteMonthTables",value:function(e,t,a,n,o,r,l,i,c){var s=this,u="".concat(he,"/rpsmonthlyroute?selectedRouteGroup=").concat(t,"&").concat(Se(a,n,o,i),"&selectedLeg=").concat(encodeURIComponent(r),"&flight=").concat(H(l),"&version=").concat(c);return v.a.get(u,this.getDefaultHeader()).then((function(e){var t=e.data.response;return[{columnName:s.getRPSRouteColumns("route"),rowData:s.getRPSData(t.TableData),totalData:s.getRPSData(t.Total,"total"),currentAccess:e.data.CurretAccess}]})).catch((function(e){console.log("error",e)}))}},{key:"getRPSRouteDrillDownData",value:function(e,t,a,n,o,r,l,i,c,s,u,d){var m=this,h="".concat(he,"/rpsdrilldownroute?getYear=").concat(e,"&gettingMonth=").concat(a,"&selectedRouteGroup=").concat(n,"&").concat(Se(o,r,l,s),"&selectedLeg=").concat(encodeURIComponent(i),"&flight=").concat(H(c),"&type=").concat(u,"&version=").concat(d),g="".concat(he,"/FullYearRPS_Route?getYear=").concat(e,"&gettingMonth=").concat(a,"&selectedRouteGroup=").concat(n,"&").concat(Se(o,r,l,s),"&selectedLeg=").concat(encodeURIComponent(i),"&flight=").concat(H(c),"&type=").concat(u,"&version=").concat(d);return localStorage.setItem("RPSRouteDownloadURL",g),v.a.get(h,this.getDefaultHeader()).then((function(e){var t=e.data.response,a=t.ColumName;return[{columnName:m.getRPSRouteDrilldownColumns("drilldown",u,a),rowData:m.getRPSData(t.TableData),totalData:m.getRPSData(t.Total,"total"),currentAccess:t.CurrentAccess,tabName:t.ColumName,firstTabName:t.first_ColumName}]})).catch((function(e){m.errorHandling(e)}))}},{key:"getRPSolutionColumn",value:function(e,t,a){var n=this,o="drilldown"===e,r="drilldown"===e?this.customSorting:null;return[{headerName:"",children:"drilldown"===e?[{headerName:a,field:"firstColumnName",tooltipField:"firstColumnName",alignLeft:!0,underline:"Null"===t&&"Aircraft"!==a}]:[{headerName:O.columnName.MONTH,field:"Month",tooltipField:"Month",alignLeft:!0,underline:!0}]},{headerName:"VC contri(RM'Mil)",headerTooltip:"VC contri(RM'Mil)",children:[{headerName:O.columnName.CY,field:"#_VC_Contri",tooltipField:"#_VC_Contri_AB",underline:"drilldown"!==e,sortable:o,comparator:r,sort:"drilldown"===e?"desc":""},{headerName:"vs Bgt",field:"Bgt_VC_Contri",tooltipField:"Bgt_VC_Contri_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:o,comparator:r},{headerName:"vs LY",field:"LY_VC_Contri",tooltipField:"LY_VC_Contri_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:o,comparator:r}]},{headerName:"DOC contri(RM'Mil)",headerTooltip:"DOC contri(RM'Mil)",children:[{headerName:O.columnName.CY,field:"#_DOC_Contri",tooltipField:"#_DOC_Contri_AB",sortable:o,comparator:r},{headerName:"vs Bgt",field:"Bgt_DOC_Contri",tooltipField:"Bgt_DOC_Contri_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:o,comparator:r},{headerName:"vs LY",field:"LY_DOC_Contri",tooltipField:"LY_DOC_Contri_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:o,comparator:r}]},{headerName:"Total Cost(RM'Mil)",headerTooltip:"Total Cost(RM'Mil)",children:[{headerName:O.columnName.CY,field:"#_TC",tooltipField:"#_TC_AB",sortable:o,comparator:r},{headerName:"vs Bgt",field:"Bgt_TC",tooltipField:"Bgt_TC_AB",cellRenderer:function(e){return n.costArrowIndicator(e)},sortable:o,comparator:r},{headerName:"vs LY",field:"LY_TC",tooltipField:"LY_TC_AB",cellRenderer:function(e){return n.costArrowIndicator(e)},sortable:o,comparator:r}]},{headerName:"Total Revenue(RM'Mil)",headerTooltip:"Total Revenue(RM'Mil)",children:[{headerName:O.columnName.CY,field:"#_TR",tooltipField:"#_TR_AB",sortable:o,comparator:r},{headerName:"vs Bgt",field:"Bgt_TR",tooltipField:"Bgt_TR_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:o,comparator:r},{headerName:"vs LY",field:"LY_TR",tooltipField:"LY_TR_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:o,comparator:r}]},{headerName:"Surplus/Deficit(RM'Mil)",headerTooltip:"Surplus/Deficit(RM'Mil)",children:[{headerName:O.columnName.CY,field:"CY_SD",tooltipField:"CY_SD_AB",sortable:o,comparator:r},{headerName:"vs Bgt",field:"Bgt_SD",tooltipField:"Bgt_SD_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:o,comparator:r},{headerName:"vs LY",field:"LY_SD",tooltipField:"LY_SD_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:o,comparator:r}]},{headerName:"Total RASK(RM'sen)",headerTooltip:"Total RASK(RM'sen)",children:[{headerName:O.columnName.CY,field:"#_RASK",tooltipField:"#_RASK_AB",sortable:o,comparator:r},{headerName:"vs Bgt",field:"Bgt_RASK",tooltipField:"Bgt_RASK_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:o,comparator:r},{headerName:"vs LY",field:"LY_RASK",tooltipField:"LY_RASK_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:o,comparator:r}]},{headerName:"Total CASK(RM'sen)",headerTooltip:"Total CASK(RM'sen)",children:[{headerName:O.columnName.CY,field:"#_CASK",tooltipField:"#_CASK_AB",sortable:o,comparator:r},{headerName:"vs Bgt",field:"Bgt_CASK",tooltipField:"Bgt_CASK_AB",cellRenderer:function(e){return n.costArrowIndicator(e)},sortable:o,comparator:r},{headerName:"vs LY",field:"LY_CASK",tooltipField:"LY_CASK_AB",cellRenderer:function(e){return n.costArrowIndicator(e)},sortable:o,comparator:r}]},{headerName:"Total Yield(RM'sen)",headerTooltip:"Total Yield(RM'sen)",children:[{headerName:O.columnName.CY,field:"#_Pax",tooltipField:"#_Pax_AB",sortable:o,comparator:r},{headerName:"vs Bgt",field:"Bgt_Pax",tooltipField:"Bgt_Pax_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:o,comparator:r},{headerName:"vs LY",field:"LY_Pax",tooltipField:"LY_Pax_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:o,comparator:r}]},{headerName:"Load Factor(Overall)(%)",headerTooltip:"Load Factor(Overall)(%)",children:[{headerName:O.columnName.CY,field:"#_BL",tooltipField:"#_BL_AB",sortable:o,comparator:r},{headerName:"vs Bgt",field:"Bgt_BL",tooltipField:"Bgt_BL_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:o,comparator:r},{headerName:"vs LY",field:"LY_BL",tooltipField:"LY_BL_AB",cellRenderer:function(e){return n.arrowIndicator(e)},sortable:o,comparator:r}]}]}},{key:"getRPSolutionData",value:function(e,t){var a=this,n=[];return e.forEach((function(e){n.push({Month:"total"===t?"Total":"dayLevel"===t?e.Day:e.MonthName,firstColumnName:"total"===t?"Total":e.ColumnName,Day:t,"#_VC_Contri":a.convertZeroValueToBlank(e.VC_CY),Bgt_VC_Contri:a.convertZeroValueToBlank(e.VC_VTG),LY_VC_Contri:a.convertZeroValueToBlank(e.VC_VLY),"#_DOC_Contri":a.convertZeroValueToBlank(e.DOC_CY),Bgt_DOC_Contri:a.convertZeroValueToBlank(e.DOC_VTG),LY_DOC_Contri:a.convertZeroValueToBlank(e.DOC_VLY),"#_TC":a.convertZeroValueToBlank(e.Total_Cost_CY),Bgt_TC:a.convertZeroValueToBlank(e.Total_Cost_VTG),LY_TC:a.convertZeroValueToBlank(e.Total_Cost_VLY),"#_RASK":a.convertZeroValueToBlank(e.Rask_CY),Bgt_RASK:a.convertZeroValueToBlank(e.Rask_VTG),LY_RASK:a.convertZeroValueToBlank(e.Rask_VLY),"#_CASK":a.convertZeroValueToBlank(e.CASK_CY),Bgt_CASK:a.convertZeroValueToBlank(e.CASK_VTG),LY_CASK:a.convertZeroValueToBlank(e.CASK_VLY),"#_Pax":a.convertZeroValueToBlank(e.Pax_Yield_CY),Bgt_Pax:a.convertZeroValueToBlank(e.Pax_Yield_VTG),LY_Pax:a.convertZeroValueToBlank(e.Pax_Yield_VLY),CY_SD:a.convertZeroValueToBlank(e.Surplus_Deficit_CY),Bgt_SD:a.convertZeroValueToBlank(e.Surplus_Deficit_VTG),LY_SD:a.convertZeroValueToBlank(e.Surplus_Deficit_VLY),"#_TR":a.convertZeroValueToBlank(e.Total_Revenue_CY),Bgt_TR:a.convertZeroValueToBlank(e.Total_Revenue_VTG),LY_TR:a.convertZeroValueToBlank(e.Total_Revenue_VLY),"#_BL":a.convertZeroValueToBlank(e.Breakeven_Loadfactor_CY),Bgt_BL:a.convertZeroValueToBlank(e.Breakeven_Loadfactor_VTG),LY_BL:a.convertZeroValueToBlank(e.Breakeven_Loadfactor_VLY),"#_VC_Contri_AB":window.numberWithCommas(e.VC_CY),Bgt_VC_Contri_AB:window.numberWithCommas(e.VC_VTG),LY_VC_Contri_AB:window.numberWithCommas(e.VC_VLY),"#_DOC_Contri_AB":window.numberWithCommas(e.DOC_CY),Bgt_DOC_Contri_AB:window.numberWithCommas(e.DOC_VTG),LY_DOC_Contri_AB:window.numberWithCommas(e.DOC_VLY),"#_TC_AB":window.numberWithCommas(e.Total_Cost_CY),Bgt_TC_AB:window.numberWithCommas(e.Total_Cost_VTG),LY_TC_AB:window.numberWithCommas(e.Total_Cost_VLY),"#_RASK_AB":window.numberWithCommas(e.Rask_CY),Bgt_RASK_AB:window.numberWithCommas(e.Rask_VTG),LY_RASK_AB:window.numberWithCommas(e.Rask_VLY),"#_CASK_AB":window.numberWithCommas(e.CASK_CY),Bgt_CASK_AB:window.numberWithCommas(e.CASK_VTG),LY_CASK_AB:window.numberWithCommas(e.CASK_VLY),"#_Pax_AB":window.numberWithCommas(e.Pax_Yield_CY),Bgt_Pax_AB:window.numberWithCommas(e.Pax_Yield_VTG),LY_Pax_AB:window.numberWithCommas(e.Pax_Yield_VLY),CY_SD_AB:window.numberWithCommas(e.Surplus_Deficit_CY),Bgt_SD_AB:window.numberWithCommas(e.Surplus_Deficit_VTG),LY_SD_AB:window.numberWithCommas(e.Surplus_Deficit_VLY),"#_TR_AB":window.numberWithCommas(e.Total_Revenue_CY),Bgt_TR_AB:window.numberWithCommas(e.Total_Revenue_VTG),LY_TR_AB:window.numberWithCommas(e.Total_Revenue_VLY),"#_BL_AB":window.numberWithCommas(e.Breakeven_Loadfactor_CY),Bgt_BL_AB:window.numberWithCommas(e.Breakeven_Loadfactor_VTG),LY_BL_AB:window.numberWithCommas(e.Breakeven_Loadfactor_VLY),Year:e.Year,MonthName:e.monthfullname})})),n}},{key:"getRouteProfitabilitySolutionMonthlyData",value:function(e,t,a,n,o,r,l){var i=this,c="".concat(he,"/routeprofitabilitymonthly?selectedRouteGroup=").concat(t,"&").concat(Se(a,n,o,l),"&flight=").concat(H(r)),s="".concat(he,"/routeprofitabilitymonthly?selectedRouteGroup=").concat(t,"&").concat(Se(a,n,o,l),"&flight=").concat(H(r));return localStorage.setItem("RouteProfitabilityMonthlyDownloadURL",s),v.a.get(c,this.getDefaultHeader()).then((function(e){var t=e.data.response;return[{columnName:i.getRPSolutionColumn(),rowData:i.getRPSolutionData(t.TableData),currentAccess:t.CurrentAccess,totalData:i.getRPSolutionData(t.Total,"total")}]})).catch((function(e){console.log("error",e)}))}},{key:"getRouteProfitabilitySolutionDayData",value:function(e,t,a,n,o,r,l,i,c){var s=this,u="".concat(he,"/rrmonthlydropDown?getYear=").concat(t,"&gettingMonth=").concat(a,"&selectedRouteGroup=").concat(n,"&").concat(Se(o,r,l,c),"&flight=").concat(H(i));return v.a.get(u,this.getDefaultHeader()).then((function(e){var t=e.data;return[{rowData:s.getRPSolutionData(t.TableData,"dayLevel")}]})).catch((function(e){console.log("error",e)}))}},{key:"getRouteProfitabilitySolutionDrillDownData",value:function(e,t,a,n,o,r,l,i,c,s,u){var d=this,m="".concat(he,"/routeprofitabilitydrilldown?getYear=").concat(e,"&gettingMonth=").concat(a,"&getDay=").concat(n,"&selectedRouteGroup=").concat(o,"&").concat(Se(r,l,i,s),"&flight=").concat(H(c),"&type=").concat(u),h="".concat(he,"/routeprofitabilitydrilldown?getYear=").concat(e,"&gettingMonth=").concat(a,"&getDay=").concat(n,"&selectedRouteGroup=").concat(o,"&").concat(Se(r,l,i,s),"&flight=").concat(H(c),"&type=").concat(u);return localStorage.setItem("RouteProfitabilityDrillDownDownloadURL",h),v.a.get(m,this.getDefaultHeader()).then((function(e){var t=e.data.response,a=t.ColumnName;return[{columnName:d.getRPSolutionColumn("drilldown",u,a),rowData:d.getRPSolutionData(t.TableData),currentAccess:t.CurrentAccess,tabName:t.ColumnName,firstTabName:t.first_ColumnName,totalData:d.getRPSolutionData(t.Total,"total")}]})).catch((function(e){d.errorHandling(e)}))}},{key:"exportCSVRouteProfitabilitySolutionMonthlyURL",value:function(e,t,a,n,o,r){return"routeprofitabilitymonthly?selectedRouteGroup=".concat(e,"&").concat(Se(t,a,n,r),"&flight=").concat(H(o))}},{key:"exportCSVRouteProfitabilitySolutionDrillDownURL",value:function(e,t,a,n,o,r,l,i,c){return"routeprofitabilitydrilldown?getYear=".concat(e,"&gettingMonth=").concat(t,"&selectedRouteGroup=").concat(a,"&").concat(Se(n,o,r,i),"&flight=").concat(H(l),"&type=").concat(c)}},{key:"getRPCColumns",value:function(){var e=this,t=function(t){return"cost"===t.data.cost||"commercial_cost"===t.data.cost&&t.data.Name.toLowerCase().includes("cask")?e.costArrowIndicator(t):e.arrowIndicator(t)};return[{headerName:"",children:[{headerName:" ",field:"Name",tooltipField:"Name",alignLeft:!0}]},{headerName:"Daily",headerTooltip:"Daily",children:[{headerName:O.columnName.ACTUAL,field:"ACTUAL_D",tooltipField:"ACTUAL_D_AB"},{headerName:"Budget",field:"Budget_D",tooltipField:"Budget_D_AB"},{headerName:"Last Year",field:"Last_Year_D",tooltipField:"Last_Year_D_AB"},{headerName:"VBGT",field:"VAR_BUDGET_D",tooltipField:"VAR_BUDGET_D_AB",cellRenderer:function(e){return t(e)}},{headerName:"VLY",field:"VAR_LAST_D",tooltipField:"VAR_LAST_D_AB",cellRenderer:function(e){return t(e)}}]},{headerName:"Month to Date",headerTooltip:"Month to Date",children:[{headerName:O.columnName.ACTUAL,field:"ACTUAL_M",tooltipField:"ACTUAL_M_AB"},{headerName:"Budget",field:"Budget_M",tooltipField:"Budget_M_AB"},{headerName:"Last Year",field:"Last_Year_M",tooltipField:"Last_Year_M_AB"},{headerName:"VBGT",field:"VAR_BUDGET_M",tooltipField:"VAR_BUDGET_M_AB",cellRenderer:function(e){return t(e)}},{headerName:"VLY",field:"VAR_LAST_M",tooltipField:"VAR_LAST_M_AB",cellRenderer:function(e){return t(e)}}]},{headerName:"Year To Date",headerTooltip:"Year To Date",children:[{headerName:O.columnName.ACTUAL,field:"ACTUAL_Y",tooltipField:"ACTUAL_Y_AB"},{headerName:"Budget",field:"Budget_Y",tooltipField:"Budget_Y_AB"},{headerName:"Last Year",field:"Last_Year_Y",tooltipField:"Last_Year_Y_AB"},{headerName:"VBGT",field:"VAR_BUDGET_Y",tooltipField:"VAR_BUDGET_Y_AB",cellRenderer:function(e){return t(e)}},{headerName:"VLY",field:"VAR_LAST_Y",tooltipField:"VAR_LAST_Y_AB",cellRenderer:function(e){return t(e)}}]}]}},{key:"getRPCData",value:function(e,t,a){var n=this,o=[];return e.map((function(e){o.push({Name:t?"Total ".concat(t):e.Name,ACTUAL_D:n.convertZeroValueToBlank(e.CY_Daily),Budget_D:n.convertZeroValueToBlank(e.TG_Daily),Last_Year_D:n.convertZeroValueToBlank(e.LY_Daily),VAR_BUDGET_D:n.convertZeroValueToBlank(e.VTG_Daily),VAR_LAST_D:n.convertZeroValueToBlank(e.VLY_Daily),ACTUAL_M:n.convertZeroValueToBlank(e.CY_MTD),Budget_M:n.convertZeroValueToBlank(e.TG_MTD),Last_Year_M:n.convertZeroValueToBlank(e.LY_MTD),VAR_BUDGET_M:n.convertZeroValueToBlank(e.VTG_MTD),VAR_LAST_M:n.convertZeroValueToBlank(e.VLY_MTD),ACTUAL_Y:n.convertZeroValueToBlank(e.CY_YTD),Budget_Y:n.convertZeroValueToBlank(e.TG_YTD),Last_Year_Y:n.convertZeroValueToBlank(e.LY_YTD),VAR_BUDGET_Y:n.convertZeroValueToBlank(e.VTG_YTD),VAR_LAST_Y:n.convertZeroValueToBlank(e.VLY_YTD),ACTUAL_D_AB:window.numberWithCommas(e.CY_Daily),Budget_D_AB:window.numberWithCommas(e.TG_Daily),Last_Year_D_AB:window.numberWithCommas(e.LY_Daily),VAR_BUDGET_D_AB:window.numberWithCommas(e.VTG_Daily),VAR_LAST_D_AB:window.numberWithCommas(e.VLY_Daily),ACTUAL_M_AB:window.numberWithCommas(e.CY_MTD),Budget_M_AB:window.numberWithCommas(e.TG_MTD),Last_Year_M_AB:window.numberWithCommas(e.LY_MTD),VAR_BUDGET_M_AB:window.numberWithCommas(e.VTG_MTD),VAR_LAST_M_AB:window.numberWithCommas(e.VLY_MTD),ACTUAL_Y_AB:window.numberWithCommas(e.CY_YTD),Budget_Y_AB:window.numberWithCommas(e.TG_YTD),Last_Year_Y_AB:window.numberWithCommas(e.LY_YTD),VAR_BUDGET_Y_AB:window.numberWithCommas(e.VTG_YTD),VAR_LAST_Y_AB:window.numberWithCommas(e.VLY_YTD),cost:a||null})})),o}},{key:"getRPCHeader",value:function(){var e=[];return["Passenger","Hard Frieght","Excess Baggage","Express","Mail","Others"].map((function(t){e.push({Name:t})})),[{columnName:this.getRPCColumns(),rowData:e}]}},{key:"getRPNonCommercialInfo",value:function(e,t,a,n,o,r,l,i,c){var s=this,u="".concat(he,"/routeprofitabilitynoncommercialtable?getYear=").concat(e,"&gettingMonth=").concat(t,"&getDay=").concat(a,"&selectedRouteGroup=").concat(n,"&").concat(Se(o,r,l,c),"&flight=").concat(H(i));return localStorage.setItem("RouteProfitabilityNCDownloadURL",u),v.a.get(u,this.getDefaultHeader()).then((function(e){var t=e.data.response,a=t.TableData;return[{vcContribution:s.getRPCData(t.VC_Contribution),docContribution:s.getRPCData(t.DOC_Contribution),revenue:s.getRPCData(a.Revenue),revenueTotal:s.getRPCData(t.Total_Revenue,"Revenue"),vc:s.getRPCData(a.VC,"","cost"),vcTotal:s.getRPCData(t.Total_VC,"Variable Cost","cost"),doc:s.getRPCData(a.DOC,"","cost"),docTotal:s.getRPCData(t.Total_DOC,"Direct Fixed Cost","cost"),totalOtherFixCost:s.getRPCData(t.Total_Other_Fixed_Cost,"","cost"),totalCost:s.getRPCData(t.Total_Cost,"","cost"),surplusDeficit:s.getRPCData(t.Surplus_Deficit),noneRoute:s.getRPCData(t.None_Route),NIAT:s.getRPCData(t.NIAT)}]})).catch((function(e){s.errorHandling(e)}))}},{key:"getRPCommercialInfo",value:function(e,t,a,n,o,r,l,i,c){var s=this,u="".concat(he,"/routeprofitabilitycommercialtable?getYear=").concat(e,"&gettingMonth=").concat(t,"&getDay=").concat(a,"&selectedRouteGroup=").concat(n,"&").concat(Se(o,r,l,c),"&flight=").concat(H(i));return localStorage.setItem("RouteProfitabilityCDownloadURL",u),v.a.get(u,this.getDefaultHeader()).then((function(e){var t=e.data.response.TableData,a=[e.data.response.Total];return[{rowData:s.getRPCData(t,"","commercial_cost"),total:s.getRPCData(a,"Commercial Info")}]})).catch((function(e){s.errorHandling(e)}))}}]),a}(n.Component),Ae=a(1140),Re=a(587),Ve=a(1114),Ye=a(624),Ee=a.n(Ye),Le=a(163),ke=a(1110),Be={airline_logo:a(901),arrow_up:a(902),arrow_down:a(903),download:a(904),ellipsis_loader:a(905),under_maintenance:a(906)},Ie=a(24),Oe=a.n(Ie),Pe=(a(945),new Te,J("error",window.location.href));Pe=Pe||"";var Me=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).registerloginButtonClick=function(){document.addEventListener("keydown",(function(e){13===e.keyCode&&n.login()}))},n.handleChange=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value)),n._validate(e)},n._validate=function(e){var t=e.target.name,a=e.target.value,o="";if("email"===t){var r=j(a);o=""===a?"Username should not be empty*":r?"":"Please enter valid username",n.setState({emailMessage:o})}else"password"===t&&(o=""===a?"Password should not be empty*":a.length<7?"Please enter valid password":"",n.setState({passwordMessage:o}));setTimeout((function(){n.formValid()}),600)},n.formValid=function(){var e=n.state,t=e.emailMessage,a=e.passwordMessage,o=e.email,r=e.password,l=g.a.isEmpty(t&&a),i=!g.a.isEmpty(o&&r);l&&i?n.setState({disable:!1}):n.setState({disable:!0})},n.resetState=function(){n.setState({email:"",password:"",emailMessage:"",passwordMessage:"",disable:!0,loading:!1})},n.login=function(){Pe="",n.setState({loading:!0}),window.location.href="".concat(_,"/initiatelogin")},n.sendEvent=function(e){R.sendEventWithHeader({event_id:"4",description:"User logged in into the system",where_path:"/",page_name:"Login Page"},e)},n.redirectionToDashboard=function(e){var t="Token ".concat(e.token);R.getMenusForDashboard(t).then((function(a){if(n.setState({loading:!1}),console.log("rahul"),a&&a.data){n.sendEvent(t),b.createCookie("Authorization","Token ".concat(e.token),1),b.createCookie("userDetails",JSON.stringify(e),1),b.createCookie("menuData",JSON.stringify(a.data.menus),1),b.createCookie("events",JSON.stringify(a.data.events),1);var o=a.data.menus.filter((function(e,t){return"Dashboard"===e.Name}))[0].submenu[0].Path;n.props.history.push("".concat(o))}})).catch((function(e){console.log("Menu Error",e)}))},n.state={email:"",password:"",emailMessage:"",passwordMessage:"",token:"",disable:!0,loading:!1,displayModal:!1},n.textInput=o.a.createRef(),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){b.deleteCookie(),this.registerloginButtonClick()}},{key:"closeModal",value:function(){this.setState({displayModal:!1})}},{key:"render",value:function(){var e=this;return o.a.createElement(ke.a,{className:"login",component:"main",maxWidth:"xs"},o.a.createElement(Ve.a,null),o.a.createElement("div",{className:"paper"},o.a.createElement("div",{className:"top-login"},o.a.createElement(Ae.a,{className:"avatar"},o.a.createElement(Ee.a,null)),o.a.createElement(Le.a,{component:"h1",variant:"h5"},"Sign in")),o.a.createElement("div",{className:"logo-img"},o.a.createElement("img",{alt:"logo",src:Be.airline_logo})),o.a.createElement(Re.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:"submit",onClick:function(){return e.login()}},this.state.loading?o.a.createElement("img",{src:Be.ellipsis_loader,alt:""}):"Click here to Login"),o.a.createElement("p",null,"".concat(decodeURIComponent(Pe)))))}}]),a}(o.a.Component),Fe=a(331),Ge=a.n(Fe),xe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"componentWillMount",value:function(){this.getToken()}},{key:"getToken",value:function(){var e=J("token",window.location.href);if(e){b.createCookie("Authorization","Token ".concat(e),1);var t={headers:{Authorization:"Token ".concat(e)}};this.getAPIConfigData(t),this.getAPIUserData(t)}}},{key:"getAPIConfigData",value:function(e){v.a.get("".concat(_,"/config"),e).then((function(e){var t=e.data.menus;b.createCookie("menuData",JSON.stringify(t),1),b.createCookie("events",JSON.stringify(e.data.events),1)})).catch((function(e){console.log("config error",e)}))}},{key:"getAPIUserData",value:function(e){var t=this;v.a.get("".concat(_,"/loggedinuser"),e).then((function(e){var a=e.data.response[0];b.createCookie("userDetails",JSON.stringify(a),1),setTimeout((function(){t.redirectionToDashboard()}),1e3)})).catch((function(e){console.log("user details error",e)}))}},{key:"redirectionToDashboard",value:function(){this.sendEvent();var e=J("whereto",window.location.href);this.props.history.push("/".concat(e))}},{key:"sendEvent",value:function(){R.sendEvent({event_id:"4",description:"User logged in into the system",where_path:"/",page_name:"Login Page"})}},{key:"render",value:function(){return o.a.createElement("div",{style:{width:"100vw",height:"100vh",background:"white",display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement("img",{src:Ge.a,className:"App-loader",alt:"logo"}))}}]),a}(o.a.Component),je=a(13),We=function(e){return o.a.createElement("div",{className:"spinnertable",style:{marginTop:e.removeTopMargin?"0":"5%"}},o.a.createElement("div",{className:"rect1"}),o.a.createElement("div",{className:"rect2"}),o.a.createElement("div",{className:"rect3"}),o.a.createElement("div",{className:"rect4"}),o.a.createElement("div",{className:"rect5"}),o.a.createElement("div",{className:"rect6"}))},Ze=function(e,t){var a=JSON.parse(b.getCookie("menuData")),n=!1;if(a.length>0){var o=a.filter((function(t,a){return t.Name===e}));o.length>0&&o[0].submenu.map((function(e){return!!e.Path.trim().includes(t)&&(n=!0)}))}return n},He=function(){var e=JSON.parse(b.getCookie("events")),t=!1;return e.length>0&&e.filter((function(e,a){return!!e.event_code.toLowerCase().trim().includes("reject")&&(t=!0)})),t},Ue=function(){return JSON.parse(b.getCookie("menuData")).filter((function(e,t){return"Dashboard"===e.Name}))[0].submenu[0].Path},Je=new Te,Ke=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){n.getIndicatorsData(e)},n.getIndicatorsData=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.routeGroup,l=e.regionId,i=e.countryId,c=e.cityId,s=e.routeId,u=e.dashboard;t.setState({loading:!0,indicatorsDatas:[]}),Je.getIndicatorsData(a,o,r,l,i,c,s,u).then((function(e){t.setState({loading:!1}),e&&t.setState({indicatorsDatas:e})}))},n.state={indicatorsDatas:[],indicatorsDivWidth:"",loading:!1,isInterline:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(b.getCookie("userDetails"));this.setState({isInterline:e.systemmodule.includes("Interline")})}},{key:"redirectToDDSChart",value:function(){this.props.history.push("/DDSChart")}},{key:"redirectToInterline",value:function(){this.props.history.push("/Interline")}},{key:"render",value:function(){var e=this,t=this.props.dashboard,a=this.state,n=a.indicatorsDatas,r=a.loading,l=a.isInterline;return r?o.a.createElement("div",{className:"no-indicators"},o.a.createElement(We,null)):0===n.length?o.a.createElement("h4",{className:"no-indicators"},"No Indicators to show"):o.a.createElement("div",null,n.map((function(e,a){return o.a.createElement("div",{id:"indicator_data",className:"col-sm-4 col-xs-6 tile_stats_count"},o.a.createElement("div",{className:"indicator-top"},o.a.createElement("div",{className:"count_top"}," ",e.Name," "),o.a.createElement("div",{className:"count",id:e.Name}," ",window.numberFormat(e.CY)," ")),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},window.numberFormat(e.LY)," LY"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(q(window.numberFormat(e.VLY)))}),o.a.createElement("span",null,window.numberFormat(e.VLY),"% VLY"))),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},window.numberFormat(e.Budget)," BGT"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(q(window.numberFormat(e.VTG)))}),o.a.createElement("span",null,window.numberFormat(e.VTG),"% ","".concat("Route Profitability"===t?"VBGT":"VTG")))))})),"Pos"===this.props.dashboard?o.a.createElement("button",{className:"btn dds-chart-btn search",onClick:function(){return e.redirectToDDSChart()}},"DDS CHART"):"",l?"Pos"===this.props.dashboard?o.a.createElement("button",{className:"btn dds-chart-btn search",onClick:function(){return e.redirectToInterline()}},"Interline"):"":null)}}]),a}(n.Component),ze=a(1121),qe=a(413),Xe=a(1120),Qe=a(1059),$e=a(1060),et=a(1119),tt=a(637),at=a.n(tt),nt=a(638),ot=a.n(nt),rt=a(636),lt=a.n(rt),it=a(634),ct=a.n(it),st=a(635),ut=a.n(st),dt=(a(68),a(332)),mt=a(411),ht=a(595),gt=a(410),pt=a(596),ft=a(416),vt=a(617),Ct=a(409),wt=(a(593),a(594),a(625)),_t=a.n(wt),Dt=(a(968),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e,n){var o;return Object(i.a)(this,a),(o=t.call(this,e,n))._handleClick=function(e){o.props.onClick&&o.props.onClick(e)},o.state={value:o.props.value||"N/A"},o}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"box",onClick:this._handleClick},o.a.createElement("label",null,this.state.value))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{value:e.value||"N/A"}}}]),a}(n.Component)),bt=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e))._handleClickRangeBox=function(e){n.pickRange.current.show()},n.handleRangeChange=function(e,t){},n.state={currentMonth:(new Date).getMonth()+1,currentYear:(new Date).getFullYear()},n.pickRange=o.a.createRef(),n}return Object(c.a)(a,[{key:"render",value:function(){var e={months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],from:"From",to:"To"},t=this.props,a=t.rangeValue,n=t.handleRangeDissmis,r=(t.dateRange,t.monthRange),l=this.state,i=l.currentMonth,c=l.currentYear,s=function(t){return t&&t.year&&t.month?e.months[t.month-1]+". "+t.year:"?"};return o.a.createElement("div",{className:"edit"},o.a.createElement(_t.a,{ref:this.pickRange,years:{min:{year:"nextYear"===r?c+1:c-1,month:1},max:{year:"nextYear"===r?c+1:1===i?c:c+1,month:"nextYear"===r||1===i?12:i-1}},value:a,lang:e,theme:"light",onChange:this.handleRangeChange,onDismiss:n},o.a.createElement(Dt,{value:s(a.from)+" ~ "+s(a.to),onClick:this._handleClickRangeBox})))}}]),a}(n.Component),St=a(597),yt=a(1137),Nt=a(626),Tt=a.n(Nt),At=a(627),Rt=a.n(At),Vt=new Te,Yt={from:{year:(new Date).getFullYear(),month:1},to:{year:(new Date).getFullYear(),month:(new Date).getMonth()+1}},Et={from:{year:(new Date).getFullYear()+1,month:1},to:{year:(new Date).getFullYear()+1,month:1}},Lt=o.a.createElement(Tt.a,{fontSize:"small"}),kt=o.a.createElement(Rt.a,{fontSize:"small"}),Bt=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).callRegion=function(e){var t=e.target.value;n.setState({regionSelected:t,regionSelectedDropDown:t,countries:[],countrySelected:"Null",countrySelectedDropDown:[],cities:[],citySelected:"Null",citySelectedDropDown:[],ODs:[],ODSelected:"Null",ODSelectedDropDown:[]},(function(){window.localStorage.setItem("RegionSelected",JSON.stringify(t)),window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null")}))},n.callCountry=function(e){var t=e.target.value;n.setState({countrySelected:t,countrySelectedDropDown:t,cities:[],citySelected:"Null",citySelectedDropDown:[],ODs:[],ODSelected:"Null",ODSelectedDropDown:[]},(function(){window.localStorage.setItem("CountrySelected",JSON.stringify(t)),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null")}))},n.callCity=function(e){var t=e.target.value;n.setState({citySelected:t,citySelectedDropDown:t,ODs:[],ODSelected:"Null",ODSelectedDropDown:[]},(function(){window.localStorage.setItem("CitySelected",JSON.stringify(t)),window.localStorage.setItem("ODSelected","Null")}))},n.callOD=function(e){var t=e.map((function(e){return e.OD}));n.setState({ODSelected:0==t.length?"Null":t,ODSelectedDropDown:e},(function(){window.localStorage.setItem("ODSelected",JSON.stringify(t))}))},n.callMonthDM=function(){var e=document.getElementById("monthDM"),t=e.options[e.selectedIndex].text,a=e.options[e.selectedIndex].value;n.setState({gettingMonthA:"Null"===a?"Null":t,gettingYearA:a})},n.getCountries=function(){n.setState({countryDisable:!0,cityDisable:!0}),Vt.getCountries(n.state.regionSelected).then((function(e){e&&e.length>0&&(n.state.countryAccess||n.setState({countryDisable:!1}),n.setState({countries:e},(function(){return n.getCities()})))}))},n.getCities=function(){n.setState({cityDisable:!0}),Vt.getCities(n.state.regionSelected,n.state.countrySelected).then((function(e){e&&e.length>0&&(n.state.cityAccess||n.setState({cityDisable:!1}),n.setState({cities:e},(function(){return n.getODs()})))}))},n.debounce=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];clearTimeout(t),t=setTimeout((function(){e.apply(Object(je.a)(n),r)}),a)}},n.handleChange=function(e){var t=e.target.value;L.get("getCommonODByCity?regionId=".concat(U(n.state.regionSelected),"&countryCode=").concat(U(n.state.countrySelected),"&cityCode=").concat(U(n.state.citySelected),"&searchod=").concat(t)).then((function(e){n.setState({ODs:e.data})}))},n.getODs=function(){n.setState({ODDisable:!0}),Vt.getODs(n.state.regionSelected,n.state.countrySelected,n.state.citySelected).then((function(e){e&&e.length>0&&(n.state.ODAccess||n.setState({ODDisable:!1}),n.setState({ODs:e}))}))},n.handleRangeDissmis=function(e){var t=n.formatDate(new Date(e.from.year,e.from.month-1,1)),a=n.formatDate(new Date(e.to.year,e.to.month,0));n.setState({rangeValuePicker:e,startDate:t,endDate:a}),"nextYear"===n.props.monthRange?window.localStorage.setItem("rangeValueNextYear",JSON.stringify(e)):window.localStorage.setItem("rangeValue",JSON.stringify(e))},n.formatDate=function(e){var t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),[n,t,a].join("-")},n.cabinSelectChange=function(e){e.preventDefault();var t=e.target.value;n.setState({getCabinValue:t,cabinSelectedDropDown:t},(function(){window.localStorage.setItem("CabinSelected",JSON.stringify(t))}))},n.state={months:[],gettingMonth:null,gettingYear:null,gettingMonthA:"Null",gettingYearA:"Null",selectedMonth:"",regions:[],regionSelected:"Null",countries:[],countrySelected:"Null",cities:[],citySelected:"Null",ODs:[],ODSelected:"Null",regionSelectedDropDown:[],countrySelectedDropDown:[],citySelectedDropDown:[],ODSelectedDropDown:[],rangeValuePicker:Yt,startDate:n.formatDate(new Date(Yt.from.year,Yt.from.month-1,1)),endDate:n.formatDate(new Date(Yt.to.year,Yt.to.month,0)),currentMonth:(new Date).getMonth(),currentYear:(new Date).getFullYear(),cabinOption:[],getCabinValue:[],cabinSelectedDropDown:[],cabinDisable:!0,regionDisable:!1,countryDisable:!0,cityDisable:!0,ODDisable:!0,regionAccess:!1,countryAccess:!1,cityAccess:!1,ODAccess:!1,searchOD:"",setsearchOD:""},n.pickRange=o.a.createRef(),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this,t="nextYear"===this.props.monthRange?window.localStorage.getItem("rangeValueNextYear"):window.localStorage.getItem("rangeValue");if(null===t)window.localStorage.setItem("rangeValue",JSON.stringify(this.state.rangeValuePicker)),window.localStorage.setItem("rangeValueNextYear",JSON.stringify(Et));else{t=JSON.parse(t);var a="".concat(window.shortMonthNumToName(t.from.month)," ").concat(t.from.year);this.setState({selectedMonth:a,gettingYear:t.from.year,gettingMonth:t.from.month})}Vt.getRegions().then((function(t){t&&(e.setState({regions:t}),b.createCookie("Regions",JSON.stringify(t),1))})),Vt.getClassNameDetails().then((function(t){if(t&&t.length>0){var a=t[0].classDatas;e.setState({cabinOption:a,cabinDisable:!1})}})),this.setFilterValues()}},{key:"setFilterValues",value:function(){var e=b.getCookie("userDetails");if("#*"!==(e=e?JSON.parse(e):"").access){var t=e.access.split("#"),a=t[1],n="*"===t[2]?"Null":t[2],o="*"===t[2]||"*"===t[3]?"Null":t[3],r=[],l=[],i=[];r.push(H(a)),window.localStorage.setItem("RegionSelected",JSON.stringify(r)),this.setState({regionDisable:!0,regionAccess:!0}),"Null"!==n&&(l.push(H(n)),window.localStorage.setItem("CountrySelected",JSON.stringify(l)),this.setState({countryDisable:!0,countryAccess:!0})),"Null"!==o&&(i.push(H(o)),window.localStorage.setItem("CitySelected",JSON.stringify(i)),this.setState({cityDisable:!0,cityAccess:!0})),this.getInitialFilterValuesFromLS()}else this.getInitialFilterValuesFromLS();if(Object.keys(e.route_access).length>0){var c=e.route_access;c.hasOwnProperty("selectedRouteGroup")&&(window.localStorage.setItem("RouteGroupSelected",JSON.stringify(c.selectedRouteGroup)),this.setState({disableRouteGroup:!0})),c.hasOwnProperty("selectedRouteRegion")&&(window.localStorage.setItem("RouteRegionSelected",JSON.stringify(c.selectedRouteRegion)),this.setState({regionDisable:!0,regionAccess:!0})),c.hasOwnProperty("selectedRouteCountry")&&(window.localStorage.setItem("RouteCountrySelected",JSON.stringify(c.selectedRouteCountry)),this.setState({countryDisable:!0,countryAccess:!0})),c.hasOwnProperty("selectedRoute")&&(window.localStorage.setItem("RouteSelected",JSON.stringify(c.selectedRoute)),this.setState({RouteDisable:!0,routesAcess:!0}))}}},{key:"getInitialFilterValuesFromLS",value:function(){var e=this,t="nextYear"===this.props.monthRange?JSON.parse(window.localStorage.getItem("rangeValueNextYear")):JSON.parse(window.localStorage.getItem("rangeValue")),a="",n="";null!==t&&(a=this.formatDate(new Date(t.from.year,t.from.month-1,1)),n=this.formatDate(new Date(t.to.year,t.to.month,0)),this.setState({rangeValuePicker:t})),a=""===a?this.state.startDate:a,n=""===n?this.state.endDate:n;var o=window.localStorage.getItem("RegionSelected"),r=window.localStorage.getItem("CountrySelected"),l=window.localStorage.getItem("CitySelected"),i=window.localStorage.getItem("ODSelected"),c=window.localStorage.getItem("CabinSelected"),s=null===o||"Null"===o?[]:JSON.parse(o),u=null===r||"Null"===r?[]:JSON.parse(r),d=null===l||"Null"===l?[]:JSON.parse(l),m=null===i||"Null"===i?[]:JSON.parse(i),h=null===c||"Null"===c?[]:JSON.parse(c);o=s.length>0?s:"Null",r=u.length>0?u:"Null",l=d.length>0?d:"Null",i=m.length>0?m:"Null",c=h.length>0?h:"Null";var g=[];m.forEach((function(e){g.push({OD:e})})),this.setState({regionSelected:o,countrySelected:r,citySelected:l,ODSelected:i,regionSelectedDropDown:s,countrySelectedDropDown:u,citySelectedDropDown:d,ODSelectedDropDown:g,startDate:a,endDate:n,getCabinValue:c,cabinSelectedDropDown:h},(function(){e.props.getFilterValues(e.state),e.getCountries()}))}},{key:"onRegionClose",value:function(){this.getCountries(),this.state.regions.length>0&&0===this.state.regionSelectedDropDown.length&&(this.setState({regionSelected:"Null"}),window.localStorage.setItem("RegionSelected","Null"))}},{key:"onCountryClose",value:function(){this.getCities(),this.state.countries.length>0&&0===this.state.countrySelectedDropDown.length&&(this.setState({countrySelected:"Null"}),window.localStorage.setItem("CountrySelected","Null"))}},{key:"onCityClose",value:function(){this.getODs(),this.state.cities.length>0&&0===this.state.citySelectedDropDown.length&&(this.setState({citySelected:"Null"}),window.localStorage.setItem("CitySelected","Null"))}},{key:"onODClose",value:function(){this.state.ODs.length>0&&0===this.state.ODSelectedDropDown.length&&(this.setState({ODSelected:"Null"}),window.localStorage.setItem("ODSelected","Null"))}},{key:"onCabinClose",value:function(){var e=this;if(this.state.cabinSelectedDropDown.length>0)this.props.dashboard&&this.props.getFilterValues(this.state);else this.setState({getCabinValue:"Null"},(function(){e.props.dashboard&&e.props.getFilterValues(e.state)})),window.localStorage.setItem("CabinSelected","Null")}},{key:"search",value:function(){this.props.getFilterValues(this.state)}},{key:"getNext3Months",value:function(){var e=this.state,t=e.currentMonth,a=e.currentYear,n=a,o=[1,2,3,4].map((function(e){return(t+e)%12}));return o.map((function(e,t){return 0===e&&(e=12),0!==o[t-1]&&0!==o[t-2]&&0!==o[t-3]||(n=a+1),{Month:window.monthNumToName(e),Year:n}}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.agentDashboard,n=t.dashboard,r=t.hideCabin,l=t.pageName,i=t.BoughtDropout,c=t.DemoDomInt,s=t.Demography,u=this.state,d=u.regions,m=u.regionSelectedDropDown,h=u.countrySelectedDropDown,g=u.citySelectedDropDown,p=u.countries,f=u.cities,v=u.months,C=u.selectedMonth,w=u.cabinOption,_=u.cabinSelectedDropDown,D=u.cabinDisable,b=u.countryDisable,S=u.cityDisable,y=u.ODs,N=u.ODDisable,T=u.ODSelectedDropDown,A=u.rangeValuePicker,R=(u.pickerLang,u.regionDisable);u.currentYear,u.searchod,u.r,v.map((function(e){return o.a.createElement("option",{selected:C===e.Month,id:e.Year,value:e.MonthName},e.Month)}));return o.a.createElement("div",{className:"regions-dropdown"},a?"":o.a.createElement(bt,Object.assign({rangeValue:A,handleRangeDissmis:this.handleRangeDissmis},this.props)),o.a.createElement("div",{className:"".concat(m.length>0?"hide-regions-dropdown-label":"")},o.a.createElement(gt.a,{className:"select-group ".concat(R?"disable-main":"")},o.a.createElement(mt.a,{id:"demo-mutiple-checkbox-label"},"Region"),o.a.createElement(ft.a,{labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",className:"".concat(R?"disable":""),multiple:!0,value:m,onChange:function(t){return e.callRegion(t)},input:o.a.createElement(dt.a,null),renderValue:function(e){return e.join(",")},onClose:function(){return e.onRegionClose()}},d.map((function(e){return o.a.createElement(ht.a,{key:e.RegionID,value:e.Region},o.a.createElement(vt.a,{checked:m.indexOf(e.Region)>-1}),o.a.createElement(pt.a,{primary:e.Region}))}))))),o.a.createElement("div",{className:"".concat(h.length>0?"hide-regions-dropdown-label":"")},o.a.createElement(gt.a,{className:"select-group ".concat(b?"disable-main":"")},o.a.createElement(mt.a,{id:"demo-mutiple-checkbox-label"},"Country"),o.a.createElement(ft.a,{labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",className:"".concat(b?"disable":""),multiple:!0,value:h,onChange:function(t){return e.callCountry(t)},input:o.a.createElement(dt.a,null),renderValue:function(e){return e.join(",")},onClose:function(){return e.onCountryClose()}},p.map((function(e){return o.a.createElement(ht.a,{key:e.CountryCode,value:e.CountryCode},o.a.createElement(vt.a,{checked:h.indexOf(e.CountryCode)>-1}),o.a.createElement(pt.a,{primary:e.CountryCode}))}))))),i||c||s?"":o.a.createElement("div",{className:"".concat(g.length>0?"hide-regions-dropdown-label":"")},o.a.createElement(gt.a,{className:"select-group ".concat(S?"disable-main":"")},o.a.createElement(mt.a,{id:"demo-mutiple-checkbox-label"},"City"),o.a.createElement(ft.a,{labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",className:"".concat(S?"disable":""),multiple:!0,value:g,onChange:function(t){return e.callCity(t)},input:o.a.createElement(dt.a,null),renderValue:function(e){return e.join(",")},onClose:function(){return e.onCityClose()}},f.map((function(e){return o.a.createElement(ht.a,{key:e.CityCode,value:e.CityCode},o.a.createElement(vt.a,{checked:g.indexOf(e.CityCode)>-1}),o.a.createElement(pt.a,{primary:e.CityCode}))}))))),"top_markets"==l?o.a.createElement("div",{className:"".concat(T.length>0?"hide-regions-dropdown-label":"")},o.a.createElement(gt.a,{className:"select-group ".concat(N?"disable-main":"")},o.a.createElement(yt.a,{multiple:!0,id:"checkboxes-tags-demo",className:"".concat(N?"disable":""),options:y,onChange:function(t,a){return e.callOD(a)},disableCloseOnSelect:!0,value:T,getOptionLabel:function(e){return e.OD},renderOption:function(e,t){var a=t.selected;return o.a.createElement(o.a.Fragment,null,o.a.createElement(vt.a,{icon:Lt,checkedIcon:kt,style:{marginRight:8},checked:a}),e.OD)},style:{maxWidth:300,maxHeight:100,hmarginRight:14},renderInput:function(t){return o.a.createElement(St.a,Object.assign({},t,{variant:"outlined",placeholder:"OD",onChange:function(t){return e.handleChange(t)}}))}}))):null,n||r?"":o.a.createElement("div",{className:"".concat(_.length>0?"hide-regions-dropdown-label":"")},o.a.createElement("div",{className:"select-group",style:{width:"auto"}},o.a.createElement("h4",null,"Cabin :"),o.a.createElement(gt.a,{className:"select-group ".concat(D?"disable-main":"")},o.a.createElement(mt.a,{id:"demo-mutiple-checkbox-label"},"All"),o.a.createElement(ft.a,{labelId:"demo-mutiple-checkbox-label",className:"".concat(D?"disable":""),id:"demo-mutiple-checkbox",multiple:!0,value:_,onChange:function(t){return e.cabinSelectChange(t)},input:o.a.createElement(dt.a,null),renderValue:function(e){return e.join(",")},onClose:function(){return e.onCabinClose()},MenuProps:{classes:"disable"}},w.map((function(e){return o.a.createElement(ht.a,{key:e.ClassValue,value:e.ClassValue},o.a.createElement(vt.a,{checked:_.indexOf(e.ClassText)>-1}),o.a.createElement(pt.a,{primary:e.ClassText}))})))))),a?o.a.createElement("div",{className:""},o.a.createElement("div",{className:"form-group",style:{display:"flex",marginBottom:"0px"}},o.a.createElement("select",{className:"form-control cabinselect dashboard-dropdown",style:{marginRight:"10px",width:"auto"},onChange:function(){return e.callMonthDM()},id:"monthDM"},o.a.createElement("option",{value:"Null"},"Select Month"),this.getNext3Months().map((function(e,t){return o.a.createElement("option",{value:e.Year},e.Month)}))))):"",a||n?o.a.createElement("i",{className:"fa fa-search",onClick:function(){return e.search()}}):o.a.createElement("div",{className:""},o.a.createElement("button",{type:"button",className:"btn search",onClick:function(){return e.search()}},"Search")))}}]),a}(n.Component),It=a(147),Ot=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.showDatePicker,a=e.dateSelected,n=e.onClose,r=e.handleDatePicker,l=e.datePickerValue,i=e.center;return t?o.a.createElement("div",{className:"dateRangePicker ".concat(i?"date-range-picker-center":"")},o.a.createElement("div",{className:"btn-container"},o.a.createElement("button",{className:"select-date-btn",style:{width:"60px"},onClick:a},"Ok"),o.a.createElement("button",{className:"select-date-btn",style:{marginLeft:"95px"},onClick:n},"Cancel")),o.a.createElement(Ct.DateRangePicker,{onChange:r,showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:l,minDate:new Date((new Date).getFullYear()-1,0,1),maxDate:Object(It.a)(new Date((new Date).getFullYear(),(new Date).getMonth(),1),12),dateDisplayFormat:"MMM d, yyyy",direction:"horizontal"})):o.a.createElement("div",null)}}]),a}(n.Component),Pt=new Te,Mt=(new Date).getFullYear(),Ft={from:{year:Mt,month:1},to:{year:Mt,month:(new Date).getMonth()+1}},Gt=le(new Date),xt=["Jan 1, ".concat(Mt),"Jan 2, ".concat(Mt),"Jan 3, ".concat(Mt),"Jan 4, ".concat(Mt),"Jan 5, ".concat(Mt)],jt=Mt;xt.forEach((function(e){return e===Gt?jt-=1:null}));var Wt=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).callRegion=function(e){var t=e.target.value;n.setState({regionSelected:t,regionSelectedDropDown:t,countries:[],countrySelected:"Null",countrySelectedDropDown:[],Routes:[],routeSelected:"Null",routeSelectedDropDown:[]},(function(){window.localStorage.setItem("RouteRegionSelected",JSON.stringify(t)),window.localStorage.setItem("RouteCountrySelected","Null"),window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null"),window.localStorage.setItem("RPFlightSelected","Null")}))},n.callCountry=function(e){var t=e.target.value;n.setState({countrySelected:t,countrySelectedDropDown:t,Routes:[],routeSelected:"Null",routeSelectedDropDown:[]},(function(){window.localStorage.setItem("RouteCountrySelected",JSON.stringify(t)),window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null"),window.localStorage.setItem("RPFlightSelected","Null")}))},n.callRoute=function(e){var t=e.target.value;n.setState({routeSelected:t,routeSelectedDropDown:t},(function(){window.localStorage.setItem("RouteSelected",JSON.stringify(t)),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null"),window.localStorage.setItem("RPFlightSelected","Null")}))},n.getRouteRegions=function(){n.setState({regionDisable:!0,countryDisable:!0,RouteDisable:!0}),Pt.getRouteRegions(n.state.routeGroup).then((function(e){e&&(n.state.regionAccess||n.setState({regionDisable:!1}),n.setState({regions:e},(function(){return n.getRouteCountries()})),b.createCookie("Regions",JSON.stringify(e),1))}))},n.getRouteCountries=function(){n.setState({countryDisable:!0,RouteDisable:!0}),Pt.getRouteCountries(n.state.routeGroup,n.state.regionSelected).then((function(e){e&&e.length>0&&(n.state.countryAccess||n.setState({countryDisable:!1}),n.setState({countries:e},(function(){return n.getRoutes()})))}))},n.getRoutes=function(){n.setState({RouteDisable:!0}),Pt.getRoutes(n.state.routeGroup,n.state.regionSelected,n.state.countrySelected).then((function(e){e&&e.length>0&&(n.state.routesAcess||n.setState({RouteDisable:!1}),n.setState({Routes:e}))}))},n.handleRangeDissmis=function(e){n.props.dateRange;var t=$(new Date(e.from.year,e.from.month-1,1)),a=$(new Date(e.to.year,e.to.month,0));n.setState({rangeValuePicker:e,startDate:t,endDate:a}),"nextYear"===n.props.monthRange?window.localStorage.setItem("rangeValueNextYear",JSON.stringify(e)):window.localStorage.setItem("rangeValue",JSON.stringify(e))},n.callCostTypes=function(e){var t=e.target.value;window.localStorage.setItem("CostTypeSelected",t),n.setState({typeofCost:t})},n.handleDatePicker=function(e){var t=le(e.selection.startDate),a=le(e.selection.endDate);n.setState({datePickerValue:[e.selection],date:"".concat(t," - ").concat(a)})},n.state={gettingMonth:null,gettingYear:null,getDay:null,routeGroup:"Network",regions:[],regionSelected:"Null",countries:[],countrySelected:"Null",Routes:[],routeSelected:"Null",regionSelectedDropDown:[],countrySelectedDropDown:[],routeSelectedDropDown:[],rangeValuePicker:Ft,startDate:$(new Date(Ft.from.year,Ft.from.month-1,1)),endDate:$(new Date(Ft.to.year,Ft.to.month,0)),typeofCost:"",regionDisable:!0,regionAccess:!1,countryDisable:!0,countryAccess:!1,RouteDisable:!0,routesAcess:!1,disableRouteGroup:!1,showDatePicker:!1,date:"",datePickerValue:[{startDate:new Date(jt,0,1),endDate:Object(P.a)(new Date,5),key:"selection"}],costTypes:["TC","DOC","VC","Surplus/Deficit","Total Revenue"]},n.pickRange=o.a.createRef(),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this.props,t=(e.dateRange,e.dashboardName),a=this.state,n=a.rangeValuePicker,o=a.datePickerValue,r="Route Profitability"===t?window.localStorage.getItem("RRDateRangeValue"):window.localStorage.getItem("rangeValue");if(null===r){var l=[{startDate:$(o[0].startDate),endDate:$(o[0].endDate),key:"selection"}];window.localStorage.setItem("rangeValue",JSON.stringify(n)),window.localStorage.setItem("RRDateRangeValue",JSON.stringify(l))}else if(r=JSON.parse(r),"Route Profitability"===t){var i=r[0].endDate.split("-");this.setState({gettingYear:parseInt(i[0]),gettingMonth:parseInt(i[1]),getday:parseInt(i[2])})}else{var c="".concat(window.shortMonthNumToName(r.from.month)," ").concat(r.from.year);this.setState({selectedMonth:c,gettingYear:r.from.year,gettingMonth:r.from.month})}this.setFilterValues()}},{key:"setFilterValues",value:function(){var e=JSON.parse(b.getCookie("userDetails"));if(e.route_access==={}){this.getInitialFilterValuesFromLS()}else{var t=e.route_access;t.hasOwnProperty("selectedRouteGroup")&&(window.localStorage.setItem("RouteGroupSelected",JSON.stringify(t.selectedRouteGroup)),this.setState({disableRouteGroup:!0})),t.hasOwnProperty("selectedRouteRegion")&&(window.localStorage.setItem("RouteRegionSelected",JSON.stringify(t.selectedRouteRegion)),this.setState({regionDisable:!0,regionAccess:!0})),t.hasOwnProperty("selectedRouteCountry")&&(window.localStorage.setItem("RouteCountrySelected",JSON.stringify(t.selectedRouteCountry)),this.setState({countryDisable:!0,countryAccess:!0})),t.hasOwnProperty("selectedRoute")&&(window.localStorage.setItem("RouteSelected",JSON.stringify(t.selectedRoute)),this.setState({RouteDisable:!0,routesAcess:!0})),this.getInitialFilterValuesFromLS()}if("#*"!==e.access){var a=e.access.split("#"),n=a[1],o="*"===a[2]?"Null":a[2],r="*"===a[2]||"*"===a[3]?"Null":a[3],l=[],i=[],c=[];l.push(n),window.localStorage.setItem("RegionSelected",JSON.stringify(l)),"Null"!==o&&(i.push(o),window.localStorage.setItem("CountrySelected",JSON.stringify(i))),"Null"!==r&&(c.push(r),window.localStorage.setItem("CitySelected",JSON.stringify(c)))}}},{key:"getInitialFilterValuesFromLS",value:function(){var e=this;this.getDateRanges();var t=window.localStorage.getItem("RouteGroupSelected"),a=window.localStorage.getItem("RouteRegionSelected"),n=window.localStorage.getItem("RouteCountrySelected"),o=window.localStorage.getItem("RouteSelected"),r=window.localStorage.getItem("CostTypeSelected");t=null===t||"Null"===t?["Network"]:JSON.parse(t);var l=null===a||"Null"===a?[]:JSON.parse(a),i=null===n||"Null"===n?[]:JSON.parse(n),c=null===o||"Null"===o?[]:JSON.parse(o);a=l.length>0?l:"Null",n=i.length>0?i:"Null",o=c.length>0?c:"Null",this.setState({routeGroup:"'".concat(t.join("','"),"'"),regionSelected:a,countrySelected:n,routeSelected:o,regionSelectedDropDown:l,countrySelectedDropDown:i,routeSelectedDropDown:c,typeofCost:null===r?"TC":r},(function(){e.props.getRouteFilterValues(e.state),e.getRouteRegions()}))}},{key:"getDateRanges",value:function(){var e=null,t="",a="";if("Route Profitability"===this.props.dashboardName){if(null!==(e=JSON.parse(window.localStorage.getItem("RRDateRangeValue")))){t=e[0].startDate,a=e[0].endDate;var n=[{startDate:new Date(t.split("-")[0],t.split("-")[1]-1,t.split("-")[2]),endDate:new Date(a.split("-")[0],a.split("-")[1]-1,a.split("-")[2]),key:"selection"}];this.setState({datePickerValue:n,date:"".concat(le(n[0].startDate)," - ").concat(le(n[0].endDate))})}t=""===t?$(this.state.datePickerValue[0].startDate):t,a=""===a?$(this.state.datePickerValue[0].endDate):a}else null!==(e=JSON.parse(window.localStorage.getItem("rangeValue")))&&(t=$(new Date(e.from.year,e.from.month-1,1)),a=$(new Date(e.to.year,e.to.month,0)),this.setState({rangeValuePicker:e})),t=""===t?this.state.startDate:t,a=""===a?this.state.endDate:a;this.setState({startDate:t,endDate:a})}},{key:"callRouteGroup",value:function(e){var t=this,a=[];a.push(e.target.value),window.localStorage.setItem("RouteGroupSelected",JSON.stringify(a)),this.setState({routeGroup:"'".concat(e.target.value,"'"),regions:[],regionSelected:"Null",regionSelectedDropDown:[],countries:[],countrySelected:"Null",countrySelectedDropDown:[],Routes:[],routeSelected:"Null",routeSelectedDropDown:[]},(function(){window.localStorage.setItem("RouteRegionSelected","Null"),window.localStorage.setItem("RouteCountrySelected","Null"),window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null"),window.localStorage.setItem("RPFlightSelected","Null"),t.getRouteRegions()}))}},{key:"onRegionClose",value:function(){this.getRouteCountries(),this.state.regions.length>0&&0===this.state.regionSelectedDropDown.length&&(this.setState({regionSelected:"Null"}),window.localStorage.setItem("RouteRegionSelected","Null"))}},{key:"onCountryClose",value:function(){this.getRoutes(),this.state.countries.length>0&&0===this.state.countrySelectedDropDown.length&&(this.setState({countrySelected:"Null"}),window.localStorage.setItem("RouteCountrySelected","Null"))}},{key:"onRouteClose",value:function(){this.state.Routes.length>0&&0===this.state.routeSelectedDropDown.length&&(this.setState({routeSelected:"Null"}),window.localStorage.setItem("RouteSelected","Null"))}},{key:"search",value:function(){this.props.getRouteFilterValues(this.state)}},{key:"DatePickerClose",value:function(){var e=this,t=[{startDate:new Date(jt,0,1),endDate:Object(P.a)(new Date,5),key:"selection"}];console.log(t[0].startDate,t[0].endDate,le(t[0].startDate),$(t[0].startDate),"startDate"),this.setState({datePickerValue:t,date:le(t[0].startDate)+"-"+le(t[0].endDate)},(function(){e.CloseDatePicker()}))}},{key:"CloseDatePicker",value:function(){this.setState({showDatePicker:!1})}},{key:"dateSelected",value:function(){var e=this.state.datePickerValue,t=$(e[0].startDate),a=$(e[0].endDate);this.setState({showDatePicker:!1,startDate:t,endDate:a});var n=parseInt(a.split("-")[0]),o=parseInt(a.split("-")[1]),r=new Date(Object(P.a)(new Date,5)).getMonth()+1,l=new Date(Object(P.a)(new Date,5)).getFullYear(),i=[{startDate:t,endDate:a,key:"selection"}];n===l?o>r&&(i[0].withoutDropDown=!0):n>l&&o<r&&(i[0].withoutDropDown=!0),window.localStorage.setItem("RRDateRangeValue",JSON.stringify(i))}},{key:"render",value:function(){var e=this,t=this.props,a=(t.agentDashboard,t.dashboard,t.dashboardName),n=this.state,r=n.regions,l=n.regionSelectedDropDown,i=n.countrySelectedDropDown,c=n.routeSelectedDropDown,s=n.countries,u=n.Routes,d=n.regionDisable,m=n.countryDisable,h=n.RouteDisable,g=n.rangeValuePicker,p=n.routeGroup,f=n.costTypes,v=n.typeofCost;return o.a.createElement("div",{className:"regions-dropdown"},"Route Profitability"===a?o.a.createElement("div",{className:""},o.a.createElement("div",{className:"form-group",style:{display:"flex",marginBottom:"0px",flexDirection:"column"}},o.a.createElement("button",{className:"form-control cabinselect dashboard-dropdown date-picker-btn",onClick:function(){return e.setState({showDatePicker:!e.state.showDatePicker})}},this.state.date),this.state.showDatePicker?o.a.createElement("div",{className:"triangle-component"},o.a.createElement("div",{className:"triangle-up"})):o.a.createElement("div",null),o.a.createElement(Ot,{showDatePicker:this.state.showDatePicker,dateSelected:function(){return e.dateSelected()},onClose:function(){return e.DatePickerClose()},handleDatePicker:function(t){return e.handleDatePicker(t)},datePickerValue:this.state.datePickerValue}))):o.a.createElement(bt,Object.assign({rangeValue:g,handleRangeDissmis:this.handleRangeDissmis,dateRange:this.props.dateRange},this.props)),o.a.createElement("div",{className:"select-group",style:{width:"auto",marginRight:"5px"}},o.a.createElement("select",{className:"form-control cabinselect",id:"routegroup",onChange:function(t){return e.callRouteGroup(t)},disabled:this.state.disableRouteGroup},o.a.createElement("option",{value:"Network"},"Network"),o.a.createElement("option",{value:"Domestic",selected:"'Domestic'"===p},"Domestic"),o.a.createElement("option",{value:"International",selected:"'International'"===p},"International"))),o.a.createElement("div",{className:"".concat(l.length>0?"hide-regions-dropdown-label":"")},o.a.createElement(gt.a,{className:"select-group ".concat(d?"disable-main":"")},o.a.createElement(mt.a,{id:"demo-mutiple-checkbox-label"},"Region"),o.a.createElement(ft.a,{labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",className:"".concat(d?"disable":""),multiple:!0,value:l,onChange:function(t){return e.callRegion(t)},input:o.a.createElement(dt.a,null),renderValue:function(e){return e.join(",")},onClose:function(){return e.onRegionClose()}},r.map((function(e){return o.a.createElement(ht.a,{key:e.Route_Region,value:e.Route_Region},o.a.createElement(vt.a,{checked:l.indexOf(e.Route_Region)>-1}),o.a.createElement(pt.a,{primary:e.Route_Region}))}))))),o.a.createElement("div",{className:"".concat(i.length>0?"hide-regions-dropdown-label":"")},o.a.createElement(gt.a,{className:"select-group ".concat(m?"disable-main":"")},o.a.createElement(mt.a,{id:"demo-mutiple-checkbox-label"},"Country"),o.a.createElement(ft.a,{labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",className:"".concat(m?"disable":""),multiple:!0,value:i,onChange:function(t){return e.callCountry(t)},input:o.a.createElement(dt.a,null),renderValue:function(e){return e.join(",")},onClose:function(){return e.onCountryClose()}},s.map((function(e){return o.a.createElement(ht.a,{key:e.Route_Country,value:e.Route_Country},o.a.createElement(vt.a,{checked:i.indexOf(e.Route_Country)>-1}),o.a.createElement(pt.a,{primary:e.Route_Country}))}))))),o.a.createElement("div",{className:"".concat(c.length>0?"hide-regions-dropdown-label":"")},o.a.createElement(gt.a,{className:"select-group ".concat(h?"disable-main":"")},o.a.createElement(mt.a,{id:"demo-mutiple-checkbox-label"},"Route"),o.a.createElement(ft.a,{labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",className:"".concat(h?"disable":""),multiple:!0,value:c,onChange:function(t){return e.callRoute(t)},input:o.a.createElement(dt.a,null),renderValue:function(e){return e.join(",")},onClose:function(){return e.onRouteClose()}},u.map((function(e){return o.a.createElement(ht.a,{key:e.Route,value:e.Route},o.a.createElement(vt.a,{checked:c.indexOf(e.Route)>-1}),o.a.createElement(pt.a,{primary:e.Route}))}))))),"Route Profitability"===a?o.a.createElement("div",{className:""},o.a.createElement("div",{className:"select-group",style:{width:"auto",marginRight:"5px"}},o.a.createElement("select",{className:"form-control cabinselect",onChange:function(t){return e.callCostTypes(t)}},f.map((function(e){return o.a.createElement("option",{value:e,selected:v===e},e)}))))):"",o.a.createElement("i",{className:"fa fa-search",onClick:function(){return e.search()}}))}}]),a}(n.Component),Zt=a(633),Ht=a.n(Zt),Ut=a(133),Jt=a(1117),Kt=a(631),zt=a.n(Kt),qt=a(632),Xt=a.n(qt),Qt=a(1118),$t=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).toggleDrawer=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&n.setState({left:e})}},n.list=function(){return o.a.createElement("div",{className:"sideBar",role:"presentation"},o.a.createElement("h4",null,"Menus"),o.a.createElement(Qe.a,null,n.props.menuData.length>0?n.props.menuData.map((function(e,t){return o.a.createElement(Jt.a,{defaultCollapseIcon:o.a.createElement(zt.a,null),defaultExpandIcon:o.a.createElement(Xt.a,null)},o.a.createElement(Qt.a,{nodeId:e.ID,label:e.Name},e.submenu?e.submenu.map((function(e,t){return"show"===e.visibility?o.a.createElement(Qt.a,{nodeId:e.ID,label:e.Name,onClick:function(){return n.onListItemClick(e)},onKeyDown:n.toggleDrawer(!1)}):null})):""))})):o.a.createElement($e.a,{style:{color:"white",fontSize:"14px"}},"No Menus to show")))},n.state={selectedId:null,left:!1},n}return Object(c.a)(a,[{key:"onListItemClick",value:function(e){var t=this;this.setState({selectedId:e.ID},(function(){t.state.selectedId===e.ID&&(t.props.history.push({pathname:e.Path,state:{data:t.props.userData}}),t.toggleDrawer(!1))}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(o.a.Fragment,{key:"left"},o.a.createElement(qe.a,{className:"sidebarIcon",color:"inherit","aria-label":"open drawer",onClick:this.toggleDrawer(!0),edge:"start"},o.a.createElement(Ht.a,null)),o.a.createElement(Ut.a,{anchor:"left",open:this.state.left,onClose:this.toggleDrawer(!1)},this.list())))}}]),a}(o.a.Component),ea=new Te,ta=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getFilterValues=function(e){var t=ae(),a=n.state.dashboardList.filter((function(e){return e.Path.includes("forecastAccuracy")&&(e.Path="/forecastAccuracy".concat(t)),e.Path.includes("rpsPos")&&(e.Path="/rpsPos".concat(t)),e}));n.setState({regionSelected:e.regionSelected,countrySelected:e.countrySelected,citySelected:e.citySelected,ODSelected:e.ODSelected,startDate:e.startDate,endDate:e.endDate,gettingMonth:e.gettingMonthA,gettingYear:e.gettingYearA,posFiltersSearchURL:t,dashboardList:a},(function(){return n.props.getPOSSelectedGeographicalDetails(n.state)}))},n.getRouteFilterValues=function(e){n.setState({routeGroup:e.routeGroup,regionSelected:e.regionSelected,countrySelected:e.countrySelected,routeSelected:e.routeSelected,startDate:e.startDate,endDate:e.endDate,typeofCost:e.typeofCost},(function(){return n.props.getSelectedGeographicalDetails(n.state)}))},n.handleDatePicker=function(e){n.setState({datePickerValue:[e.selection]})},n.callDashboards=function(e){n.props.history.push("".concat(e.target.value));var t=e.target.value;n.setState({dashboardName:t})},n._logout=function(){R.sendEvent({event_id:"5",description:"User logged out from the system",where_path:"/",page_name:"Login Page"}),b.deleteCookie()},n.renderDashboardList=function(){var e=n.state.dashboardList.map((function(e){return o.a.createElement("option",{value:e.Path,selected:e.Path===n.state.selectedDashboardPath},e.Name)}));return o.a.createElement("ul",{className:"nav navbar-nav navbar-left"},o.a.createElement("li",{style:{marginLeft:"10px",marginTop:"10px",marginBottom:"-2px"}},o.a.createElement("div",{className:""},o.a.createElement("div",{className:"form-group dashboard-select"},o.a.createElement("select",{className:"form-control cabinselect dashboard-dropdown",onChange:function(e){return n.callDashboards(e)},id:"dashboardlist"},e)))))},n.renderFilters=function(){return o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement("li",{style:{marginRight:"10px"}},n.props.routeDash?o.a.createElement(Wt,Object.assign({getRouteFilterValues:n.getRouteFilterValues,dashboardName:n.props.dashboardName},n.props)):o.a.createElement(Bt,Object.assign({dashboard:!0,demography:!0,agentDashboard:n.props.agentDashboard,getFilterValues:n.getFilterValues},n.props))))},n.renderProfileDropdown=function(){return o.a.createElement("div",{className:"profile-dropdown"},o.a.createElement(Qe.a,{component:"nav","aria-label":"main mailbox folders"},o.a.createElement($e.a,{button:!0},o.a.createElement(et.a,{color:"inherit"},o.a.createElement(ct.a,null)),o.a.createElement(Xe.a,{onClick:function(){return n.props.history.push("/userProfile")}},"Profile")),o.a.createElement(ze.a,null),o.a.createElement($e.a,{button:!0},o.a.createElement(et.a,{color:"inherit"},o.a.createElement(ut.a,null)),o.a.createElement(Xe.a,{onClick:function(){return n.props.history.push("/changePassword")}},"Change Password")),o.a.createElement(ze.a,null),o.a.createElement($e.a,{button:!0},o.a.createElement(et.a,{color:"inherit"},o.a.createElement(lt.a,null)),o.a.createElement("a",{href:"".concat(_,"/initiatelogout"),onClick:function(){return n._logout()}},"Logout"))))},n.renderNotificationDropdown=function(){return o.a.createElement("div",{className:"notification-dropdown"},o.a.createElement("div",{className:"notification-top"},o.a.createElement("div",null,o.a.createElement("span",{className:"count"},n.state.alertData.length),"New notifications"),o.a.createElement("i",{className:"fa fa-close","aria-hidden":"true",onClick:function(){return n.setState({notification:!1})}})),o.a.createElement("div",{className:"notifications"},n.state.loading?o.a.createElement("div",{className:"ellipsis-loader"},o.a.createElement("img",{src:Be.ellipsis_loader,alt:""})):n.state.alertData.length>0?o.a.createElement("div",null,n.state.alertData.map((function(e){return o.a.createElement("div",{className:"notification"},o.a.createElement("div",{className:"heading"},"POS : ".concat(e.POS)),o.a.createElement("div",{className:"actions"},"Infare rates are",o.a.createElement("span",{className:"".concat("Above"===e.IStatus?"green":"red")}," ".concat(e.IStatus))))})),o.a.createElement("i",{className:"bottom",onClick:function(){return n.props.history.push("/alerts")}},"Show more")):o.a.createElement("div",{className:"ellipsis-loader"},o.a.createElement("h4",null,"No new notifications to show"))))},n.state={routeGroup:"",regionSelected:"Null",countrySelected:"Null",citySelected:"Null",ODSelected:"Null",routeSelected:"",menuData:[],startDate:"",endDate:"",gettingMonth:null,gettingYear:null,initial:"",toggleList:!1,notification:!1,alertData:[],isNewAlert:!1,loading:!1,userDetails:[],dashboardList:[],selectedDashboardPath:"",posFiltersSearchURL:"",dashboardName:""},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this,t=b.getCookie("userDetails");t=t?JSON.parse(t):"";var a=b.getCookie("menuData"),n=(a=a?JSON.parse(a):"").filter((function(e){return"Dashboard"===e.Name})),o=a.filter((function(e){return"Dashboard"!==e.Name}));e.setState({userDetails:t,menuData:o,dashboardList:n[0].submenu,selectedDashboardPath:window.location.pathname},(function(){e.getUserInitial(),e.getAlertsForNotification(t)}))}},{key:"getAlertsForNotification",value:function(e){var t=this;L.get("getalertnotfication","hideloader").then((function(e){if(e&&e.data.response.length>0){var a=e.data.response,n=a[0].TimeStamp;t.setState({alertData:a}),ea.getUserPreferences("Alert_timestamp",n.toString()).then((function(e){t.setState({isNewAlert:e})}))}})).catch((function(e){console.log("alert notification error",e)}))}},{key:"getUserInitial",value:function(){var e=this.state.userDetails.username.charAt(0).toUpperCase();this.setState({initial:e})}},{key:"dateSelected",value:function(){var e=this.state.datePickerValue,t=e[0].startDate.toDateString(),a=e[0].endDate.toDateString();this.setState({showDatePicker:!1,date:"".concat(t," - ").concat(a)}),this.props.getSelectedGeographicalDetails(this.state)}},{key:"toggleList",value:function(){this.setState({toggleList:!this.state.toggleList,notification:!1})}},{key:"toggleNotification",value:function(){this.setState({notification:!this.state.notification,toggleList:!1,isNewAlert:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.userDetails,n=t.menuData,r=t.toggleList,l=t.initial,i=t.notification,c=t.isNewAlert;return o.a.createElement("nav",{className:"navbar navbar-default navbar-fixed-top"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"navbar-header side-bar"},o.a.createElement($t,Object.assign({userData:a,menuData:n},this.props)),o.a.createElement("div",{onClick:function(){return e.props.history.push(e.props.dashboardPath?e.props.dashboardPath:Ue())}},o.a.createElement("img",{className:"logo",src:Be.airline_logo,alt:""}))),this.props.dashboard?this.renderDashboardList():o.a.createElement("div",null),o.a.createElement("div",{id:"navbar",className:"navbar-collapse collapse"},o.a.createElement("ul",{className:"nav navbar-nav navbar-right"},this.props.dashboard?this.renderFilters():o.a.createElement("div",null),Ze("Alert","alerts")?o.a.createElement("li",{className:"notification"},c?o.a.createElement("div",{className:"circle-bell"}):"",o.a.createElement("i",{className:"fa fa-bell-o","aria-hidden":"true",onClick:function(){return e.toggleNotification()}})):o.a.createElement("li",null),o.a.createElement(qe.a,{style:{padding:r?"11px":"1px"},"aria-label":"open drawer",onClick:function(){return e.toggleList()},edge:"start"},r?o.a.createElement(at.a,{className:"close-btn"}):o.a.createElement("div",{className:"initial-container"},o.a.createElement("h3",{className:"initial"},l),o.a.createElement(ot.a,{className:"circle"})))),r?this.renderProfileDropdown():o.a.createElement("div",null),i,i?this.renderNotificationDropdown():o.a.createElement("div",null))))}}]),a}(o.a.Component),aa=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).acknowledge=function(e){var t={alert_id:e,user_id:n.userData.id,acknowledged:"1",rejected:"0"};L.post("updatealertsdetails",t).then((function(t){y.a.fire({title:"Success!",text:"Alert aknowledged successfully ",icon:"success",confirmButtonText:"Ok"}).then((function(){var t=n.state.Aknowledge;t.push(e),n.setState({Aknowledge:t})}))})).catch((function(e){y.a.fire({title:"Error!",text:"Unable to aknowledge alert ",icon:"error",confirmButtonText:"Ok"})}))},n.reject=function(e){var t={alert_id:e,user_id:n.userData.id,acknowledged:"0",rejected:"1"};L.post("updatealertsdetails",t).then((function(t){y.a.fire({title:"Success!",text:"Alert rejected successfully ",icon:"success",confirmButtonText:"Ok"}).then((function(){var t=n.state.Reject;t.push(e),n.setState({Reject:t})}))})).catch((function(e){y.a.fire({title:"Error!",text:"Unable to reject alert",icon:"error",confirmButtonText:"Ok"})}))},n.state={Aknowledge:[],Reject:[],acknowledgedAlerts:[],alertData:[]},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){this.userData=JSON.parse(b.getCookie("userDetails"))}},{key:"render",value:function(){var e=this,t=this.state,a=(t.alertData,t.Aknowledge),n=t.Reject,r=this.props;r.modal;return r.data.map((function(t,r){return o.a.createElement("div",{className:"alert-card-main"},o.a.createElement("div",{className:"card ".concat(t.aul&&t.aul.length>0||a.includes(t.id)||n.includes(t.id)?"fade-card":"")},o.a.createElement("div",{className:"heading"},"OD : ".concat(t.CommonOD)),o.a.createElement("h5",{className:"action"},t.Action),o.a.createElement("div",{className:"details"},o.a.createElement("ul",null,o.a.createElement("li",null,"Infare rates are ",o.a.createElement("span",{className:"".concat("High"===t.IStatus?"green":"red")},"".concat(t.IStatus))))),t.aul&&t.aul.length>0||a.includes(t.id)||n.includes(t.id)?o.a.createElement("h5",null," ".concat(t.aul&&t.aul.length>0?"1"===t.aul[0].acknowledged?"Aknowledged":"1"===t.aul[0].rejeceted?"Rejected":"":a.includes(t.id)?"Aknowledged":n.includes(t.id)?"Rejected":"")):o.a.createElement("div",{className:"card-btn"},o.a.createElement("button",{type:"submit",onClick:function(){return e.acknowledge(t.id)},className:"btns"},"Acknowledge"),He()?o.a.createElement("button",{type:"submit",onClick:function(){return e.reject(t.id)},className:"btns"},"Reject"):"")))}))}}]),a}(n.Component),na=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){e.stopPropagation(),n.setState(Object(p.a)({},e.target.name,e.target.value),n._validate(e))},n._validate=function(e){var t=e.target.name,a=e.target.value,o="";if("oldPass"===t){W(a);o=""===a?"Old password should not be empty*":"",n.setState({oldPassMessage:o})}else if("newPass"===t){W(a);o=""===a?"New password should not be empty*":"",n.setState({newPassMessage:o})}setTimeout((function(){n.formValid()}),1e3)},n.formValid=function(){var e=n.state,t=e.oldPassMessage,a=e.newPassMessage,o=e.oldPass,r=e.newPass,l=g.a.isEmpty(t&&a),i=!g.a.isEmpty(o&&r);l&&i?n.setState({disable:!1}):n.setState({disable:!0})},n.changePassword=function(){if(!n.state.loading&&!n.state.disable){n.setState({loading:!0});var e=b.getCookie("Authorization");v.a.post("".concat(_,"/api/passwordchange"),{old_password:n.state.oldPass,new_password:n.state.newPass},{headers:{Authorization:e,"Content-Type":"application/json"}}).then((function(e){n.setState({loading:!1}),y.a.fire({title:"Done!",text:e.data.message,icon:"success",confirmButtonText:"Ok"}).then((function(){n.getUpdatedResetPassStatus(),n.setState({displayModal:!1})}))})).catch((function(e){console.log("error",e),n.setState({loading:!1}),void 0!==e.response?y.a.fire({title:"Error!",text:e.response.data.old_password,icon:"error",confirmButtonText:"Ok"}).then((function(){n.resetState()})):y.a.fire({title:"Error!",text:"Network Error",icon:"error",confirmButtonText:"Ok"}).then((function(){n.resetState()}))}))}},n.getUpdatedResetPassStatus=function(){var e=b.getCookie("Authorization");v.a.get("".concat(_,"/api/user"),{headers:{Authorization:e,"Content-Type":"application/json"}}).then((function(e){b.createCookie("userDetails",JSON.stringify(e.data),1)})).catch((function(e){console.log("error",e)}))},n.resetState=function(){n.setState({newPass:"",oldPass:"",oldPassMessage:"",newPassMessage:"",disable:!0})},n.state={newPass:"",oldPass:"",oldPassMessage:"",newPassMessage:"",loading:!1,disable:!0},n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){e&&this.setState({displayModal:e.displayModal})}},{key:"render",value:function(){var e=this;this.props.alertData;return o.a.createElement("div",null,o.a.createElement(Oe.a,{show:this.state.displayModal,"aria-labelledby":"ModalHeader"},o.a.createElement(Oe.a.Header,null,o.a.createElement(Oe.a.Title,{id:"ModalHeader"},"Change your password")),o.a.createElement(Oe.a.Body,null,o.a.createElement("label",null,"Old Password * :"),o.a.createElement("input",{type:"password",ref:"oldPass",className:"form-control",name:"oldPass",value:this.state.oldPass,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("p",null,this.state.oldPassMessage),o.a.createElement("label",null,"New Password* :"),o.a.createElement("input",{type:"password",ref:"newPass",className:"form-control",name:"newPass",value:this.state.newPass,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("p",null,this.state.newPassMessage)),o.a.createElement(Oe.a.Footer,null,o.a.createElement("button",{disabled:this.state.disable,className:"btn btn-primary change-password",onClick:function(){return e.changePassword()}},this.state.loading?o.a.createElement("img",{src:Be.ellipsis_loader,alt:""}):"Change Password"))))}}]),a}(n.Component),oa=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.colors,n=e.agentsName;return e.i?o.a.createElement("div",{className:"legends-box",style:{width:"".concat(n&&n.length>0?"320px":"200px")}},o.a.createElement("div",{className:"triangle-up"}),o.a.createElement("div",{id:"legend",style:{justifyContent:"start",flexWrap:"wrap"}},t.length>0?t[0].values.map((function(e,t){return o.a.createElement("p",{className:"sub-legend"},o.a.createElement("div",{className:"square",style:{background:a[t]}}),"".concat(e.rate))})):o.a.createElement("p",null)),o.a.createElement("div",{className:"category"},n&&n.length>0?n.map((function(e,t){return o.a.createElement("p",null,"".concat(t+1,". ").concat(e.AgentName))})):t.map((function(e,t){return o.a.createElement("p",null,"".concat(t+1,". ").concat(e.category))})))):o.a.createElement("div",{className:"bottom-legends"},t.length>0?t[0].values.map((function(e,t){return o.a.createElement("p",{className:"sub-legend"},o.a.createElement("div",{className:"square",style:{background:a[t]}}),"".concat(e.rate))})):o.a.createElement("p",null))}}]),a}(n.Component),ra=a(16),la=function(e,t,a,n){var o=10,r=30,l=23,i=85,c=630-i-r,s=260-o-l,u=ra.scale.ordinal().rangeRoundBands([0,c],.1),d=ra.scale.ordinal(),m=ra.scale.linear().range([s,0]),h=ra.svg.axis().scale(u).tickSize(0).orient("bottom"),g=ra.svg.axis().scale(m).orient("left"),p=ra.scale.ordinal().range(t);ra.select("#".concat(a)).remove();var f=ra.select("#".concat(n)).append("svg").attr("viewBox","0 0 "+(c+i+r)+" "+(s+o+l)).attr("id","".concat(a)).attr("preserveAspectRatio","none").attr("xmlns","http://www.w3.org/2000/svg").append("g").attr("transform","translate("+i+","+o+")"),v=e.map((function(e){return e.category})),C=e[0].values.map((function(e){return e.rate}));u.domain(v),d.domain(C).rangeRoundBands([0,u.rangeBand()]),m.domain([0,ra.max(e,(function(e){return ra.max(e.values,(function(e){return e.value}))}))]);var w=f.append("g").attr("class","x axis").attr("transform","translate(0,"+s+")").call(h).style("cursor","pointer").style("width","100px").style("text-overflow","ellipsis").style("white-space","nowrap").style("overflow","hidden"),_=ra.select("body").append("div").attr("class","tooltip").style("opacity",0);w.selectAll(".tick")[0].forEach((function(e){var t=ra.select(e).data();ra.select(e).on("mouseover",(function(e){_.transition().duration(200).style("opacity",.9),_.html(t).style("left",ra.event.pageX+"px").style("top",ra.event.pageY-28+"px").style("background","rgb(42, 63, 84)").style("padding","5px")})).on("mouseout",(function(e){_.transition().duration(500).style("opacity",0)}))}));w.selectAll("text").style("text-anchor","center").attr("fill","#8a9299").each((function(){for(var e=ra.select(this),t=e.node().getComputedTextLength(),a=e.text();t>100&&a.length>0;)a=a.slice(0,-1),e.text(a+"..."),t=e.node().getComputedTextLength()})),f.append("g").attr("class","y axis").style("opacity","0").call(g).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").style("font-weight","bold"),f.select(".y").transition().duration(0).delay(0).style("opacity","1");var D=ra.select("body").append("div").attr("class","tooltip").style("color","white").style("background","rgb(42, 63, 84)").style("padding","5px").style("opacity",1e-6),b=f.selectAll(".slice").data(e).enter().append("g").attr("class","g").attr("transform",(function(e){return"translate("+u(e.category)+",0)"}));b.selectAll("rect").data((function(e){return e.values})).enter().append("rect").attr("width",d.rangeBand()).attr("x",(function(e){return d(e.rate)})).style("fill",(function(e){return p(e.rate)})).attr("y",(function(e){return m(0)})).attr("height",(function(e){return s-m(0)})).on("mouseover",(function(e){ra.select(this).style("fill",ra.rgb(p(e.rate)).darker(2)),D.transition().attr("class","padding tooltip").duration(500).style("opacity",1)})).on("mousemove",(function(e){D.text(e.rate+" : "+window.numberFormat(e.value,2)).style("left",ra.event.pageX-140+"px").style("top",ra.event.pageY-10+"px")})).on("mouseout",(function(e){ra.select(this).style("fill",p(e.rate)),D.transition().duration(500).style("padding","0px !important").style("opacity",1e-6)})),b.selectAll("rect").transition().delay(0).duration(0).attr("y",(function(e){return m(e.value)})).attr("height",(function(e){return s-m(e.value)}))},ia=(a(307),new Te),ca=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getBarchartData(e)},n.getBarchartData=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.regionId,l=e.countryId,i=e.cityId;"TOP 10 AGENTS"===t.state.headerName?(n.setState({isLoading:!0,topfiveODsData:[],agentsName:[]}),ia.getAgentsBarChart(a,o,r,l,i).then((function(e){if(n.setState({isLoading:!1}),e&&e.TableData.length>0){var t=e.TableData,a=e.AgentNames;n.setState({topfiveODsData:n.normalizeData(t),agentsName:a},(function(){return n.drawBarChart(n.state.topfiveODsData,n.state.colors,"topODAgentB","topODAgent")}))}}))):(n.setState({isLoading:!0}),ia.getODsBarChart(a,o,r,l,i).then((function(e){n.setState({isLoading:!1,topfiveODsData:[],agentsName:[]}),e&&e.length>0&&n.setState({topfiveODsData:n.normalizeData(e)},(function(){return n.drawBarChart(n.state.topfiveODsData,n.state.colors,"topODAgentB","topODAgent")}))})))},n.normalizeData=function(e){var t=[];return e.forEach((function(e){var a={category:"",values:[]};Object.keys(e).forEach((function(t,n){n?a.values.push({rate:t,value:e[t]}):a.category=e[t]})),t.push(a)})),t},n.drawBarChart=function(e,t,a,n){var o=10,r=30,l=23,i=85,c=630-i-r,s=260-o-l,u=ra.scale.ordinal().rangeRoundBands([0,c],.1),d=ra.scale.ordinal(),m=ra.scale.linear().range([s,0]),h=ra.svg.axis().scale(u).tickSize(0).orient("bottom"),g=ra.svg.axis().scale(m).orient("left"),p=ra.scale.ordinal().range(t);ra.select("#".concat(a)).remove();var f=ra.select("#".concat(n)).append("svg").attr("viewBox","0 0 "+(c+i+r)+" "+(s+o+l)).attr("id","".concat(a)).attr("preserveAspectRatio","none").attr("xmlns","http://www.w3.org/2000/svg").append("g").attr("transform","translate("+i+","+o+")"),v=e.map((function(e){return e.category})),C=e[0].values.map((function(e){return e.rate}));u.domain(v),d.domain(C).rangeRoundBands([0,u.rangeBand()]),m.domain([0,ra.max(e,(function(e){return ra.max(e.values,(function(e){return e.value}))}))]);var w=f.append("g").attr("class","x axis").attr("transform","translate(0,"+s+")").call(h).style("cursor","pointer").style("width","100px").style("text-overflow","ellipsis").style("white-space","nowrap").style("overflow","hidden"),_=ra.select("body").append("div").attr("class","tooltip").style("opacity",0);w.selectAll(".tick")[0].forEach((function(e){var t=ra.select(e).data();ra.select(e).on("mouseover",(function(e){_.transition().duration(200).style("opacity",.9),_.html(t).style("left",ra.event.pageX+"px").style("top",ra.event.pageY-28+"px").style("background","rgb(42, 63, 84)").style("padding","5px")})).on("mouseout",(function(e){_.transition().duration(500).style("opacity",0)}))}));w.selectAll("text").style("text-anchor","center").attr("fill","#8a9299").each((function(){for(var e=ra.select(this),t=e.node().getComputedTextLength(),a=e.text();t>50&&a.length>0;)a=a.slice(0,-1),e.text(a+"..."),t=e.node().getComputedTextLength()})),f.append("g").attr("class","y axis").style("opacity","0").call(g).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").style("font-weight","bold"),f.select(".y").transition().duration(0).delay(0).style("opacity","1");var D=ra.select("body").append("div").attr("class","tooltip").style("color","white").style("background","rgb(42, 63, 84)").style("padding","5px").style("opacity",1e-6),b=f.selectAll(".slice").data(e).enter().append("g").attr("class","g").attr("transform",(function(e){return"translate("+u(e.category)+",0)"}));b.selectAll("rect").data((function(e){return e.values})).enter().append("rect").attr("width",d.rangeBand()).attr("x",(function(e){return d(e.rate)})).style("fill",(function(e){return p(e.rate)})).attr("y",(function(e){return m(0)})).attr("height",(function(e){return s-m(0)})).on("mouseover",(function(e){ra.select(this).style("fill",ra.rgb(p(e.rate)).darker(2)),D.transition().attr("class","padding tooltip").duration(500).style("opacity",1)})).on("mousemove",(function(e){D.text(e.rate+" : "+window.numberFormat(e.value,2)).style("left",ra.event.pageX-140+"px").style("top",ra.event.pageY-10+"px")})).on("mouseout",(function(e){ra.select(this).style("fill",p(e.rate)),D.transition().duration(500).style("padding","0px !important").style("opacity",1e-6)})),b.selectAll("rect").transition().delay(0).duration(0).attr("y",(function(e){return m(e.value)})).attr("height",(function(e){return s-m(e.value)}))},n.state={topfiveODsData:[],agentsName:[],colors:["#0571b0","#92c5de","#46b6ed","#4CAF50","#d5d5d5","#92c5de","#0571b0"],headerName:"",isLoading:!1},n}return Object(c.a)(a,[{key:"headerChange",value:function(e){var t=this;this.setState({headerName:e.target.value},(function(){return t.getBarchartData(t.props)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.topfiveODsData,l=t.agentsName;return o.a.createElement("div",{className:"x_panel tile",style:{paddingTop:"0px",overflow:"visible"}},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("select",{class:"select header-dropdown responsive-size",onChange:function(t){return e.headerChange(t)}},o.a.createElement("option",null,"TOP 5 O&Ds"),o.a.createElement("option",null,"TOP 10 AGENTS")),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(oa,{i:!0,data:r,agentsName:l,colors:a})),o.a.createElement("li",{onClick:function(){return e.props.history.push("/topMarkets")}},o.a.createElement("i",{className:"fa fa-line-chart"})))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"topODAgent"}),o.a.createElement(oa,{data:r,agentsName:l,colors:a})))}}]),a}(n.Component),sa=new Te,ua=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){var t=e.startDate,a=e.endDate,o=e.regionId,r=e.countryId,l=e.cityId,i=e.ODId;n.url="/pos",n.getPOSURL(o,r,l,i),n.setState({isLoading:!0,performanceData:[]}),sa.getRegionBarChart(t,a,o,r,l).then((function(e){if(n.setState({isLoading:!1}),e&&e.Data.length>0){var t=e.Data.sort((function(e,t){return t.CY_revenue-e.CY_revenue}));t.length=5,n.setState({performanceData:n.normalizeData(t)},(function(){return la(n.state.performanceData,n.state.colors,"regionPerformnaceB","regionPerformnace")}))}}))},n.normalizeData=function(e){var t=[];return e.forEach((function(e){var a={category:"",values:[]};Object.keys(e).forEach((function(t,n){n?a.values.push({rate:t,value:e[t]}):a.category=e[t]})),t.push(a)})),t},n.state={performanceData:[],colors:["#009688","#4CAF50","#03f574","#92c5de","#0571b0","#92c5de","#0571b0"],isLoading:!1},n}return Object(c.a)(a,[{key:"getPOSURL",value:function(e,t,a,n){"Null"!==e&&(this.url="/pos?Region=".concat(H(e))),"Null"!==t&&(this.url="/pos?Region=".concat(H(e),"&Country=").concat(H(t))),"Null"!==a&&(this.url="/pos?Region=".concat(H(e),"&Country=").concat(H(t),"&POS=").concat(H(a))),"Null"!==n&&(this.url="/pos?Region=".concat(H(e),"&Country=").concat(H(t),"&POS=").concat(H(a),"&").concat(encodeURIComponent("O&D"),"=").concat(H(n)))}},{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.performanceData;return o.a.createElement("div",{className:"x_panel tile"},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"Region"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(oa,{i:!0,data:r,colors:a})),o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"regionPerformnace"}),o.a.createElement(oa,{data:r,colors:a})))}}]),a}(n.Component),da=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.colors,a=e.i,n=e.selectedTrend,r=e.data;return a?o.a.createElement("div",{className:"legends-box",style:{width:"250px"}},o.a.createElement("div",{className:"triangle-up"}),o.a.createElement("div",{id:"legend"},r.map((function(e,a){return o.a.createElement("p",{className:"sub-legend"},o.a.createElement("div",{className:"square",style:{background:t[a]}}),e)})),o.a.createElement("p",{className:"sub-legend"},"X-axis : ".concat(n," numbers")))):o.a.createElement("div",{className:"bottom-legends"},r.map((function(e,a){return o.a.createElement("p",{className:"sub-legend"},o.a.createElement("div",{className:"square",style:{background:t[a]}}),e)})),o.a.createElement("p",{className:"sub-legend"},"X-axis : ".concat(n," numbers")))}}]),a}(n.Component),ma=function(e,t,a,n,o){var r=ra.nest().key((function(e){return e.Category})).entries(e),l=10,i=70,c=620-i-30,s=260-l-15,u=ra.scale.ordinal().rangeRoundBands([0,c]),d=ra.scale.linear().range([s,0]),m=(t=t,ra.scale.ordinal().range(t)),h=ra.svg.axis().scale(u).orient("bottom").tickFormat((function(e){return e})),g=!1;e.map((function(e){return e.value<1e3&&e.value>0?g=!0:null}));var p=ra.svg.axis().scale(d).orient("left").ticks(6).tickFormat(ra.format("".concat(g?"":"s"))),f=r[0].values.map((function(e){return e.Xaxis})),v=ra.svg.line().x((function(e){return u(e.Xaxis)+u.rangeBand()/2})).y((function(e){return d(e.value)}));ra.select("#".concat(a)).remove();var C=ra.select("#".concat(n)).append("svg").attr("viewBox","0 0 600 280").attr("id","".concat(a)).attr("style","overflow:hidden; height: 100%; width:100%").attr("preserveAspectRatio","none").attr("xmlns","http://www.w3.org/2000/svg").append("g").attr("transform","translate("+i+","+l+")");m.domain(r.map((function(e){return e.key}))),u.domain(f);var w=ra.max(r,(function(e){return ra.max(e.values,(function(e){return e.value}))})),_=ra.min(r,(function(e){return ra.min(e.values,(function(e){return e.value}))}));d.domain([_,w]),C.append("g").attr("class","x axis").attr("transform","translate(0,"+s+")").call(h),C.append("g").attr("class","GridX").selectAll("line.grid").data(d.ticks()).enter().append("line").attr({class:"grid",x1:u(f[0]),x2:u(f[f.length-1])+u.rangeBand()/2,y1:function(e){return d(e)},y2:function(e){return d(e)}}),C.append("g").attr("class","y axis").call(p).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dx","-5em").attr("dy","-4em").style("text-anchor","end").style("font-weight","bold");var D=C.selectAll(".segment").data(r).enter().append("g").attr("class","segment");D.append("path").attr("id",(function(e){return e.key})).attr("visible",1).attr("d",(function(e){return v(e.values)})).style("stroke",(function(e){if("LY"!==e.Category)return m(e.key);D.append("path").attr("d",(function(e){return v(e.values.filter((function(e){return"Actuals"===e.DataType&&"LY"===e.Category})))})).style("stroke","#64bbe3").attr("stroke-width",2).attr("fill","none").attr("class","line"),D.append("path").attr("d",(function(e){return v(e.values.filter((function(e){return"Actuals"===e.DataType})))})).attr("stroke","#eed202").attr("stroke-width",2).attr("fill","none")})).attr("stroke-width",2).attr("fill","none").attr("class","line"),D.selectAll("dot").data((function(e){return e.values})).enter().append("circle").attr("r",5).attr("cx",(function(e){return u(e.Xaxis)+u.rangeBand()/2})).attr("cy",(function(e){return d(e.value)})).style("stroke","white").style("cursor","pointer").style("fill",(function(e){return"Actuals"===e.DataType?m(this.parentNode.__data__.key):"#eed202"})).on("mouseover",(function(){b.transition().attr("class","padding tooltip").duration(500).style("opacity",1)})).on("mousemove",(function(e){b.html('<p class="tooltipKey">'.concat(this.parentNode.__data__.key,'</p><div class="tooltipMain"> <p class="tooltipValue">').concat(e.value>0?"".concat(window.positiveDeltaFormat(e.value)).concat("pick_up_percent"===o?"%":""," "):"".concat(window.negativeDeltaFormat(e.value)).concat("pick_up_percent"===o?"%":""),'</p> <div class="delta ').concat("actual"===o?"delta_display":"",'"><p class="tooltipDelta ').concat("actual"===o&&e.delta_absolute.includes("-")?"red":"",'">(').concat(e.delta_absolute,')</p><p class="tooltipDelta ').concat("actual"===o&&e.delta_percent.includes("-")?"red":"",'">(').concat(e.delta_percent,")</p></div></div>")).style("left",ra.event.pageX+15+"px").style("top",ra.event.pageY-10+"px")})).on("mouseout",(function(){b.transition().duration(500).style("padding","0px !important").style("opacity",1e-6)})),D.append("text").datum((function(e){return{name:e.key,RevData:e.values[e.values.length-1]}})).attr("transform",(function(e){return"translate("+(u(e.RevData.Xaxis)+u.rangeBand()/2-9)+","+(d(e.RevData.value)-10)+")"})).attr("x",-5).attr("y",-5).attr("dy",".38em").attr("class","segmentText").style("font-size","0px").style("font-weight","bold").attr("Segid",(function(e){return e.name})).text((function(e){return e.name}));var b=ra.select("body").append("div").attr("class","tooltip").style("color","white").style("width","auto").style("background","rgb(42, 63, 84)").style("padding","5px").style("padding-bottom","-5px").style("opacity",1e-6);C.append("line").attr("stroke","#333").attr("stroke-width",0).attr("class","guide").attr("x1",1).attr("y1",1).attr("x2",1).attr("y2",s)},ha=new Te,ga=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){n.getGraphData(e)},n.getGraphData=function(e){e.startDate;var t=e.endDate,a=e.regionId,o=e.countryId,r=e.cityId,l=t.split("-");l.length=2;var i=[].concat(Object(I.a)(l),["01"]),c=n.state,s=c.selectedType,u=c.selectedGraph;n.setState({loading:!0,graphData:[]}),ha.getSalesAnalysisLineChart(i.join("-"),t,a,o,r,"Day",s,u).then((function(e){if(n.setState({loading:!1}),e&&e[0].length>0){var t=[].concat(Object(I.a)(e[0]),Object(I.a)(e[1]));n.setState({graphData:z(t,s)},(function(){return n.drawLineChart(n.state.graphData,n.state.colors,"salesAnalysisL","salesAnalysis",s)}))}}))},n.periodChange=function(e){e.stopPropagation(),n.setState({selectedType:e.target.value},(function(){n.getGraphData(n.props)}))},n.graphChange=function(e){e.stopPropagation(),n.setState({selectedGraph:e.target.value},(function(){n.getGraphData(n.props)}))},n.drawLineChart=function(e,t,a,n,o){var r=ra.nest().key((function(e){return e.Category})).entries(e),l=10,i=70,c=610-i-30,s=260-l-15,u=ra.scale.ordinal().rangeRoundBands([0,c]),d=ra.scale.linear().range([s,0]),m=(t=t,ra.scale.ordinal().range(t)),h=ra.svg.axis().scale(u).orient("bottom").tickFormat((function(e){return e})),g=ra.svg.axis().scale(d).orient("left").ticks(6).tickFormat(ra.format("s")),p=r[0].values.map((function(e){return e.Xaxis})),f=ra.svg.line().x((function(e){return u(e.Xaxis)+u.rangeBand()/2})).y((function(e){return d(e.value)}));ra.select("#".concat(a)).remove();var v=ra.select("#".concat(n)).append("svg").attr("viewBox","0 0 600 280").attr("id","".concat(a)).attr("style","overflow:visible; height: 100%; width:100%").attr("preserveAspectRatio","none").attr("xmlns","http://www.w3.org/2000/svg").append("g").attr("transform","translate("+i+","+l+")");m.domain(r.map((function(e){return e.key}))),u.domain(p);var C=ra.max(r,(function(e){return ra.max(e.values,(function(e){return e.value}))})),w=ra.min(r,(function(e){return ra.min(e.values,(function(e){return e.value}))}));d.domain([w,C]),v.append("g").attr("class","x axis").attr("transform","translate(0,"+s+")").call(h),v.append("g").attr("class","GridX").selectAll("line.grid").data(d.ticks()).enter().append("line").attr({class:"grid",x1:u(p[0]),x2:u(p[p.length-1])+u.rangeBand()/2,y1:function(e){return d(e)},y2:function(e){return d(e)}}),v.append("g").attr("class","y axis").call(g).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dx","-5em").attr("dy","-4em").style("text-anchor","end").style("font-family",'"Helvetica Neue",Roboto,Arial,"Droid Sans",sans-serif').style("font-size","14px").style("font-weight","500");var _=v.selectAll(".segment").data(r).enter().append("g").attr("class","segment");_.append("path").attr("id",(function(e){return e.key})).attr("visible",1).attr("d",(function(e){return f(e.values)})).style("stroke",(function(e){if("LY"!==e.Category)return m(e.key);_.append("path").attr("d",(function(e){return f(e.values.filter((function(e){return"Actuals"===e.DataType&&"LY"===e.Category})))})).style("stroke","#64bbe3").attr("stroke-width",2).attr("fill","none").attr("class","line"),_.append("path").attr("d",(function(e){return f(e.values.filter((function(e){return"Actuals"===e.DataType})))})).attr("stroke","#eed202").attr("stroke-width",2).attr("fill","none")})).attr("stroke-width",2).attr("fill","none").attr("class","line"),_.selectAll("dot").data((function(e){return e.values})).enter().append("circle").attr("r",5).attr("cx",(function(e){return u(e.Xaxis)+u.rangeBand()/2})).attr("cy",(function(e){return d(e.value)})).style("stroke","white").style("cursor","pointer").style("fill",(function(e){return"Actuals"===e.DataType?m(this.parentNode.__data__.key):"#eed202"})).on("mouseover",(function(){D.transition().attr("class","padding tooltip").duration(500).style("opacity",1)})).on("mousemove",(function(e){D.html('<p class="tooltipKey">'.concat(e.Category,'</p><div class="tooltipMain"> <p class="tooltipValue">').concat(e.value>0?"".concat(window.positiveDeltaFormat(e.value)).concat("pick_up_percent"===o?"%":""," "):"".concat(window.negativeDeltaFormat(e.value)).concat("pick_up_percent"===o?"%":""),'</p> <div class="delta ').concat("actual"===o?"delta_display":"",'"><p class="tooltipDelta ').concat("actual"===o&&e.delta_absolute.includes("-")?"red":"",'">(').concat(e.delta_absolute,')</p><p class="tooltipDelta ').concat("actual"===o&&e.delta_percent.includes("-")?"red":"",'">(').concat(e.delta_percent,")</p></div></div>")).style("left",ra.event.pageX+15+"px").style("top",ra.event.pageY-10+"px")})).on("mouseout",(function(){D.transition().duration(500).style("padding","0px !important").style("opacity",1e-6)})),_.append("text").datum((function(e){return{name:e.key,RevData:e.values[e.values.length-1]}})).attr("transform",(function(e){return"translate("+(u(e.RevData.Xaxis)+u.rangeBand()/2-9)+","+(d(e.RevData.value)-10)+")"})).attr("x",-5).attr("y",-5).attr("dy",".38em").attr("class","segmentText").style("font-size","0px").style("font-weight","bold").attr("Segid",(function(e){return e.name})).text((function(e){return e.name}));var D=ra.select("body").append("div").attr("class","tooltip").style("color","white").style("background","rgb(42, 63, 84)").style("padding","5px").style("padding-bottom","-5px").style("opacity",1e-6);v.append("line").attr("stroke","#333").attr("stroke-width",0).attr("class","guide").attr("x1",1).attr("y1",1).attr("x2",1).attr("y2",s)},n.state={loading:!1,graphData:[],selectedType:"actual",selectedGraph:"Revenue",colors:["#dde63c","#d98ced","#ffcc00"]},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.colors,r=t.graphData,l=Object(I.a)(new Set(r.map((function(e){return e.Category}))));return o.a.createElement("div",{className:"x_panel tile"},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"Daily Flown Analysis"),o.a.createElement("div",{className:"nav navbar-right",style:{display:"flex",alignItems:"center",marginTop:"-2px"}},o.a.createElement("select",{class:"select",onChange:function(t){return e.graphChange(t)}},o.a.createElement("option",null,"Revenue"),o.a.createElement("option",null,"Booking"),o.a.createElement("option",null,"Passenger")),o.a.createElement("label",{className:"label"},"Type:"),o.a.createElement("select",{class:"select",onChange:function(t){return e.periodChange(t)}},o.a.createElement("option",{value:"actual"},"Actual"),o.a.createElement("option",{value:"pick_up"},"Pick-up"),o.a.createElement("option",{value:"pick_up_percent"},"Pick-up(%)")),o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(da,{i:!0,colors:n,selectedTrend:"Day",data:l})))),a?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"salesAnalysis",style:{padding:"5px","padding-bottom":"0px"}}),o.a.createElement(da,{colors:n,selectedTrend:"Day",data:l})))}}]),a}(n.Component),pa=new Te,fa=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=e.startDate,a=e.endDate,o=e.regionId,r=e.countryId,l=e.cityId,i=e.commonOD;n.setState({isLoading:!0,segmentationData:[]}),pa.getSegmentationBarChart(t,a,o,r,l,i).then((function(e){if(n.setState({isLoading:!1}),e&&e.length>0){var t=e.sort((function(e,t){return t.Revenue_CY-e.Revenue_LY}));t.length=5,n.setState({segmentationData:n.normalizeData(t)},(function(){return la(n.state.segmentationData,n.state.colors,"segmentationB","segmentation")}))}}))},n.normalizeData=function(e){var t=[];return e.forEach((function(e){var a={category:"",values:[]};Object.keys(e).forEach((function(t,n){n?a.values.push({rate:t,value:e[t]}):a.category=e[t]})),t.push(a)})),t},n.state={segmentationData:[],colors:["#7852e2","#b09ee2","#009688","#4CAF50","#d5d5d5","#92c5de","#0571b0"],isLoading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.segmentationData;return o.a.createElement("div",{className:"x_panel tile"},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"Segmentation Analysis"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(oa,{i:!0,data:r,colors:a})),o.a.createElement("li",{onClick:function(){return e.props.history.push("/segmentation")}},o.a.createElement("i",{className:"fa fa-line-chart"})))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"17%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"segmentation"}),o.a.createElement(oa,{data:r,colors:a})))}}]),a}(n.Component),va=new Te,Ca=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getCardData(e)},n.getCardData=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.regionId,l=e.countryId,i=e.cityId;t.setState({loading:!0,cardData:[]}),va.getPOSCards(a,o,r,l,i).then((function(e){t.setState({loading:!1}),e&&t.setState({cardData:e})}))},n.state={cardData:[],loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"cards-main"},this.state.cardData.length>0?this.state.cardData.map((function(e,t){return o.a.createElement("div",{id:"card_data",className:"cards"},o.a.createElement("div",{className:"card-top"},o.a.createElement("div",{className:"count_top"}," ",e.Name," "),o.a.createElement("div",{className:"count",id:e.Name}," ",window.numberFormat(e.CY)," ")),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},window.numberFormat(e.LY)," LY"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(q(window.numberFormat(e.VLY)))}),o.a.createElement("span",null,window.numberFormat(e.VLY),"% VLY"))),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},window.numberFormat(e.Budget)," BGT"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(q(window.numberFormat(e.VTG)))}),o.a.createElement("span",null,window.numberFormat(e.VTG),"% VTG"))))})):o.a.createElement("div",null))}}]),a}(n.Component),wa=(new Te,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).renderTop5OD=function(){return o.a.createElement(ca,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,regionId:n.props.regionId,countryId:n.props.countryId,cityId:n.props.cityId},n.props))},n.renderRegionWisePerformance=function(){return o.a.createElement(ua,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,regionId:n.props.regionId,countryId:n.props.countryId,cityId:n.props.cityId,ODId:n.props.ODId},n.props))},n.renderSalesAnalysis=function(){return o.a.createElement(ga,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,regionId:n.props.regionId,countryId:n.props.countryId,cityId:n.props.cityId},n.props))},n.renderSegmentationAnalysis=function(){return o.a.createElement(fa,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,regionId:n.props.regionId,countryId:n.props.countryId,cityId:n.props.cityId},n.props))},n.renderCards=function(){return o.a.createElement(Ca,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,regionId:n.props.regionId,countryId:n.props.countryId,cityId:n.props.cityId},n.props))},n.state={},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"row graphs"},o.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12 graph"},this.renderTop5OD(),this.renderRegionWisePerformance()),o.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12 graph"},this.renderSalesAnalysis(),this.renderSegmentationAnalysis()),this.renderCards())}}]),a}(n.Component)),_a=a(130),Da=(a(201),a(202),a(182),n.Component,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).isResponsive=function(){window.innerHeight<620?n.setState({responsive:!0}):n.setState({responsive:!1})},n.firstDataRendered=function(e){e.api.sizeColumnsToFit()},n.onGridReady=function(e){if(!e.api)return null;n.gridApi=e.api,e.api.ensureIndexVisible(n.props.ensureIndexVisible,"middle");Object.keys(n.props).includes("gridApi")&&n.props.gridApi(e.api)},n.state={responsive:!1,defaultColDef:{tooltipComponent:"customTooltip",sortable:!0,enableCellChangeFlash:!0}},n.gridApi=null,n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){this.isResponsive()}},{key:"componentDidMount",value:function(){var e=this;window.onresize=function(){e.isResponsive()}}},{key:"applyColumnLockDown",value:function(e){var t=this;return e.map((function(e){e.children&&(e.children=t.applyColumnLockDown(e.children));var a={},n=e.cellClassRules;return e.alignLeft&&e.underline?a.cellClassRules=Object(B.a)({"align-left-underline":"1 == 1"},n):e.alignLeft?a.cellClassRules=Object(B.a)({"align-left":"1 == 1"},n):e.underline?a.cellClassRules=Object(B.a)({"align-right-underline":"1 == 1"},n):a.cellClassRules=Object(B.a)({"align-right":"1 == 1"},n),Object(B.a)(Object(B.a)(Object(B.a)({},e),a),{lockPosition:!0,cellClass:"lock-pinned"})}))}},{key:"render",value:function(){var e=this;setInterval((function(){e.gridApi&&e.gridApi.gridPanel.eBodyViewport.clientWidth&&e.gridApi.sizeColumnsToFit()}),1e3);var t=this.props,a=t.rowData,n=t.columnDefs,r=t.onSelectionChanged,l=t.suppressRowClickSelection,i=t.onCellClicked,c=t.onCellValueChanged,s=t.pagination,u=(t.singleRow,t.dashboard),d=t.agentdashboard,m=t.channel,h=t.topMarket,g=t.loading,p=t.modal,f=t.autoHeight,v=t.frameworkComponents,C=t.rowClassRules,w=t.route,_=t.pos,D=t.routeDashboard,b=t.height,S=t.hideHeader,y=t.rowSelection,N=t.getRowStyle,T=this.state.responsive;return g?o.a.createElement(We,null):o.a.createElement("div",{id:"myGrid",className:"ag-theme-balham-dark ag-grid-table ".concat(u?"dasboard-height reduce-padding":h?"top-market-height":f?"":m?"channel-height reduce-padding":w?"reduce-padding route-height":_?"reduce-padding pos-height":D?"route-dashboard":"responsive-height"," "),style:{height:u?b:d?"20vh":h?"26vh":p?"20vh":f?"":m?"45vh":"28vh"}},o.a.createElement(_a.AgGridReact,{onGridReady:this.onGridReady,onFirstDataRendered:function(t){return e.firstDataRendered(t)},columnDefs:this.applyColumnLockDown(n),rowData:a,suppressRowTransform:!0,onSelectionChanged:r,onCellClicked:i,suppressRowClickSelection:l,rowSelection:"".concat(y||"single"),domLayout:f,onCellValueChanged:c,rowHeight:T&&(u||D)?16:28,headerHeight:S?0:T&&u?20:33,paginationPageSize:20,pagination:s,rowClassRules:C,frameworkComponents:v,enableBrowserTooltips:!0,animateRows:!0,getRowStyle:N}))}}]),a}(n.Component)),ba=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).firstDataRendered=function(e){e.api.sizeColumnsToFit()},n.onGridReady=function(e){if(!e.api)return null;n.gridApi=e.api;Object.keys(n.props).includes("gridApi")&&n.props.gridApi(e.api)},n.state={responsive:!1,defaultColDef:{tooltipComponent:"customTooltip",suppressHorizontalScroll:!1,enableCellChangeFlash:!0}},n.gridApi=null,n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){this.isResponsive()}},{key:"componentDidMount",value:function(){var e=this;window.onresize=function(){e.isResponsive()}}},{key:"isResponsive",value:function(){window.innerHeight<620?this.setState({responsive:!0}):this.setState({responsive:!1})}},{key:"applyColumnLockDown",value:function(e){var t=this;return e.map((function(e){e.children&&(e.children=t.applyColumnLockDown(e.children));var a={},n=e.cellClassRules;return e.alignLeft?a.cellClassRules=Object(B.a)({"align-left":"1 == 1"},n):a.cellClassRules=Object(B.a)({"align-right":"1 == 1"},n),Object(B.a)(Object(B.a)(Object(B.a)({},e),a),{lockPosition:!0,cellClass:"lock-pinned"})}))}},{key:"render",value:function(){var e=this;setInterval((function(){e.gridApi&&e.gridApi.gridPanel.eBodyViewport.clientWidth&&e.gridApi.sizeColumnsToFit()}),1e3);var t=this.props,a=t.rowData,n=t.columnDefs,r=t.loading,l=t.suppressRowClickSelection,i=t.onSelectionChanged,c=t.frameworkComponents,s=t.dashboard,u=t.reducingPadding,d=(t.route,t.changeBgColor),m=this.state.responsive;return r?"":o.a.createElement("div",{id:"myGrid",className:"ag-theme-balham-dark ag-grid-table totalRow ".concat(d?"changeBgColor":""," ").concat(u?"reduce-padding":""," ").concat(s?"totalRow-cell ":m?"totalRow-reduce-fontSize":""),style:{height:m&&s?"16px":"30px"}},o.a.createElement(_a.AgGridReact,{onGridReady:this.onGridReady,onFirstDataRendered:function(t){return e.firstDataRendered(t)},columnDefs:this.applyColumnLockDown(n),rowData:a,defaultColDef:this.state.defaultColDef,suppressRowTransform:!0,onSelectionChanged:i,suppressRowClickSelection:l,rowSelection:"single",headerHeight:"0",rowStyle:{fontWeight:"bold"},enableBrowserTooltips:!0,frameworkComponents:c,rowHeight:m&&s?16:28}))}}]),a}(n.Component),Sa=new Te,ya=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.regionId,l=e.countryId,i=e.cityId;t.setState({loading:!0,channelwiseperformpivottable:[]}),Sa.getChanneltable(a,o,r,l,i).then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].rowData,o=e[0].totalData;t.setState({channelwiseperformpivottable:n,channelwiseperformcolumn:a,totalData:o})}}))},n.state={channelwiseperformpivottable:[],channelwiseperformcolumn:[],totalData:[],loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("h2",null,"Channel Performance"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("li",{onClick:function(){return e.props.history.push("/channelPerformance")}},o.a.createElement("i",{className:"fa fa-line-chart"})))),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.channelwiseperformpivottable,columnDefs:this.state.channelwiseperformcolumn,dashboard:!0,loading:this.state.loading,height:"20vh"}),o.a.createElement(ba,{rowData:this.state.totalData,columnDefs:this.state.channelwiseperformcolumn,loading:this.state.loading,dashboard:!0,reducingPadding:!0})))}}]),a}(n.Component),Na=new Te,Ta=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.routeGroup,l=e.regionId,i=e.countryId,c=e.cityId,s=e.routeId,u=e.posDashboard;n.url="/pos",n.getPOSURL(l,i,c),t.setState({loading:!0,anciallaryData:[]}),Na.getAnciallaryItems(a,o,r,l,i,c,s,u).then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].ancillaryDetails,o=e[0].totalData;t.setState({anciallaryData:n,anciallaryColumn:a,totalData:o})}}))},n.state={anciallaryData:[],anciallaryColumn:[],totalData:[],loading:!1},n}return Object(c.a)(a,[{key:"getPOSURL",value:function(e,t,a,n){window.localStorage.getItem("ODSelected");"Null"!==e&&(this.url="/pos?Region=".concat(H(e))),"Null"!==t&&(this.url="/pos?Region=".concat(H(e),"&Country=").concat(H(t))),"Null"!==a&&(this.url="/pos?Region=".concat(H(e),"&Country=").concat(H(t),"&POS=").concat(H(a))),"Null"!==n&&(this.url="/pos?Region=".concat(H(e),"&Country=").concat(H(t),"&POS=").concat(H(a),"&").concat(encodeURIComponent("O&D"),"=").concat(H(n)))}},{key:"render",value:function(){var e=this,t="?ancillary=".concat(!0);return"/pos"!==this.url&&(t="&ancillary=".concat(!0)),o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("h2",null,"Ancillary Items"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("li",{onClick:function(){return e.props.history.push("".concat(e.url).concat(t))}},o.a.createElement("i",{className:"fa fa-line-chart"})))),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.anciallaryData,columnDefs:this.state.anciallaryColumn,dashboard:!0,loading:this.state.loading,height:"20vh"}),o.a.createElement(ba,{rowData:this.state.totalData,columnDefs:this.state.anciallaryColumn,loading:this.state.loading,dashboard:!0,reducingPadding:!0})))}}]),a}(n.Component),Aa=new Te,Ra=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.regionId,l=e.countryId,i=e.cityId;t.setState({loading:!0,marketShareData:[]}),Aa.getMarketShare(a,o,r,l,i).then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].rowData;t.setState({marketShareData:n,marketShareColumn:a})}}))},n.state={marketShareData:[],marketShareColumn:[],loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("h2",null,"Market Share"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("li",{onClick:function(){return e.props.history.push("/topMarkets")}},o.a.createElement("i",{className:"fa fa-line-chart"})))),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.marketShareData,columnDefs:this.state.marketShareColumn,dashboard:!0,loading:this.state.loading,height:"22vh"})))}}]),a}(n.Component),Va=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"x_panel"},o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(ya,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,regionId:this.props.regionId,countryId:this.props.countryId,cityId:this.props.cityId},this.props))),o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(Ta,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,regionId:this.props.regionId,countryId:this.props.countryId,cityId:this.props.cityId,posDashboard:!0},this.props))),o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(Ra,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,regionId:this.props.regionId,countryId:this.props.countryId,cityId:this.props.cityId},this.props))))}}]),a}(n.Component),Ya=(new Date,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e){R.sendEventWithHeader({event_id:"1",description:"User viewed Pos Dashboard Page",where_path:"/posDashboard",page_name:"Pos Dashboard Page"},e)},n.getPOSSelectedGeographicalDetails=function(e){n.regionSelected=e.regionSelected,n.countrySelectedID=e.countrySelected,n.citySelected=e.citySelected,n.ODSelected=e.ODSelected,n.startDate=e.startDate,n.endDate=e.endDate,n.middleDashboardRef.current.setFilterValues({regionSelected:"All"===n.regionSelected?"Null":n.regionSelected,countrySelectedID:n.countrySelectedID,citySelected:n.citySelected,ODSelected:n.ODSelected,startDate:n.startDate,endDate:n.endDate})},n.state={displayModal:!1,resetPass:"",loading:!1},n.startDate="",n.endDate="",n.regionSelected="Null",n.countrySelectedID="Null",n.citySelected="Null",n.ODSelected="Null",n.middleDashboardRef=o.a.createRef(),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){if(Ze("Dashboard","posDashboard")){var e=b.getCookie("Authorization");this.sendEvent(e)}else this.props.history.push("/404")}},{key:"getResetPassStatus",value:function(){var e=b.getCookie("userDetails");"True"===JSON.parse(e).is_resetpwd&&this.setState({displayModal:!0})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ta,Object.assign({dashboard:!0,getPOSSelectedGeographicalDetails:this.getPOSSelectedGeographicalDetails},this.props)),o.a.createElement(Ea,Object.assign({ref:this.middleDashboardRef},this.props)),o.a.createElement(na,{displayModal:this.state.displayModal}))}}]),a}(n.Component)),Ea=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={gettingMonth:null,regionId:null,cityId:null,ODId:null,countryId:null,startDate:null,endDate:null},n}return Object(c.a)(a,[{key:"setFilterValues",value:function(e){var t=e.gettingMonth,a=e.regionSelected,n=e.citySelected,o=e.ODSelected,r=e.countrySelectedID,l=e.startDate,i=e.endDate;this.setState({gettingMonth:t,regionId:a,cityId:n,ODId:o,countryId:r,startDate:l,endDate:i})}},{key:"render",value:function(){return o.a.createElement("div",{className:"PosDashboard"},o.a.createElement("div",{className:"row tile_count"},o.a.createElement(Ke,Object.assign({startDate:this.state.startDate,endDate:this.state.endDate,regionId:this.state.regionId,countryId:this.state.countryId,cityId:this.state.cityId,dashboard:"Pos"},this.props))),o.a.createElement(wa,Object.assign({startDate:this.state.startDate,endDate:this.state.endDate,regionId:this.state.regionId,countryId:this.state.countryId,cityId:this.state.cityId,ODId:this.state.ODId},this.props)),o.a.createElement("div",{className:"row tables"},o.a.createElement(Va,Object.assign({startDate:this.state.startDate,endDate:this.state.endDate,regionId:this.state.regionId,countryId:this.state.countryId,cityId:this.state.cityId},this.props))))}}]),a}(n.Component),La=Ya,ka=a(63),Ba=a.n(ka),Ia=a(64),Oa=a.n(Ia),Pa=a(46),Ma=a.n(Pa);a(984);Ma.a.fcRoot(Ba.a,Oa.a);var Fa,Ga=new Te,xa=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e){R.sendEventWithHeader({event_id:"2",description:"User viewed Geographical Chart Page",where_path:"/geographyInReport",page_name:"Geography Chart Page"},e)},n.getPOSSelectedGeographicalDetails=function(e){var t=n.state,a=(t.regionId,t.countryId,t.startDate,t.endDate,JSON.parse(window.localStorage.getItem("rangeValue"))),o=n.formatDate(new Date(a.from.year,a.from.month-1,1)),r=n.formatDate(new Date(a.to.year,a.to.month,0)),l=window.localStorage.getItem("RegionSelected"),i=window.localStorage.getItem("CountrySelected");n.setState({regionId:null===l||"Null"===l||""===l?"Null":JSON.parse(l),countryId:null===i||"Null"===i||""===i?"Null":JSON.parse(i),startDate:o,endDate:r},(function(){return n.getGraphData()}))},n.getGraphData=function(){var e=Object(je.a)(n),t=n.state,a=t.startDate,o=t.endDate,r=t.regionId,l=t.countryId;t.dataset,t.categories;Ga.getTopGeographicalDemographyChartData(a,o,r,l).then((function(t){if(t){var a=t[0].categories,n=t[0].dataset;e.setState({dataset:n,categories:a});var o=e.state.GeographicalChartConfig;o.dataSource.categories[0].category=a,o.dataSource.dataset[0].data=n[1].data,o.dataSource.dataset[1].data=n[0].data,e.setState({GeographicalChartConfig:o})}}))},n.formatDate=function(e){var t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),[n,t,a].join("-")},n.state={regionId:"Null",countryId:"Null",startDate:"Null",endDate:"Null",GeographicalChartConfig:{type:"mscolumn2d",renderAt:"chart-container",width:"100%",height:"520",dataFormat:"json",dataSource:{chart:{theme:"candy",caption:"Website Trafic (Visits)",numberPrefix:"",plotFillAlpha:"80",divLineIsDashed:"1",divLineDashLen:"1",divLineGapLen:"1",labelDisplay:"rotate",slantLabel:"1"},categories:[{category:[]}],dataset:[{seriesname:"Previous Year",color:"#0f5298",data:[]},{seriesname:"Curent Year",color:"#d5f3fe",data:[]}]}}},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=b.getCookie("Authorization");this.sendEvent(e),this.getPOSSelectedGeographicalDetails()}},{key:"render",value:function(){return o.a.createElement("div",{className:"x_panel tile"},o.a.createElement(ta,Object.assign({dashboardPath:"/demographyDashboard",getPOSSelectedGeographicalDetails:this.getPOSSelectedGeographicalDetails},this.props)),o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"Top 20 Geographycal Report ")),o.a.createElement("div",{className:"chart-container"},o.a.createElement("div",{id:"segmentation"}),o.a.createElement(Ma.a,this.state.GeographicalChartConfig),this.state.GeographicalChartConfig.dataSource.dataset.length>0?o.a.createElement("div",{className:"hide-watermark"}):""))}}]),a}(n.Component),ja=xa,Wa=(a(203),new Te),Za=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getGraphData(e)},n.periodChange=function(e){e.stopPropagation(),n.setState({selectedDelta:e.target.value},(function(){n.getGraphData(n.props)}))},n.calculatedByChange=function(e){e.stopPropagation(),n.setState({calculatedBy:e.target.value},(function(){n.getGraphData(n.props)}))},n.state={revenueData:[],isLoading:!1,colors:["#009688","#44c94a","#49e8a4","#0571b0","#92c5de","#0571b0"],selectedTrend:"Day",selectedDelta:"actual",calculatedBy:"sum"},n}return Object(c.a)(a,[{key:"getGraphData",value:function(e){var t=this,a=(e.startDate,e.endDate),n=e.routeGroup,o=e.regionId,r=e.countryId,l=e.routeId,i=this.state,c=i.selectedTrend,s=i.selectedDelta,u=(i.calculatedBy,H(n));this.url="/route?RouteGroup=".concat(u),this.getRouteURL(u,o,r,l),this.setState({isLoading:!0,revenueData:[]});var d=a.split("-");d.length=2;var m=[].concat(Object(I.a)(d),["01"]);Wa.getRevenueBarChart(m.join("-"),a,n,o,r,l,c,s).then((function(e){if(t.setState({isLoading:!1}),e&&e[0].length>0){var a=[].concat(Object(I.a)(e[0]),Object(I.a)(e[1]));a.length>0&&t.setState({revenueData:z(a,s)},(function(){return ma(t.state.revenueData,t.state.colors,"revenueL","revenue",s)}))}}))}},{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.revenueData,l=t.selectedTrend,i=Object(I.a)(new Set(r.map((function(e){return e.Category}))));return o.a.createElement("div",{className:"x_panel tile"},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"REVENUE"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("label",{className:"label"},"Delta:"),o.a.createElement("select",{class:"select",onChange:function(t){return e.periodChange(t)}},o.a.createElement("option",{value:"actual"},"Actual"),o.a.createElement("option",{value:"pick_up"},"Pick-up"),o.a.createElement("option",{value:"pick_up_percent"},"Pick-up(%)")),o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(da,{i:!0,colors:a,selectedTrend:l,data:i})),o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"revenue"}),o.a.createElement(da,{colors:a,selectedTrend:l,data:i})))}}]),a}(n.Component),Ha=Za,Ua=new Te,Ja=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getGraphData(e)},n.periodChange=function(e){e.stopPropagation(),n.setState({selectedDelta:e.target.value},(function(){n.getGraphData(n.props)}))},n.state={raskData:[],colors:["#c907ef","#e0b7eb","#f442bf","#92c5de","#0571b0","#92c5de","#0571b0"],isLoading:!1,selectedTrend:"Day",selectedDelta:"actual"},n}return Object(c.a)(a,[{key:"getGraphData",value:function(e){var t=this,a=(e.startDate,e.endDate),n=e.routeGroup,o=e.regionId,r=e.countryId,l=e.routeId,i=this.state,c=i.selectedTrend,s=i.selectedDelta,u=H(n);this.url="/route?RouteGroup=".concat(u),this.getRouteURL(u,o,r,l),this.setState({isLoading:!0,raskData:[]});var d=a.split("-");d.length=2;var m=[].concat(Object(I.a)(d),["01"]);Ua.getRaskBarChart(m.join("-"),a,n,o,r,l,c,s).then((function(e){if(t.setState({isLoading:!1}),e&&e[0].length>0){var a=[].concat(Object(I.a)(e[0]),Object(I.a)(e[1]));a.length>0&&t.setState({raskData:z(a,s)},(function(){return ma(t.state.raskData,t.state.colors,"raskL","rask",s)}))}}))}},{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.raskData,l=t.selectedTrend,i=Object(I.a)(new Set(r.map((function(e){return e.Category}))));return o.a.createElement("div",{className:"x_panel tile",style:{paddingBottom:"15px"}},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"RASK"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("label",{className:"label"},"Delta:"),o.a.createElement("select",{class:"select",onChange:function(t){return e.periodChange(t)}},o.a.createElement("option",{value:"actual"},"Actual"),o.a.createElement("option",{value:"pick_up"},"Pick-up"),o.a.createElement("option",{value:"pick_up_percent"},"Pick-up(%)")),o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(da,{i:!0,colors:a,selectedTrend:l,data:i})),o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"rask"}),o.a.createElement(da,{colors:a,selectedTrend:l,data:i})))}}]),a}(n.Component),Ka=Ja,za=new Te,qa=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getGraphData(e)},n.periodChange=function(e){e.stopPropagation(),n.setState({selectedDelta:e.target.value},(function(){n.getGraphData(n.props)}))},n.state={yeildData:[],colors:["#7852e2","#b09ee2","#4547f0","#4CAF50","#d5d5d5","#92c5de","#0571b0"],isLoading:!1,selectedTrend:"Day",selectedDelta:"actual"},n}return Object(c.a)(a,[{key:"getGraphData",value:function(e){var t=this,a=(e.startDate,e.endDate),n=e.routeGroup,o=e.regionId,r=e.countryId,l=e.routeId,i=this.state,c=i.selectedTrend,s=i.selectedDelta,u=H(n);this.url="/route?RouteGroup=".concat(u),this.getRouteURL(u,o,r,l),this.setState({isLoading:!0,yeildData:[]});var d=a.split("-");d.length=2;var m=[].concat(Object(I.a)(d),["01"]);za.getYeildBarChart(m.join("-"),a,n,o,r,l,c,s).then((function(e){if(t.setState({isLoading:!1}),e&&e[0].length>0){var a=[].concat(Object(I.a)(e[0]),Object(I.a)(e[1]));a.length>0&&t.setState({yeildData:z(a,s)},(function(){return ma(t.state.yeildData,t.state.colors,"yeildL","yeild",s)}))}}))}},{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.yeildData,l=t.selectedTrend,i=Object(I.a)(new Set(r.map((function(e){return e.Category}))));return o.a.createElement("div",{className:"x_panel tile",style:{paddingBottom:"7px"}},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"YIELD"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("label",{className:"label"},"Delta:"),o.a.createElement("select",{class:"select",onChange:function(t){return e.periodChange(t)}},o.a.createElement("option",{value:"actual"},"Actual"),o.a.createElement("option",{value:"pick_up"},"Pick-up"),o.a.createElement("option",{value:"pick_up_percent"},"Pick-up(%)")),o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(da,{i:!0,colors:a,selectedTrend:l,data:i})),o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"yeild"}),o.a.createElement(da,{colors:a,selectedTrend:l,data:i})))}}]),a}(n.Component),Xa=qa,Qa=new Te,$a=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getGraphData(e)},n.periodChange=function(e){e.stopPropagation(),n.setState({selectedDelta:e.target.value},(function(){n.getGraphData(n.props)}))},n.state={loadFactorData:[],colors:["#0571b0","#92c5de","#46b6ed","#4CAF50","#d5d5d5","#92c5de","#0571b0"],isLoading:!1,selectedTrend:"Day",selectedDelta:"actual"},n}return Object(c.a)(a,[{key:"getGraphData",value:function(e){var t=this,a=(e.startDate,e.endDate),n=e.routeGroup,o=e.regionId,r=e.countryId,l=e.routeId,i=this.state,c=i.selectedTrend,s=i.selectedDelta,u=H(n);this.url="/route?RouteGroup=".concat(u),this.getRouteURL(u,o,r,l),this.setState({isLoading:!0,loadFactorData:[]});var d=a.split("-");d.length=2;var m=[].concat(Object(I.a)(d),["01"]);Qa.getLoadFactorBarChart(m.join("-"),a,n,o,r,l,c,s).then((function(e){if(t.setState({isLoading:!1}),e&&e[0].length>0){var a=[].concat(Object(I.a)(e[0]),Object(I.a)(e[1]));a.length>0&&t.setState({loadFactorData:z(a,s)},(function(){return ma(t.state.loadFactorData,t.state.colors,"loadFactorL","loadFactor",s)}))}}))}},{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.loadFactorData,l=t.selectedTrend,i=Object(I.a)(new Set(r.map((function(e){return e.Category}))));return o.a.createElement("div",{className:"x_panel tile",style:{paddingBottom:"15px"}},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"LOAD FACTOR"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("label",{className:"label"},"Delta:"),o.a.createElement("select",{class:"select",onChange:function(t){return e.periodChange(t)}},o.a.createElement("option",{value:"actual"},"Actual"),o.a.createElement("option",{value:"pick_up"},"Pick-up"),o.a.createElement("option",{value:"pick_up_percent"},"Pick-up(%)")),o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(da,{i:!0,colors:a,selectedTrend:l,data:i})),o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"loadFactor"}),o.a.createElement(da,{colors:a,selectedTrend:l,data:i})))}}]),a}(n.Component),en=$a,tn=new Te,an=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getCardData(e)},n.getCardData=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.routeGroup,l=e.regionId,i=e.countryId,c=e.routeId;t.setState({loading:!0,cardData:[]}),tn.getRouteCards(a,o,r,l,i,c).then((function(e){t.setState({loading:!1}),e&&t.setState({cardData:e})}))},n.state={cardData:[],loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"cards-main"},this.state.cardData.length>0?this.state.cardData.map((function(e,t){return o.a.createElement("div",{id:"card_data",className:"cards"},o.a.createElement("div",{className:"card-top"},o.a.createElement("span",{className:"count_top"}," ",e.Name," "),o.a.createElement("div",{className:"count",id:e.Name}," ",window.numberFormat(e.CY)," ")),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},window.numberFormat(e.LY)," LY"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(q(window.numberFormat(e.VLY)))}),o.a.createElement("span",null,window.numberFormat(e.VLY),"% VLY"))),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},window.numberFormat(e.Budget)," BGT"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(q(window.numberFormat(e.VTG)))}),o.a.createElement("span",null,window.numberFormat(e.VTG),"% VTG"))))})):o.a.createElement("div",null))}}]),a}(n.Component),nn=an,on=(new Te,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).renderRevenue=function(){return o.a.createElement(Ha,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,routeGroup:n.props.routeGroup,regionId:n.props.regionId,countryId:n.props.countryId,routeId:n.props.routeId},n.props))},n.renderRask=function(){return o.a.createElement(Ka,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,routeGroup:n.props.routeGroup,regionId:n.props.regionId,countryId:n.props.countryId,routeId:n.props.routeId},n.props))},n.renderYeild=function(){return o.a.createElement(Xa,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,routeGroup:n.props.routeGroup,regionId:n.props.regionId,countryId:n.props.countryId,routeId:n.props.routeId},n.props))},n.renderLoadFactor=function(){return o.a.createElement(en,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,routeGroup:n.props.routeGroup,regionId:n.props.regionId,countryId:n.props.countryId,routeId:n.props.routeId},n.props))},n.renderCards=function(){return o.a.createElement(nn,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,routeGroup:n.props.routeGroup,regionId:n.props.regionId,countryId:n.props.countryId,routeId:n.props.routeId},n.props))},n.state={},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"row graphs"},o.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12 graph"},this.renderRevenue(),this.renderRask()),o.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12 graph"},this.renderYeild(),this.renderLoadFactor()),this.renderCards())}}]),a}(n.Component)),rn=on,ln=new Te,cn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.routeGroup,l=e.regionId,i=e.countryId,c=e.routeId,s=H(r);n.url="/route?RouteGroup=".concat(s),n.getRouteURL(s,l,i,c),t.setState({loading:!0,regionWisePerformance:[]}),ln.getRegionWisePerformanceTable(a,o,r,l,i,c).then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].rowData,o=e[0].totalData,r=e[0].tableHead;t.setState({regionWisePerformance:n,totalData:o,regionWisePerformanceColumn:a,headerName:r})}}))},n.state={regionWisePerformance:[],totalData:[],regionWisePerformanceColumn:[],headerName:"",loading:!1},n}return Object(c.a)(a,[{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"render",value:function(){var e=this,t=this.state,a=t.regionWisePerformance,n=t.totalData,r=t.regionWisePerformanceColumn,l=t.loading,i=t.headerName;return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("h2",null,"".concat(i," PERFORMANCE")),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:a,columnDefs:r,dashboard:!0,channel:!0,loading:l,height:"20vh"}),o.a.createElement(ba,{rowData:n,columnDefs:r,loading:l,dashboard:!0,reducingPadding:!0})))}}]),a}(n.Component),sn=cn,un=new Te,dn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.routeGroup,l=e.regionId,i=e.countryId,c=e.cityId,s=e.routeId,u=e.posDashboard;t.setState({loading:!0,anciallaryData:[]});var d=H(r);n.url="/route?RouteGroup=".concat(d),n.getRouteURL(d,l,i,s),un.getAnciallaryItems(a,o,r,l,i,c,s,u).then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].ancillaryDetails,o=e[0].totalData;t.setState({anciallaryData:n,anciallaryColumn:a,totalData:o})}}))},n.state={anciallaryData:[],anciallaryColumn:[],totalData:[],loading:!1},n}return Object(c.a)(a,[{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("h2",null,"ANCILLARY ITEMS"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("li",{onClick:function(){return e.props.history.push("".concat(e.url,"&ancillaryRoute=",!0))}},o.a.createElement("i",{className:"fa fa-line-chart"})))),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.anciallaryData,columnDefs:this.state.anciallaryColumn,dashboard:!0,loading:this.state.loading,height:"20vh"}),o.a.createElement(ba,{rowData:this.state.totalData,columnDefs:this.state.anciallaryColumn,loading:this.state.loading,dashboard:!0,reducingPadding:!0})))}}]),a}(n.Component),mn=dn,hn=new Te,gn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){n.getRouteData(e)},n.headerChange=function(e){n.setState({headerName:e.target.value},(function(){return n.getRouteData(n.props)}))},n.state={routesData:[],routesColumn:[],headerName:"",loading:!1},n}return Object(c.a)(a,[{key:"getRouteData",value:function(e){var t=this,a=e.startDate,n=e.endDate,o=e.routeGroup,r=e.regionId,l=e.countryId,i=e.routeId,c=H(o);this.url="/route?RouteGroup=".concat(c),this.getRouteURL(c,r,l,i),"BOTTOM 5 ROUTES"===this.state.headerName?(t.setState({loading:!0,routesData:[]}),hn.getRouteTable(a,n,o,r,l,i,"asc").then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].rowData;t.setState({routesData:n,routesColumn:a})}}))):(t.setState({loading:!0,routesData:[]}),hn.getRouteTable(a,n,o,r,l,i,"desc").then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].rowData;t.setState({routesData:n,routesColumn:a})}})))}},{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("select",{class:"select header-dropdown",onChange:function(t){return e.headerChange(t)}},o.a.createElement("option",null,"TOP 5 ROUTES"),o.a.createElement("option",null,"BOTTOM 5 ROUTES")),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("li",{onClick:function(){return e.props.history.push("".concat(e.url,"&route=",!0))}},o.a.createElement("i",{className:"fa fa-line-chart"})))),o.a.createElement(Da,{rowData:this.state.routesData,columnDefs:this.state.routesColumn,dashboard:!0,routeDashboard:!0,loading:this.state.loading,height:"22vh"}))}}]),a}(n.Component),pn=gn,fn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"x_panel"},o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(sn,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,routeGroup:this.props.routeGroup,regionId:this.props.regionId,countryId:this.props.countryId,routeId:this.props.routeId},this.props))),o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(mn,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,routeGroup:this.props.routeGroup,regionId:this.props.regionId,countryId:this.props.countryId,routeId:this.props.routeId,posDashboard:!1},this.props))),o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(pn,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,routeGroup:this.props.routeGroup,regionId:this.props.regionId,countryId:this.props.countryId,routeId:this.props.routeId},this.props))))}}]),a}(n.Component),vn=fn,Cn=(new Date,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e){R.sendEventWithHeader({event_id:"1",description:"User viewed Route Dashboard Page",where_path:"/routeDashboard",page_name:"Route Dashboard Page"},e)},n.getSelectedGeographicalDetails=function(e){n.routeGroup=e.routeGroup,n.regionSelected=e.regionSelected,n.countrySelectedID=e.countrySelected,n.routeSelected=e.routeSelected,n.startDate=e.startDate,n.endDate=e.endDate,n.middleDashboardRef.current.setFilterValues({routeGroup:n.routeGroup,regionSelected:"All"===n.regionSelected?"Null":n.regionSelected,countrySelectedID:n.countrySelectedID,routeSelected:n.routeSelected,startDate:n.startDate,endDate:n.endDate})},n.state={displayModal:!1,resetPass:"",loading:!1},n.startDate="",n.endDate="",n.routeGroup="Null",n.regionSelected="Null",n.countrySelectedID="Null",n.routeSelected="Null",n.middleDashboardRef=o.a.createRef(),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){if(Ze("Dashboard","routeDashboard")){var e=b.getCookie("Authorization");this.sendEvent(e)}else this.props.history.push("/404")}},{key:"getResetPassStatus",value:function(){var e=b.getCookie("userDetails");"True"===JSON.parse(e).is_resetpwd&&this.setState({displayModal:!0})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ta,Object.assign({routeDash:!0,dashboard:!0,getSelectedGeographicalDetails:this.getSelectedGeographicalDetails},this.props)),o.a.createElement(wn,Object.assign({ref:this.middleDashboardRef},this.props)),o.a.createElement(na,{displayModal:this.state.displayModal}))}}]),a}(n.Component)),wn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={routeGroup:null,regionId:null,routeId:null,countryId:null,startDate:null,endDate:null},e}return Object(c.a)(a,[{key:"setFilterValues",value:function(e){var t=e.routeGroup,a=e.regionSelected,n=e.routeSelected,o=e.countrySelectedID,r=e.startDate,l=e.endDate;this.setState({startDate:r,endDate:l,routeGroup:t,regionId:a,countryId:o,routeId:n})}},{key:"render",value:function(){return o.a.createElement("div",{className:"RouteDashboard"},o.a.createElement("div",{className:"row tile_count"},o.a.createElement(Ke,Object.assign({startDate:this.state.startDate,endDate:this.state.endDate,routeGroup:this.state.routeGroup,regionId:this.state.regionId,countryId:this.state.countryId,routeId:this.state.routeId,dashboard:"Route"},this.props))),o.a.createElement(rn,Object.assign({startDate:this.state.startDate,endDate:this.state.endDate,routeGroup:this.state.routeGroup,regionId:this.state.regionId,countryId:this.state.countryId,routeId:this.state.routeId},this.props)),o.a.createElement("div",{className:"row tables"},o.a.createElement(vn,Object.assign({startDate:this.state.startDate,endDate:this.state.endDate,routeGroup:this.state.routeGroup,regionId:this.state.regionId,countryId:this.state.countryId,routeId:this.state.routeId},this.props))))}}]),a}(n.Component),_n=Cn,Dn=a(172),bn=a.n(Dn),Sn=(a(257),new Te),yn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getTileschartData(e)},n.getTileschartData=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.regionId,l=e.countryId,i=e.cityId;"TOP 20 DOMESTIC ROUTE SEARCH"===t.state.headerName?(n.setState({isLoading:!0,top20RoutesData:[]}),Sn.getDemographyTop10Routes(a,o,r,l,i,"Domestic").then((function(e){if(n.setState({isLoading:!1}),e){var t=e[0].Data;t.length>0&&n.setState({top20RoutesData:n.normalizeData(t)})}}))):(n.setState({isLoading:!0}),Sn.getDemographyTop10Routes(a,o,r,l,i,"International").then((function(e){if(n.setState({isLoading:!1,top20RoutesData:[]}),e){var t=e[0].Data;t.length>0&&n.setState({top20RoutesData:n.normalizeData(t)})}})))},n.normalizeData=function(e){for(var t=e.map((function(e){return e.label})),a=e.map((function(e){return e.value})),o=[],r=0;r<t.length;r++){var l={x:t[r].toUpperCase(),y:a[r]};o.push(l)}return n.setState({series:[{data:o}]}),o},n.state={top20RoutesData:[],colors:["#0571b0","#92c5de","#46b6ed","#4CAF50","#d5d5d5","#92c5de","#0571b0"],headerName:"TOP 20 DOMESTIC ROUTE SEARCH",isLoading:!1,series:[],options:{legend:{show:!0},tooltip:{style:{fontSize:"10px"},fixed:{enabled:!0,position:"topRight",offsetX:0,offsetY:0}},chart:{type:"treemap",offsetY:0,toolbar:{show:!1}},colors:["#3B93A5","#F7B844","#ADD8C7","#EC3C65","#CDD7B6","#C1F666","#D43F97","#1E5D8C","#421243","#7F94B0","#EF6537","#C0ADDB"],plotOptions:{treemap:{distributed:!0,enableShades:!1}}}},n}return Object(c.a)(a,[{key:"headerChange",value:function(e){var t=this;this.setState({headerName:e.target.value},(function(){return t.getTileschartData(t.props)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.top20RoutesData;return console.log("dom states",this.state),o.a.createElement("div",{className:"x_panel tile",style:{paddingTop:"0px",overflow:"visible"}},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("select",{class:"select header-dropdown responsive-size",onChange:function(t){return e.headerChange(t)}},o.a.createElement("option",null,"TOP 20 DOMESTIC ROUTE SEARCH"),o.a.createElement("option",null,"TOP 20 INTERNATIONAL ROUTE SEARCH")),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"}))),o.a.createElement("li",{onClick:function(){return e.props.history.push("/demographicReport")}},o.a.createElement("i",{className:"fa fa-line-chart"})))),a?o.a.createElement(We,null):0===n.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"topODAgent"}),o.a.createElement(bn.a,{options:this.state.options,series:this.state.series,type:"treemap",width:"95%",style:{overflowY:"scroll"}})))}}]),a}(n.Component),Nn=new Te,Tn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){var t=e.startDate,a=e.endDate,o=e.regionId,r=e.countryId,l=e.cityId,i=e.ODId;n.url="/geographyInReport",n.getPOSURL(o,r,l,i),n.setState({isLoading:!0}),Nn.getDemographyTop20LocationVisitors(t,a,o,r,l).then((function(e){if(n.setState({isLoading:!1}),e){var t=e[0].Data;if(t.length>20&&(t.length=20),t.length>0){for(var a=t.map((function(e){return e.label})),o=t.map((function(e){return e.value})),r=[],l=0;l<a.length;l++){var i={x:a[l]+".",y:parseInt(o[l])};r.push(i)}n.setState({series:[{name:"Geography",data:r}]})}}}))},n.normalizeData=function(e){for(var t=e.map((function(e){return e.label})),a=e.map((function(e){return e.value})),o=[],r=0;r<t.length;r++){var l={x:t[r],y:a[r]};o.push(l)}return n.setState({series:[{data:o}]}),console.log("states",n.state),e},n.state={locationVistorData:["hello"],colors:["#009688","#4CAF50","#03f574","#92c5de","#0571b0","#92c5de","#0571b0"],isLoading:!1,series:[],options:{xaxis:{labels:{show:!1}},legend:{show:!0},tooltip:{style:{fontSize:"10px"},fixed:{enabled:!0,position:"topLeft",offsetX:0,offsetY:0}},chart:{type:"treemap",redrawOnParentResize:!0,offsetY:0,toolbar:{show:!1},defaultLocale:"en"},colors:["#3B93A5","#F7B844","#ADD8C7","#EC3C65","#CDD7B6","#C1F666","#D43F97","#1E5D8C","#421243","#7F94B0","#EF6537","#C0ADDB"],plotOptions:{treemap:{distributed:!0,enableShades:!1}}}},n}return Object(c.a)(a,[{key:"getPOSURL",value:function(e,t,a,n){"Null"!==e&&(this.url="/geographyInReport?Region=".concat(H(e))),"Null"!==t&&(this.url="/geographyInReport?Region=".concat(H(e),"&Country=").concat(H(t)))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.locationVistorData;return console.log("geog states",this.state),o.a.createElement("div",{className:"x_panel tile"},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"Top 20 Geographical Location of Visitor"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"}))),o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),a?o.a.createElement(We,null):0===n.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"regionPerformnace2"}),o.a.createElement(bn.a,{options:this.state.options,series:this.state.series,type:"treemap",width:"95%",style:{overflowY:"scroll"}})))}}]),a}(n.Component),An=new Te,Rn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){n.getTileschartData(e)},n.getTileschartData=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.regionId,l=e.countryId,i=e.cityId;"BoughtVsDropout"===t.state.headerName?An.getDemographyUniqueVisitors(a,o,r,l,i,t.state.headerName).then((function(e){if(n.setState({isLoading:!1}),e){var t=e[0].Data;t.length>0&&(n.normalizeVsGraphData(t),n.setState({BoughtvsDropoutData:t}))}})):An.getDemographyUniqueVisitors(a,o,r,l,i,t.state.headerName).then((function(e){if(n.setState({isLoading:!1}),e){var t=e[0].Data;e.length>0&&n.setState({options2:{},BoughtvsDropoutData:[],SingleData:n.normalizeData(t)},(function(){return la(n.state.SingleData,n.state.colors,"segmentationB","segmentation")}))}}))},n.normalizeVsGraphData=function(e){var t=e.map((function(e){return e.label})),a={name:"Bought",color:"#42c7c9",data:e.map((function(e){return e.value1}))},o={name:"Dropout",color:"rgb(5, 113, 176)",data:e.map((function(e){return e.value2}))};return n.setState({series:[a,o],options2:{chart:{overflowY:"scroll",type:"bar",offsetY:0,height:300,stacked:!0,stackType:"100%",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!0}},stroke:{width:0,colors:["#000"]},title:{},xaxis:{categories:t,labels:{style:{cssClass:"hidegraphlabels"}}},tooltip:{style:{fontSize:"10px",color:"#dfdfdf"},x:{show:!1},y:{formatter:function(e){return e}}},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left",offsetX:100,offsetY:20,labels:{colors:"#fff",useSeriesColors:!1}}},SingleData:[]}),[a,o]},n.normalizeData=function(e){var t=[];return e.forEach((function(e){var a={category:"",values:[]};Object.keys(e).forEach((function(t,n){1==n?a.values.push({rate:"CY",value:e[t]}):2==n?a.values.push({rate:"LY",value:e[t]}):a.category=e[t].substr(0,3)})),t.push(a)})),t},n.state={headerName:"BoughtVsDropout",BoughtvsDropoutData:[],SingleData:[],colors:["#7852e2","#b09ee2","#009688","#4CAF50","#d5d5d5","#92c5de","#0571b0"],series:[],options2:{},options:{chart:{overflowY:"scroll",type:"bar",offsetY:0,height:300,stacked:!0,stackType:"100%",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!0}},stroke:{width:0,colors:["#000"]},title:{},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul"]},tooltip:{style:{fontSize:"10px",color:"#dfdfdf"},x:{show:!1},y:{formatter:function(e){return e+"K"}}},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left",offsetX:100,offsetY:20,labels:{colors:"#fff",useSeriesColors:!1}}}},n}return Object(c.a)(a,[{key:"graphChange",value:function(e){var t=this;this.setState({headerName:e.target.value},(function(){return t.getTileschartData(t.props)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.SingleData,l=t.BoughtvsDropoutData;t.options;return o.a.createElement("div",{className:"x_panel tile"},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"Unique Visitor"),o.a.createElement("div",{className:"nav navbar-right",style:{display:"flex",alignItems:"center",marginTop:"-2px"}},o.a.createElement("select",{class:"select header-dropdown responsive-size",onChange:function(t){return e.graphChange(t)}},o.a.createElement("option",{value:"BoughtVsDropout"},"Bought vs Dropout"),o.a.createElement("option",{value:"Bought"},"Bought"),o.a.createElement("option",{value:"Dropout"},"Dropout")),o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"}))),o.a.createElement("li",{style:{cursor:"pointer"},onClick:function(){return e.props.history.push("/demographicReport")}},o.a.createElement("i",{className:"fa fa-line-chart"})))),o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"salesAnalysis",style:{padding:"5px","padding-bottom":"0px"}}),n?o.a.createElement(We,null):"BoughtVsDropout"===this.state.headerName?0===l.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"17%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"segmentation"}),o.a.createElement(bn.a,{options:this.state.options2,series:this.state.series,type:"bar",width:"100%",style:{overflowY:"scroll"}})):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"17%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"segmentation"}),o.a.createElement(oa,{data:r,colors:a}))))}}]),a}(o.a.Component),Vn=new Te,Yn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getBarchartData(e)},n.getBarchartData=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.regionId,l=e.countryId,i=e.cityId;"Unique"===t.state.headerName?(n.setState({isLoading:!0,ageGroupData:[]}),Vn.getDemographyAgeGroupData(a,o,r,l,i,"Unique").then((function(e){if(n.setState({isLoading:!1}),e){var t=e[0].Data;t.length>0&&n.setState({ageGroupData:n.normalizeData(t)})}}))):(n.setState({isLoading:!0,ageGroupData:[]}),Vn.getDemographyAgeGroupData(a,o,r,l,i,"All").then((function(e){if(n.setState({isLoading:!1}),e){var t=e[0].Data;t.length>0&&n.setState({ageGroupData:n.normalizeData(t)})}})))},n.normalizeData=function(e){for(var t=e.map((function(e){return e.label})),a=e.map((function(e){return parseInt(e.value)})),o=e,r=0;r<t.length;r++){var l={x:t[r].toUpperCase(),y:a[r]};o.push(l)}return n.setState({series:[{name:"Count:",data:a}],options:{chart:{type:"bar",height:350,toolbar:{show:!1}},stroke:{width:0,colors:["#fff"]},plotOptions:{bar:{borderRadius:1,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:t,labels:{style:{cssClass:"hidegraphlabels"}}},tooltip:{style:{fontSize:"10px",color:"#fff"},x:{show:!1},y:{formatter:void 0,title:{formatter:function(e){return e}}}}}}),o},n.state={ageGroupData:[],colors:["#0571b0","#92c5de","#46b6ed","#4CAF50","#d5d5d5","#92c5de","#0571b0"],headerName:"Unique",isLoading:!1,series:[{data:[]}],options:{chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:1,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}},n}return Object(c.a)(a,[{key:"graphChange",value:function(e){var t=this;this.setState({headerName:e.target.value},(function(){return t.getBarchartData(t.props)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.ageGroupData;return o.a.createElement("div",{className:"x_panel tile",style:{paddingTop:"0px",overflow:"visible"}},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"Age Group"),o.a.createElement("div",{className:"nav navbar-right",style:{display:"flex",alignItems:"center",marginTop:"-2px"}},o.a.createElement("select",{class:"select header-dropdown responsive-size",onChange:function(t){return e.graphChange(t)}},o.a.createElement("option",null,"Unique"),o.a.createElement("option",null,"All")),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"}))),o.a.createElement("li",{onClick:function(){return e.props.history.push("/demographyAgeGroup")}},o.a.createElement("i",{className:"fa fa-line-chart"}))))),a?o.a.createElement(We,null):0===n.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"topODAgent"}),o.a.createElement(bn.a,{options:this.state.options,series:this.state.series,type:"bar",style:{overflowY:"scroll"}})))}}]),a}(n.Component),En=new Te,Ln=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getCardData(e)},n.getCardData=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.regionId,l=e.countryId,i=e.cityId;t.setState({loading:!0,cardData:[]}),En.getDemoBottomCards(a,o,r,l,i).then((function(e){t.setState({loading:!1}),e&&t.setState({cardData:e})}))},n.state={cardData:[],loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"cards-main"},this.state.cardData.length>0?this.state.cardData.map((function(e,t){return o.a.createElement("div",{id:"card_data",className:"cards"},o.a.createElement("div",{className:"card-top"},o.a.createElement("div",{className:"count_top"}," ",e.Name," "),o.a.createElement("div",{className:"count",id:e.Name}," ",window.numberFormat(e.CY)," ")),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},window.numberFormat(e.LY)," LY"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(q(window.numberFormat(e.VLY)))}),o.a.createElement("span",null,window.numberFormat(e.VLY),"% VLY"))),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},window.numberFormat(e.Budget)," BGT"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(q(window.numberFormat(e.VTG)))}),o.a.createElement("span",null,window.numberFormat(e.VTG),"% VTG"))))})):o.a.createElement("div",null))}}]),a}(n.Component),kn=(new Te,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).renderTop5OD=function(){return o.a.createElement(yn,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,regionId:n.props.regionId,countryId:n.props.countryId,cityId:n.props.cityId},n.props))},n.renderGeographycalChart=function(){return o.a.createElement(Tn,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,regionId:n.props.regionId,countryId:n.props.countryId,cityId:n.props.cityId,ODId:n.props.ODId},n.props))},n.renderSalesAnalysis=function(){return o.a.createElement(Rn,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,regionId:n.props.regionId,countryId:n.props.countryId,cityId:n.props.cityId},n.props))},n.renderDemographyAgeChart=function(){return o.a.createElement(Yn,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,regionId:n.props.regionId,countryId:n.props.countryId,cityId:n.props.cityId},n.props))},n.renderCards=function(){return o.a.createElement(Ln,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,regionId:n.props.regionId,countryId:n.props.countryId,cityId:n.props.cityId},n.props))},n.state={},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"row graphs"},o.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12 graph"},this.renderTop5OD(),this.renderGeographycalChart()),o.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12 graph"},this.renderSalesAnalysis(),this.renderDemographyAgeChart()),this.renderCards())}}]),a}(n.Component)),Bn=new Te,In=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.regionId,l=e.countryId,i=e.cityId;t.setState({loading:!0,enrichTierTable:[]}),Bn.getEnrichTiertable(a,o,r,l,i).then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].rowData,o=e[0].totalData;t.setState({enrichTierTable:n,enrichTierColumn:a,totalData:o})}}))},n.state={enrichTierTable:[],enrichTierColumn:[],totalData:[],loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("h2",null,"Enrich Tier"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"})),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.enrichTierTable,columnDefs:this.state.enrichTierColumn,dashboard:!0,loading:this.state.loading,height:"20vh"}),o.a.createElement(ba,{rowData:this.state.totalData,columnDefs:this.state.enrichTierColumn,loading:this.state.loading,dashboard:!0,reducingPadding:!0})))}}]),a}(n.Component),On=new Te,Pn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.routeGroup,l=e.regionId,i=e.countryId,c=e.cityId,s=e.routeId,u=e.posDashboard;n.url="/pos",n.getPOSURL(l,i,c),t.setState({loading:!0,NationalityData:[]}),On.getNationalityTableItems(a,o,r,l,i,c,s,u).then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].ancillaryDetails,o=e[0].totalData;t.setState({NationalityData:n,NationalityColumn:a,totalData:o})}}))},n.state={NationalityData:[],NationalityColumn:[],totalData:[],loading:!1},n}return Object(c.a)(a,[{key:"getPOSURL",value:function(e,t,a,n){window.localStorage.getItem("ODSelected");"Null"!==e&&(this.url="/pos?Region=".concat(H(e))),"Null"!==t&&(this.url="/pos?Region=".concat(H(e),"&Country=").concat(H(t))),"Null"!==a&&(this.url="/pos?Region=".concat(H(e),"&Country=").concat(H(t),"&POS=").concat(H(a))),"Null"!==n&&(this.url="/pos?Region=".concat(H(e),"&Country=").concat(H(t),"&POS=").concat(H(a),"&").concat(encodeURIComponent("O&D"),"=").concat(H(n)))}},{key:"render",value:function(){"?ancillary=".concat(!0);return"/pos"!==this.url&&"&ancillary=".concat(!0),o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("h2",null,"Top 10 Nationality"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"})),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.NationalityData,columnDefs:this.state.NationalityColumn,dashboard:!0,loading:this.state.loading,height:"20vh"}),o.a.createElement(ba,{rowData:this.state.totalData,columnDefs:this.state.NationalityColumn,loading:this.state.loading,dashboard:!0,reducingPadding:!0})))}}]),a}(n.Component),Mn=new Te,Fn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.regionId,l=e.countryId,i=e.cityId;t.setState({loading:!0,FlightPurchaseData:[]}),Mn.getFlightPurchaseTable(a,o,r,l,i).then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].rowData,o=e[0].totalData;t.setState({FlightPurchaseData:n,FlightPurchaseColumn:a,totalData:o})}}))},n.state={FlightPurchaseData:[],FlightPurchaseColumn:[],loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("h2",null,"Advance Flight Purchase Range"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"})),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.FlightPurchaseData,columnDefs:this.state.FlightPurchaseColumn,dashboard:!0,loading:this.state.loading,height:"20vh"}),o.a.createElement(ba,{rowData:this.state.totalData,columnDefs:this.state.FlightPurchaseColumn,loading:this.state.loading,dashboard:!0,reducingPadding:!0})))}}]),a}(n.Component),Gn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"x_panel"},o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(In,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,regionId:this.props.regionId,countryId:this.props.countryId,cityId:this.props.cityId},this.props))),o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(Pn,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,regionId:this.props.regionId,countryId:this.props.countryId,cityId:this.props.cityId,posDashboard:!0},this.props))),o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(Fn,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,regionId:this.props.regionId,countryId:this.props.countryId,cityId:this.props.cityId},this.props))))}}]),a}(n.Component),xn=(new Date,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e){R.sendEventWithHeader({event_id:"1",description:"User viewed demographyDashboard Dashboard Page",where_path:"/demographyDashboard",page_name:"demographyDashboard Dashboard Page"},e)},n.getPOSSelectedGeographicalDetails=function(e){n.regionSelected=e.regionSelected,n.countrySelectedID=e.countrySelected,n.citySelected=e.citySelected,n.ODSelected=e.ODSelected,n.startDate=e.startDate,n.endDate=e.endDate,n.middleDashboardRef.current.setFilterValues({regionSelected:"All"===n.regionSelected?"Null":n.regionSelected,countrySelectedID:n.countrySelectedID,citySelected:n.citySelected,ODSelected:n.ODSelected,startDate:n.startDate,endDate:n.endDate})},n.state={displayModal:!1,resetPass:"",loading:!1},n.startDate="",n.endDate="",n.regionSelected="Null",n.countrySelectedID="Null",n.citySelected="Null",n.ODSelected="Null",n.middleDashboardRef=o.a.createRef(),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){if(Ze("Dashboard","posDashboard")){var e=b.getCookie("Authorization");this.sendEvent(e)}else this.props.history.push("/404")}},{key:"getResetPassStatus",value:function(){var e=b.getCookie("userDetails");"True"===JSON.parse(e).is_resetpwd&&this.setState({displayModal:!0})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ta,Object.assign({dashboard:!0,Demography:!0,getPOSSelectedGeographicalDetails:this.getPOSSelectedGeographicalDetails},this.props)),o.a.createElement(jn,Object.assign({ref:this.middleDashboardRef},this.props)),o.a.createElement(na,{displayModal:this.state.displayModal}))}}]),a}(n.Component)),jn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={gettingMonth:null,regionId:null,cityId:null,ODId:null,countryId:null,startDate:null,endDate:null},n}return Object(c.a)(a,[{key:"setFilterValues",value:function(e){var t=e.gettingMonth,a=e.regionSelected,n=e.citySelected,o=e.ODSelected,r=e.countrySelectedID,l=e.startDate,i=e.endDate;this.setState({gettingMonth:t,regionId:a,cityId:n,ODId:o,countryId:r,startDate:l,endDate:i})}},{key:"render",value:function(){return o.a.createElement("div",{className:"DemographyDashboard"},o.a.createElement("div",{className:"row tile_count"},o.a.createElement(Ke,Object.assign({startDate:this.state.startDate,endDate:this.state.endDate,regionId:this.state.regionId,countryId:this.state.countryId,cityId:this.state.cityId,dashboard:"Demography"},this.props))),o.a.createElement(kn,Object.assign({startDate:this.state.startDate,endDate:this.state.endDate,regionId:this.state.regionId,countryId:this.state.countryId,cityId:this.state.cityId,ODId:this.state.ODId},this.props)),o.a.createElement("div",{className:"row tables"},o.a.createElement(Gn,Object.assign({startDate:this.state.startDate,endDate:this.state.endDate,regionId:this.state.regionId,countryId:this.state.countryId,cityId:this.state.cityId},this.props))))}}]),a}(n.Component),Wn=xn,Zn=new Te,Hn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=Object(je.a)(n),a=e.gettingYear,o=e.gettingMonth,r=e.regionId,l=e.countryId,i=e.cityId,c=e.currency;t.setState({loading:!0}),Zn.getTopAgentWithOD(a,o,r,l,i,c).then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].rowData;t.setState({agentData:n,column:a})}}))},n.state={agentData:[],odData:[],column:[],loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title",style:{marginTop:"5px"}},o.a.createElement("h2",null,"Top 10 Agents with Top 5 OD's by Incremental Revenue"),o.a.createElement("div",{className:"clearfix"})),this.state.loading?o.a.createElement(We,null):this.state.agentData.length>0?o.a.createElement("div",{className:"agents-tables"},this.state.agentData.map((function(t,a){return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title",style:{borderBottom:"none"}},o.a.createElement("h2",null,"".concat(a+1,". ").concat(t.AgentName))),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:t.Data,columnDefs:e.state.column,autoHeight:"autoHeight"})))}))):o.a.createElement("h4",{style:{textAlign:"center",marginTop:"10%"}},"No data to show"))}}]),a}(n.Component),Un=new Te,Jn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=e.gettingYear,a=e.gettingMonth,o=e.regionId,r=e.countryId,l=e.cityId,i=e.currency;n.setState({loading:!0}),Un.getIncrementalRO(t,a,o,r,l,i).then((function(e){if(n.setState({loading:!1}),e){var t=e[0].columnName,a=e[0].rowData,o=e[0].totalData;n.setState({channelData:a,channelColumn:t,totalData:o,totalRO:o[0].RO})}}))},n.state={channelData:[],channelColumn:[],totalData:[],totalRO:"",loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("h2",null,"The Incremental Revenue Opportunity is  ","\xa0",o.a.createElement("span",{className:"total-RO"},"".concat(this.state.totalRO," (").concat(this.props.currency,")"))),o.a.createElement("div",{className:"clearfix"})),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.channelData,columnDefs:this.state.channelColumn,agentdashboard:!0,loading:this.state.loading}),o.a.createElement(ba,{rowData:this.state.totalData,columnDefs:this.state.channelColumn,loading:this.state.loading})))}}]),a}(n.Component),Kn=(a(600),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){e.countryId!==n.props.countryId&&n.setState({country:e.countryId},(function(){"Null"===n.state.country&&n.setState({currency:"BC"})}))},n.toggle=function(e){var t=e.target.value;n.setState({currency:t})},n.state={currency:"BC",country:"Null"},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"x_panel"},o.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12 channel"},o.a.createElement("div",{className:"currency-selection"},o.a.createElement("h4",null,"Select Currency :"),o.a.createElement("select",{className:"form-control cabinselect currency-dropdown",onChange:function(t){return e.toggle(t)},disabled:"Null"===this.state.country},o.a.createElement("option",{value:"BC",selected:"Null"===this.state.country||"BC"===this.state.currency},"BC"),o.a.createElement("option",{value:"LC"},"LC"))),o.a.createElement(Jn,{gettingYear:this.props.gettingYear,gettingMonth:this.props.gettingMonth,regionId:this.props.regionId,countryId:this.props.countryId,cityId:this.props.cityId,currency:this.state.currency})),o.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12 anciallary"},o.a.createElement(Hn,{gettingYear:this.props.gettingYear,gettingMonth:this.props.gettingMonth,regionId:this.props.regionId,countryId:this.props.countryId,cityId:this.props.cityId,currency:this.state.currency})))}}]),a}(n.Component)),zn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e){R.sendEventWithHeader({event_id:"1",description:"User viewed Agent Dashboard Page",where_path:"/decisionMakingDashboard",page_name:"Decision Making Dashboard Dashboard Page"},e)},n.getPOSSelectedGeographicalDetails=function(e){window.monthNumToName((new Date).getMonth()+1);n.regionSelected=e.regionSelected,n.countrySelected=e.countrySelected,n.citySelected=e.citySelected,n.gettingMonth=e.gettingMonth,n.gettingYear=e.gettingYear,n.middleDashboardRef.current.setFilterValues({regionSelected:"All"===n.regionSelected?"Null":n.regionSelected,countrySelected:n.countrySelected,citySelected:n.citySelected,gettingMonth:n.gettingMonth,gettingYear:n.gettingYear})},n.formatDate=function(e){var t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),[n,t,a].join("-")},n.state={displayModal:!1,resetPass:"",loading:!1},n.regionSelected="Null",n.countrySelected="Null",n.citySelected="Null",n.gettingMonth="Null",n.gettingYear="Null",n.middleDashboardRef=o.a.createRef(),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){if(Ze("Dashboard","decisionMakingDashboard")){var e=b.getCookie("Authorization");this.sendEvent(e)}else this.props.history.push("/404")}},{key:"getResetPassStatus",value:function(){var e=b.getCookie("userDetails");"True"===JSON.parse(e).is_resetpwd&&this.setState({displayModal:!0})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(ta,Object.assign({agentDashboard:!0,citySelected:this.citySelected,dashboard:!0,getPOSSelectedGeographicalDetails:this.getPOSSelectedGeographicalDetails},this.props)),o.a.createElement(m.b,{path:"/",component:function(){return o.a.createElement(qn,{ref:e.middleDashboardRef})}}),o.a.createElement(na,{displayModal:this.state.displayModal}))}}]),a}(n.Component),qn=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={gettingYear:"Null",gettingMonth:"Null",regionId:"Null",cityId:"Null",countryId:"Null"},e}return Object(c.a)(a,[{key:"setFilterValues",value:function(e){var t=e.gettingYear,a=e.gettingMonth,n=e.regionSelected,o=e.citySelected,r=e.countrySelected;this.setState({gettingMonth:a,regionId:n,cityId:o,countryId:r,gettingYear:t})}},{key:"render",value:function(){return o.a.createElement("div",{className:"AgentDashboard"},o.a.createElement("div",{className:"row"},o.a.createElement(Kn,{gettingYear:this.state.gettingYear,gettingMonth:this.state.gettingMonth,regionId:this.state.regionId,countryId:this.state.countryId,cityId:this.state.cityId})))}}]),a}(n.Component),Xn=zn,Qn=(a(204),new Te),$n=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getGraphData(e)},n.periodChange=function(e){e.stopPropagation(),n.setState({selectedDelta:e.target.value},(function(){n.getGraphData(n.props)}))},n.state={revenueData:[],isLoading:!1,colors:["#009688","#44c94a","#49e8a4","#0571b0","#92c5de","#0571b0"],selectedTrend:"Day",selectedDelta:"abs"},n}return Object(c.a)(a,[{key:"getGraphData",value:function(e){var t=this,a=e.startDate,n=e.endDate,o=e.routeGroup,r=e.regionId,l=e.countryId,i=e.routeId,c=this.state,s=c.selectedTrend,u=c.selectedDelta,d=H(o);this.getRouteURL(d,r,l,i),this.setState({isLoading:!0,revenueData:[]}),Qn.getRevenueBarChart(a,n,o,r,l,i,s).then((function(e){if(t.setState({isLoading:!1}),e&&e.length>0){var a=[].concat(Object(I.a)(e[0]),Object(I.a)(e[1]));a.length>0&&t.setState({revenueData:K(a,u)},(function(){return ma(t.state.revenueData,t.state.colors,"revenueL","revenue")}))}}))}},{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.revenueData,l=t.selectedTrend,i=Object(I.a)(new Set(r.map((function(e){return e.Category}))));return o.a.createElement("div",{className:"x_panel tile"},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"Revenue Budget"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("label",{className:"label"},"Delta:"),o.a.createElement("select",{class:"select",onChange:function(t){return e.periodChange(t)}},o.a.createElement("option",{value:"abs"},"Absolute"),o.a.createElement("option",{value:"percent"},"Percentage")),o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(da,{i:!0,colors:a,selectedTrend:l,data:i})),o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"revenue"}),o.a.createElement(da,{colors:a,selectedTrend:l,data:i})))}}]),a}(n.Component),eo=new Te,to=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getGraphData(e)},n.periodChange=function(e){e.stopPropagation(),n.setState({selectedDelta:e.target.value},(function(){n.getGraphData(n.props)}))},n.state={raskData:[],colors:["#c907ef","#e0b7eb","#f442bf","#92c5de","#0571b0","#92c5de","#0571b0"],isLoading:!1,selectedTrend:"Day",selectedDelta:"abs"},n}return Object(c.a)(a,[{key:"getGraphData",value:function(e){var t=this,a=e.startDate,n=e.endDate,o=e.routeGroup,r=e.regionId,l=e.countryId,i=e.routeId,c=this.state,s=c.selectedTrend,u=c.selectedDelta,d=H(o);this.getRouteURL(d,r,l,i),this.setState({isLoading:!0,raskData:[]}),eo.getRaskBarChart(a,n,o,r,l,i,s).then((function(e){if(t.setState({isLoading:!1}),e&&e.length>0){var a=[].concat(Object(I.a)(e[0]),Object(I.a)(e[1]));a.length>0&&t.setState({raskData:K(a,u)},(function(){return ma(t.state.raskData,t.state.colors,"raskL","rask")}))}}))}},{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.raskData,l=t.selectedTrend,i=Object(I.a)(new Set(r.map((function(e){return e.Category}))));return o.a.createElement("div",{className:"x_panel tile",style:{paddingBottom:"15px"}},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"RASK Budget"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("label",{className:"label"},"Delta:"),o.a.createElement("select",{class:"select",onChange:function(t){return e.periodChange(t)}},o.a.createElement("option",{value:"abs"},"Absolute"),o.a.createElement("option",{value:"percent"},"Percentage")),o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(da,{i:!0,colors:a,selectedTrend:l,data:i})),o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"rask"}),o.a.createElement(da,{colors:a,selectedTrend:l,data:i})))}}]),a}(n.Component),ao=new Te,no=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getGraphData(e)},n.periodChange=function(e){e.stopPropagation(),n.setState({selectedDelta:e.target.value},(function(){n.getGraphData(n.props)}))},n.state={yeildData:[],colors:["#7852e2","#b09ee2","#4547f0","#4CAF50","#d5d5d5","#92c5de","#0571b0"],isLoading:!1,selectedTrend:"Day",selectedDelta:"abs"},n}return Object(c.a)(a,[{key:"getGraphData",value:function(e){var t=this,a=e.startDate,n=e.endDate,o=e.routeGroup,r=e.regionId,l=e.countryId,i=e.routeId,c=this.state,s=c.selectedTrend,u=c.selectedDelta,d=H(o);this.getRouteURL(d,r,l,i),this.setState({isLoading:!0,yeildData:[]}),ao.getYeildBarChart(a,n,o,r,l,i,s).then((function(e){if(t.setState({isLoading:!1}),e&&e.length>0){var a=[].concat(Object(I.a)(e[0]),Object(I.a)(e[1]));a.length>0&&t.setState({yeildData:K(a,u)},(function(){return ma(t.state.yeildData,t.state.colors,"yeildL","yeild")}))}}))}},{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.yeildData,l=t.selectedTrend,i=Object(I.a)(new Set(r.map((function(e){return e.Category}))));return o.a.createElement("div",{className:"x_panel tile",style:{paddingBottom:"7px"}},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"YIELD Budget"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("label",{className:"label"},"Delta:"),o.a.createElement("select",{class:"select",onChange:function(t){return e.periodChange(t)}},o.a.createElement("option",{value:"abs"},"Absolute"),o.a.createElement("option",{value:"percent"},"Percentage")),o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(da,{i:!0,colors:a,selectedTrend:l,data:i})),o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"yeild"}),o.a.createElement(da,{colors:a,selectedTrend:l,data:i})))}}]),a}(n.Component),oo=new Te,ro=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getGraphData(e)},n.periodChange=function(e){e.stopPropagation(),n.setState({selectedDelta:e.target.value},(function(){n.getGraphData(n.props)}))},n.state={loadFactorData:[],colors:["#0571b0","#92c5de","#46b6ed","#4CAF50","#d5d5d5","#92c5de","#0571b0"],isLoading:!1,selectedTrend:"Day",selectedDelta:"abs"},n}return Object(c.a)(a,[{key:"getGraphData",value:function(e){var t=this,a=e.startDate,n=e.endDate,o=e.routeGroup,r=e.regionId,l=e.countryId,i=e.routeId,c=this.state,s=c.selectedTrend,u=c.selectedDelta,d=H(o);this.getRouteURL(d,r,l,i),this.setState({isLoading:!0,loadFactorData:[]}),oo.getLoadFactorBarChart(a,n,o,r,l,i,s).then((function(e){if(t.setState({isLoading:!1}),e&&e.length>0){var a=[].concat(Object(I.a)(e[0]),Object(I.a)(e[1]));a.length>0&&t.setState({loadFactorData:K(a,u)},(function(){return ma(t.state.loadFactorData,t.state.colors,"loadFactorL","loadFactor")}))}}))}},{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.loadFactorData,l=t.selectedTrend,i=Object(I.a)(new Set(r.map((function(e){return e.Category}))));return o.a.createElement("div",{className:"x_panel tile",style:{paddingBottom:"15px"}},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"LOAD FACTOR Budget"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("label",{className:"label"},"Delta:"),o.a.createElement("select",{class:"select",onChange:function(t){return e.periodChange(t)}},o.a.createElement("option",{value:"abs"},"Absolute"),o.a.createElement("option",{value:"percent"},"Percentage")),o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(da,{i:!0,colors:a,selectedTrend:l,data:i})),o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"loadFactor"}),o.a.createElement(da,{colors:a,selectedTrend:l,data:i})))}}]),a}(n.Component),lo=new Te,io=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getCardData(e)},n.getCardData=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.routeGroup,l=e.regionId,i=e.countryId,c=e.routeId;t.setState({loading:!0,cardData:[]}),lo.getRouteCards(a,o,r,l,i,c).then((function(e){t.setState({loading:!1}),e&&t.setState({cardData:e})}))},n.arrowIndicator=function(e){var t=e;return"0"===t||"string"!==typeof t?"":t.includes("B")||t.includes("M")||t.includes("K")?"fa fa-arrow-up":"number"===typeof(t=parseFloat(t))?t>0?"fa fa-arrow-up":"fa fa-arrow-down":void 0},n.state={cardData:[],loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"cards-main"},this.state.cardData.length>0?this.state.cardData.map((function(t,a){return o.a.createElement("div",{id:"card_data",className:"cards"},o.a.createElement("div",{className:"card-top"},o.a.createElement("span",{className:"count_top"}," ",t.Name," "),o.a.createElement("div",{className:"count",id:t.Name}," ",window.numberFormat(t.CY)," ")),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},window.numberFormat(t.LY)," LY"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(e.arrowIndicator(window.numberFormat(t.VLY)))}),o.a.createElement("span",null,window.numberFormat(t.VLY),"% VLY"))),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},window.numberFormat(t.Budget)," BGT"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(e.arrowIndicator(window.numberFormat(t.VTG)))}),o.a.createElement("span",null,window.numberFormat(t.VTG),"% VTG"))))})):o.a.createElement("div",null))}}]),a}(n.Component),co=(new Te,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).renderRevenueBudget=function(){return o.a.createElement($n,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,routeGroup:n.props.routeGroup,regionId:n.props.regionId,countryId:n.props.countryId,routeId:n.props.routeId},n.props))},n.renderRaskBudget=function(){return o.a.createElement(to,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,routeGroup:n.props.routeGroup,regionId:n.props.regionId,countryId:n.props.countryId,routeId:n.props.routeId},n.props))},n.renderYeildBudget=function(){return o.a.createElement(no,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,routeGroup:n.props.routeGroup,regionId:n.props.regionId,countryId:n.props.countryId,routeId:n.props.routeId},n.props))},n.renderLoadFactorBudget=function(){return o.a.createElement(ro,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,routeGroup:n.props.routeGroup,regionId:n.props.regionId,countryId:n.props.countryId,routeId:n.props.routeId},n.props))},n.renderCardsRRP=function(){return o.a.createElement(io,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,routeGroup:n.props.routeGroup,regionId:n.props.regionId,countryId:n.props.countryId,routeId:n.props.routeId},n.props))},n.state={},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"row graphs"},o.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12 graph"},this.renderRevenueBudget(),this.renderRaskBudget()),o.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12 graph"},this.renderYeildBudget(),this.renderLoadFactorBudget()),this.renderCardsRRP())}}]),a}(n.Component)),so=new Te,uo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.routeGroup,l=e.regionId,i=e.countryId,c=e.routeId,s=H(r);n.getRouteURL(s,l,i,c),t.setState({loading:!0,RegionBudget:[]}),so.getRegionBudgetTable(a,o,r,l,i,c).then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].rowData,o=e[0].totalData,r=e[0].tableHead;t.setState({RegionBudget:n,totalData:o,RegionBudgetColumn:a,headerName:r})}}))},n.state={RegionBudget:[],totalData:[],RegionBudgetColumn:[],headerName:"",loading:!1},n}return Object(c.a)(a,[{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"render",value:function(){var e=this,t=this.state,a=t.RegionBudget,n=t.totalData,r=t.RegionBudgetColumn,l=t.loading,i=t.headerName;return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("h2",null,"".concat(i," Budget")),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:a,columnDefs:r,dashboard:!0,channel:!0,loading:l,height:"20vh"}),o.a.createElement(ba,{rowData:n,columnDefs:r,loading:l,dashboard:!0,reducingPadding:!0})))}}]),a}(n.Component),mo=new Te,ho=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.routeGroup,l=e.regionId,i=e.countryId,c=e.cityId,s=e.routeId,u=e.posDashboard;t.setState({loading:!0,cabinData:[]});var d=H(r);n.getRouteURL(d,l,i,s),mo.getCabinBudget(a,o,r,l,i,c,s,u).then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].ancillaryDetails,o=e[0].totalData;t.setState({cabinData:n,cabinColumn:a,totalData:o})}}))},n.state={cabinData:[],cabinColumn:[],totalData:[],loading:!1},n}return Object(c.a)(a,[{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("h2",null,"Cabin Budget"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.cabinData,columnDefs:this.state.cabinColumn,dashboard:!0,loading:this.state.loading,height:"20vh"}),o.a.createElement(ba,{rowData:this.state.totalData,columnDefs:this.state.cabinColumn,loading:this.state.loading,dashboard:!0,reducingPadding:!0})))}}]),a}(n.Component),go=new Te,po=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){n.getRouteData(e)},n.headerChange=function(e){n.setState({headerName:e.target.value},(function(){return n.getRouteData(n.props)}))},n.state={routesData:[],routesColumn:[],headerName:"",loading:!1},n}return Object(c.a)(a,[{key:"getRouteData",value:function(e){var t=this,a=e.startDate,n=e.endDate,o=e.routeGroup,r=e.regionId,l=e.countryId,i=e.routeId,c=H(o);this.getRouteURL(c,r,l,i),"BOTTOM 5 ROUTES"===this.state.headerName?(t.setState({loading:!0,routesData:[]}),go.getRouteBudgetTable(a,n,o,r,l,i,"asc").then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].rowData;t.setState({routesData:n,routesColumn:a})}}))):(t.setState({loading:!0,routesData:[]}),go.getRouteBudgetTable(a,n,o,r,l,i,"desc").then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].rowData;t.setState({routesData:n,routesColumn:a})}})))}},{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/route?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("select",{class:"select header-dropdown",onChange:function(t){return e.headerChange(t)}},o.a.createElement("option",null,"TOP 5 ROUTES"),o.a.createElement("option",null,"BOTTOM 5 ROUTES")),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),o.a.createElement(Da,{rowData:this.state.routesData,columnDefs:this.state.routesColumn,dashboard:!0,routeDashboard:!0,loading:this.state.loading,height:"22vh"}))}}]),a}(n.Component),fo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"x_panel"},o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(uo,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,routeGroup:this.props.routeGroup,regionId:this.props.regionId,countryId:this.props.countryId,routeId:this.props.routeId},this.props))),o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(ho,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,routeGroup:this.props.routeGroup,regionId:this.props.regionId,countryId:this.props.countryId,routeId:this.props.routeId,posDashboard:!1},this.props))),o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(po,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,routeGroup:this.props.routeGroup,regionId:this.props.regionId,countryId:this.props.countryId,routeId:this.props.routeId},this.props))))}}]),a}(n.Component),vo=(new Date,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e){R.sendEventWithHeader({event_id:"1",description:"User viewed Route Revenue Planning Dashboard Page",where_path:"/routeRevenuePlanning",page_name:"Route Revenue Planning Dashboard Page"},e)},n.getSelectedGeographicalDetails=function(e){n.routeGroup=e.routeGroup,n.regionSelected=e.regionSelected,n.countrySelectedID=e.countrySelected,n.routeSelected=e.routeSelected,n.startDate=e.startDate,n.endDate=e.endDate,n.middleDashboardRef.current.setFilterValues({routeGroup:n.routeGroup,regionSelected:"All"===n.regionSelected?"Null":n.regionSelected,countrySelectedID:n.countrySelectedID,routeSelected:n.routeSelected,startDate:n.startDate,endDate:n.endDate})},n.state={displayModal:!1,resetPass:"",loading:!1},n.startDate="",n.endDate="",n.routeGroup="Null",n.regionSelected="Null",n.countrySelectedID="Null",n.routeSelected="Null",n.middleDashboardRef=o.a.createRef(),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){if(Ze("Dashboard","routeRevenuePlanning")){var e=b.getCookie("Authorization");this.sendEvent(e)}else this.props.history.push("/404")}},{key:"getResetPassStatus",value:function(){var e=b.getCookie("userDetails");"True"===JSON.parse(e).is_resetpwd&&this.setState({displayModal:!0})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ta,Object.assign({routeDash:!0,dashboard:!0,getSelectedGeographicalDetails:this.getSelectedGeographicalDetails},this.props,{monthRange:"nextYear"})),o.a.createElement(Co,Object.assign({ref:this.middleDashboardRef},this.props)),o.a.createElement(na,{displayModal:this.state.displayModal}))}}]),a}(n.Component)),Co=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={routeGroup:null,regionId:null,routeId:null,countryId:null,startDate:null,endDate:null},e}return Object(c.a)(a,[{key:"setFilterValues",value:function(e){var t=e.routeGroup,a=e.regionSelected,n=e.routeSelected,o=e.countrySelectedID,r=e.startDate,l=e.endDate;this.setState({startDate:r,endDate:l,routeGroup:t,regionId:a,countryId:o,routeId:n})}},{key:"render",value:function(){return o.a.createElement("div",{className:"RouteRevenuePlanning"},o.a.createElement("div",{className:"row tile_count"},o.a.createElement(Ke,Object.assign({startDate:this.state.startDate,endDate:this.state.endDate,routeGroup:this.state.routeGroup,regionId:this.state.regionId,countryId:this.state.countryId,routeId:this.state.routeId,dashboard:"Route Revenue Planning"},this.props))),o.a.createElement(co,Object.assign({startDate:this.state.startDate,endDate:this.state.endDate,routeGroup:this.state.routeGroup,regionId:this.state.regionId,countryId:this.state.countryId,routeId:this.state.routeId},this.props)),o.a.createElement("div",{className:"row tables"},o.a.createElement(fo,Object.assign({startDate:this.state.startDate,endDate:this.state.endDate,routeGroup:this.state.routeGroup,regionId:this.state.regionId,countryId:this.state.countryId,routeId:this.state.routeId},this.props))))}}]),a}(n.Component),wo=vo,_o=new Te,Do=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){n.getIndicatorsData(e)},n.getIndicatorsData=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.routeGroup,l=e.regionId,i=e.countryId,c=e.cityId,s=e.routeId,u=e.dashboard;t.setState({loading:!0,indicatorsDatas:[]}),_o.getIndicatorsData(a,o,r,l,i,c,s,u).then((function(e){t.setState({loading:!1}),e&&t.setState({indicatorsDatas:e})}))},n.state={indicatorsDatas:[],indicatorsDivWidth:"",loading:!1},n}return Object(c.a)(a,[{key:"redirectToDDSChart",value:function(){this.props.history.push("/DDSChart")}},{key:"render",value:function(){var e=this,t=this.props.dashboard,a=this.state,n=a.indicatorsDatas;return a.loading?o.a.createElement("div",{className:"no-indicators"},o.a.createElement(We,null)):0===n.length?o.a.createElement("h4",{className:"no-indicators"},"No Indicators to show"):o.a.createElement("div",null,n.map((function(e,a){return o.a.createElement("div",{id:"indicator_data",className:"col-sm-4 col-xs-6 tile_stats_count"},o.a.createElement("div",{className:"indicator-top"},o.a.createElement("div",{className:"count_top"}," ",e.Name," "),o.a.createElement("div",{className:"count",id:e.Name}," ",window.numberFormat(e.CY)," ")),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},window.numberFormat(e.LY)," LY"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(e.Name.includes("C")?X(window.numberFormat(e.VLY)):q(window.numberFormat(e.VLY)))}),o.a.createElement("span",null,window.numberFormat(e.VLY),"% VLY"))),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},window.numberFormat(e.Budget)," BGT"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(e.Name.includes("C")?X(window.numberFormat(e.VTG)):q(window.numberFormat(e.VTG)))}),o.a.createElement("span",null,window.numberFormat(e.VTG),"% ","".concat("Route Profitability"===t?"VBGT":"VTG")))))})),"Pos"===this.props.dashboard?o.a.createElement("button",{className:"btn dds-chart-btn search",onClick:function(){return e.redirectToDDSChart()}},"DDS CHART"):"")}}]),a}(n.Component),bo=(a(205),new Te),So=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getGraphData(e)},n.periodChange=function(e){e.stopPropagation(),n.setState({selectedDelta:e.target.value},(function(){n.getGraphData(n.props)}))},n.state={revenueData:[],isLoading:!1,colors:["#009688","#44c94a","#49e8a4","#0571b0","#92c5de","#0571b0"],selectedTrend:"Day",selectedDelta:"abs"},n}return Object(c.a)(a,[{key:"getGraphData",value:function(e){var t=this,a=e.startDate,n=e.endDate,o=e.routeGroup,r=e.regionId,l=e.countryId,i=e.routeId,c=this.state,s=c.selectedTrend,u=c.selectedDelta,d=H(o);this.url="/routeProfitabilitySolution?RouteGroup=".concat(d),this.getRouteURL(d,r,l,i),this.setState({isLoading:!0,revenueData:[]}),bo.getSurplusDeficitBarChart(a,n,o,r,l,i,s).then((function(e){if(t.setState({isLoading:!1}),e&&e.length>0){var a=[].concat(Object(I.a)(e[0]),Object(I.a)(e[1]));a.length>0&&t.setState({revenueData:K(a,u)},(function(){return ma(t.state.revenueData,t.state.colors,"revenueL","revenue")}))}}))}},{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.revenueData,l=t.selectedTrend,i=Object(I.a)(new Set(r.map((function(e){return e.Category}))));return o.a.createElement("div",{className:"x_panel tile"},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"Surplus/(Deficit)"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(da,{i:!0,colors:a,selectedTrend:l,data:i})),o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"revenue"}),o.a.createElement(da,{colors:a,selectedTrend:l,data:i})))}}]),a}(n.Component),yo=new Te,No=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getGraphData(e)},n.periodChange=function(e){e.stopPropagation(),n.setState({selectedDelta:e.target.value},(function(){n.getGraphData(n.props)}))},n.state={raskData:[],colors:["#c907ef","#e0b7eb","#f442bf","#92c5de","#0571b0","#92c5de","#0571b0"],isLoading:!1,selectedTrend:"Day",selectedDelta:"abs"},n}return Object(c.a)(a,[{key:"getGraphData",value:function(e){var t=this,a=e.startDate,n=e.endDate,o=e.routeGroup,r=e.regionId,l=e.countryId,i=e.routeId,c=this.state,s=c.selectedTrend,u=c.selectedDelta,d=H(o);this.url="/routeProfitabilitySolution?RouteGroup=".concat(d),this.getRouteURL(d,r,l,i),"BREAKEVEN LOAD FACTOR"===this.state.headerName?(this.setState({isLoading:!0,raskData:[]}),yo.getBreakevenLoadFactorAvgBarChart(a,n,o,r,l,i,s,"LoadFactor").then((function(e){if(t.setState({isLoading:!1}),e&&e.length>0){var a=[].concat(Object(I.a)(e[0]),Object(I.a)(e[1]));a.length>0&&t.setState({raskData:K(a,u)},(function(){return ma(t.state.raskData,t.state.colors,"raskL","rask")}))}}))):(this.setState({isLoading:!0,raskData:[]}),yo.getBreakevenLoadFactorAvgBarChart(a,n,o,r,l,i,s,"AvgFare").then((function(e){if(t.setState({isLoading:!1}),e&&e.length>0){var a=[].concat(Object(I.a)(e[0]),Object(I.a)(e[1]));a.length>0&&t.setState({raskData:K(a,u)},(function(){return ma(t.state.raskData,t.state.colors,"raskL","rask")}))}})))}},{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"headerChange",value:function(e){var t=this;this.setState({headerName:e.target.value},(function(){return t.getGraphData(t.props)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.raskData,l=t.selectedTrend,i=Object(I.a)(new Set(r.map((function(e){return e.Category}))));return o.a.createElement("div",{className:"x_panel tile",style:{paddingBottom:"15px"}},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("select",{class:"select header-dropdown responsive-size",onChange:function(t){return e.headerChange(t)}},o.a.createElement("option",null,"BREAKEVEN AVG FARE"),o.a.createElement("option",null,"BREAKEVEN LOAD FACTOR")),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(da,{i:!0,colors:a,selectedTrend:l,data:i})),o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"rask"}),o.a.createElement(da,{colors:a,selectedTrend:l,data:i})))}}]),a}(n.Component),To=new Te,Ao=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getGraphData(e)},n.periodChange=function(e){e.stopPropagation(),n.setState({selectedDelta:e.target.value},(function(){n.getGraphData(n.props)}))},n.state={yeildData:[],colors:["#7852e2","#b09ee2","#4547f0","#4CAF50","#d5d5d5","#92c5de","#0571b0"],isLoading:!1,selectedTrend:"Day",selectedDelta:"abs"},n}return Object(c.a)(a,[{key:"getGraphData",value:function(e){var t=this,a=e.startDate,n=e.endDate,o=e.routeGroup,r=e.regionId,l=e.countryId,i=e.routeId,c=this.state,s=c.selectedTrend,u=c.selectedDelta,d=H(o);this.url="/routeProfitabilitySolution?RouteGroup=".concat(d),this.getRouteURL(d,r,l,i),"RASK"===this.state.headerName?(this.setState({isLoading:!0,yeildData:[]}),To.getCaskRaskBarChart(a,n,o,r,l,i,s,"RASK").then((function(e){if(t.setState({isLoading:!1}),e&&e.length>0){var a=[].concat(Object(I.a)(e[0]),Object(I.a)(e[1]));Q(a)||t.setState({yeildData:K(a,u)},(function(){return ma(t.state.yeildData,t.state.colors,"yeildL","yeild")}))}}))):(this.setState({isLoading:!0,yeildData:[]}),To.getCaskRaskBarChart(a,n,o,r,l,i,s,"CASK").then((function(e){if(t.setState({isLoading:!1}),e&&e.length>0){var a=[].concat(Object(I.a)(e[0]),Object(I.a)(e[1]));Q(a)||t.setState({yeildData:K(a,u)},(function(){return ma(t.state.yeildData,t.state.colors,"yeildL","yeild")}))}})))}},{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"headerChange",value:function(e){var t=this;this.setState({headerName:e.target.value},(function(){return t.getGraphData(t.props)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.yeildData,l=t.selectedTrend,i=Object(I.a)(new Set(r.map((function(e){return e.Category}))));return o.a.createElement("div",{className:"x_panel tile",style:{paddingBottom:"7px"}},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("select",{class:"select header-dropdown responsive-size",onChange:function(t){return e.headerChange(t)}},o.a.createElement("option",null,"CASK"),o.a.createElement("option",null,"RASK")),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(da,{i:!0,colors:a,selectedTrend:l,data:i})),o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"yeild"}),o.a.createElement(da,{colors:a,selectedTrend:l,data:i})))}}]),a}(n.Component),Ro=new Te,Vo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getGraphData(e)},n.periodChange=function(e){e.stopPropagation(),n.setState({selectedDelta:e.target.value},(function(){n.getGraphData(n.props)}))},n.state={loadFactorData:[],colors:["#0571b0","#92c5de","#46b6ed","#4CAF50","#d5d5d5","#92c5de","#0571b0"],isLoading:!1,selectedTrend:"Day",selectedDelta:"abs",headerName:"FOREX(MYR/USD)"},n}return Object(c.a)(a,[{key:"getGraphData",value:function(e){var t=this,a=e.startDate,n=e.endDate,o=e.routeGroup,r=e.regionId,l=e.countryId,i=e.routeId,c=this.state,s=c.selectedTrend,u=c.selectedDelta,d=H(o);this.url="/routeProfitabilitySolution?RouteGroup=".concat(d),this.getRouteURL(d,r,l,i),"FUEL PRICE(USD)"===this.state.headerName?(this.setState({isLoading:!0,loadFactorData:[]}),Ro.getForexFuelBarChart(a,n,o,r,l,i,s,"Fuel").then((function(e){if(t.setState({isLoading:!1}),e&&e.length>0){var a=[].concat(Object(I.a)(e[0]),Object(I.a)(e[1]));Q(a)||t.setState({loadFactorData:K(a,u)},(function(){return ma(t.state.loadFactorData,t.state.colors,"loadFactorL","loadFactor")}))}}))):(this.setState({isLoading:!0,loadFactorData:[]}),Ro.getForexFuelBarChart(a,n,o,r,l,i,s,"Forex").then((function(e){if(t.setState({isLoading:!1}),e&&e.length>0){var a=[].concat(Object(I.a)(e[0]),Object(I.a)(e[1]));Q(a)||t.setState({loadFactorData:K(a,u)},(function(){return ma(t.state.loadFactorData,t.state.colors,"loadFactorL","loadFactor")}))}})))}},{key:"getRouteURL",value:function(e,t,a,n){var o=window.localStorage.getItem("LegSelected"),r=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==o&&"Null"!==o&&""!==o&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o))),null!==r&&"Null"!==r&&""!==r&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(o),"&Flight=").concat(H(r)))}},{key:"headerChange",value:function(e){var t=this;this.setState({headerName:e.target.value},(function(){return t.getGraphData(t.props)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.loadFactorData,l=t.selectedTrend,i=Object(I.a)(new Set(r.map((function(e){return e.Category}))));return o.a.createElement("div",{className:"x_panel tile",style:{paddingBottom:"15px"}},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("select",{class:"select header-dropdown responsive-size",onChange:function(t){return e.headerChange(t)}},o.a.createElement("option",null,"FOREX(MYR/USD)"),o.a.createElement("option",null,"FUEL PRICE(USD)")),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(da,{i:!0,colors:a,selectedTrend:l,data:i})),o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"loadFactor"}),o.a.createElement(da,{colors:a,selectedTrend:l,data:i})))}}]),a}(n.Component),Yo=new Te,Eo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getCardData(e)},n.getCardData=function(e){var t=Object(je.a)(n),a=e.routeGroup,o=e.regionId,r=e.countryId,l=e.routeId;t.setState({loading:!0,cardData:[]});var i=me(JSON.parse(window.localStorage.getItem("RRDateRangeValue"))[0].startDate),c=me(JSON.parse(window.localStorage.getItem("RRDateRangeValue"))[0].endDate);Yo.getRouteProfitabilityCards(i,c,a,o,r,l).then((function(e){t.setState({loading:!1}),e&&t.setState({cardData:e})}))},n.state={cardData:[],loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"cards-main"},this.state.cardData.length>0?this.state.cardData.map((function(e,t){return o.a.createElement("div",{id:"card_data",className:"cards"},o.a.createElement("div",{className:"card-top"},o.a.createElement("span",{className:"count_top"}," ",e.Name," "),o.a.createElement("div",{className:"count",id:e.Name}," ",window.numberFormat(e.CY)," ")),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},window.numberFormat(e.LY)," LY"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(e.Name.includes("C")?X(window.numberFormat(e.VLY)):q(window.numberFormat(e.VLY)))}),o.a.createElement("span",null,window.numberFormat(e.VLY),"% VLY"))),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},window.numberFormat(e.Budget)," BGT"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(e.Name.includes("C")?X(window.numberFormat(e.VTG)):q(window.numberFormat(e.VTG)))}),o.a.createElement("span",null,window.numberFormat(e.VTG),"% VBGT"))))})):o.a.createElement("div",null))}}]),a}(n.Component),Lo=(new Te,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).renderSurplusDeficit=function(){return o.a.createElement(So,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,routeGroup:n.props.routeGroup,regionId:n.props.regionId,countryId:n.props.countryId,routeId:n.props.routeId},n.props))},n.renderBreakEvenAVGFareLoadFactor=function(){return o.a.createElement(No,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,routeGroup:n.props.routeGroup,regionId:n.props.regionId,countryId:n.props.countryId,routeId:n.props.routeId},n.props))},n.renderCaskRask=function(){return o.a.createElement(Ao,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,routeGroup:n.props.routeGroup,regionId:n.props.regionId,countryId:n.props.countryId,routeId:n.props.routeId},n.props))},n.renderForexFuelPrice=function(){return o.a.createElement(Vo,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,routeGroup:n.props.routeGroup,regionId:n.props.regionId,countryId:n.props.countryId,routeId:n.props.routeId},n.props))},n.renderCardsRP=function(){return o.a.createElement(Eo,Object.assign({routeGroup:n.props.routeGroup,regionId:n.props.regionId,countryId:n.props.countryId,routeId:n.props.routeId},n.props))},n.state={},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"row graphs"},o.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12 graph"},this.renderSurplusDeficit(),this.renderBreakEvenAVGFareLoadFactor()),o.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12 graph"},this.renderCaskRask(),this.renderForexFuelPrice()),this.renderCardsRP())}}]),a}(n.Component)),ko=new Te,Bo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.routeGroup,l=e.regionId,i=e.countryId,c=e.routeId,s=e.typeofCost,u=H(r);n.url="/routeProfitabilitySolution?RouteGroup=".concat(u),n.getRouteURL(u,l,i,c,s),t.setState({loading:!0,RegionBudget:[]}),ko.getRouteRegionPerformanceTable(a,o,r,l,i,c,s).then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].rowData,o=e[0].totalData,r=e[0].tableHead;t.setState({RegionBudget:n,totalData:o,RegionBudgetColumn:a,headerName:r})}}))},n.state={RegionBudget:[],totalData:[],RegionBudgetColumn:[],headerName:"",loading:!1},n}return Object(c.a)(a,[{key:"getRouteURL",value:function(e,t,a,n,o){var r=window.localStorage.getItem("LegSelected"),l=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==r&&"Null"!==r&&""!==r&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(r))),null!==l&&"Null"!==l&&""!==l&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(r),"&Flight=").concat(H(l)))}},{key:"render",value:function(){var e=this,t=this.state,a=t.RegionBudget,n=t.totalData,r=t.RegionBudgetColumn,l=t.loading;t.headerName;return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("h2",null,"Route Region Performance"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("li",{onClick:function(){return e.props.history.push(e.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:a,columnDefs:r,dashboard:!0,channel:!0,loading:l,height:"20vh"}),o.a.createElement(ba,{rowData:n,columnDefs:r,loading:l,dashboard:!0,reducingPadding:!0})))}}]),a}(n.Component),Io=new Te,Oo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.routeGroup,l=e.regionId,i=e.countryId,c=e.cityId,s=e.routeId,u=e.typeofCost;t.setState({loading:!0,cabinData:[]});var d=H(r);n.url="/routeProfitabilitySolution?RouteGroup=".concat(d),n.getRouteURL(d,l,i,s,u),Io.getAircraftPerformance(a,o,r,l,i,c,s,u).then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].ancillaryDetails,o=e[0].totalData;t.setState({cabinData:n,cabinColumn:a,totalData:o})}}))},n.state={cabinData:[],cabinColumn:[],totalData:[],loading:!1},n}return Object(c.a)(a,[{key:"getRouteURL",value:function(e,t,a,n,o){var r=window.localStorage.getItem("LegSelected"),l=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==r&&"Null"!==r&&""!==r&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(r))),null!==l&&"Null"!==l&&""!==l&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(r),"&Flight=").concat(H(l)))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("h2",null,"Aircraft Performance"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("li",{onClick:function(){return e.props.history.push("".concat(e.url,"&aircraft=",!0))}},o.a.createElement("i",{className:"fa fa-line-chart"})))),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.cabinData,columnDefs:this.state.cabinColumn,dashboard:!0,loading:this.state.loading,height:"20vh"}),o.a.createElement(ba,{rowData:this.state.totalData,columnDefs:this.state.cabinColumn,loading:this.state.loading,dashboard:!0,reducingPadding:!0})))}}]),a}(n.Component),Po=new Te,Mo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){n.getRouteData(e)},n.state={routesData:[],routesColumn:[],headerName:"",loading:!1},n}return Object(c.a)(a,[{key:"getRouteData",value:function(e){var t=this,a=e.startDate,n=e.endDate,o=e.routeGroup,r=e.regionId,l=e.countryId,i=e.routeId,c=e.typeofCost,s=H(o);this.url="/routeProfitabilitySolution?RouteGroup=".concat(s),this.getRouteURL(s,r,l,i,c),t.setState({loading:!0,routesData:[]}),Po.getTopTenRouteBudgetTable(a,n,o,r,l,i,c).then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].rowData;t.setState({routesData:n,routesColumn:a})}}))}},{key:"getRouteURL",value:function(e,t,a,n,o){var r=window.localStorage.getItem("LegSelected"),l=window.localStorage.getItem("FlightSelected");"Null"!==t&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t))),"Null"!==a&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a))),"Null"!==n&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n))),null!==r&&"Null"!==r&&""!==r&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(r))),null!==l&&"Null"!==l&&""!==l&&(this.url="/routeProfitabilitySolution?RouteGroup=".concat(e,"&Region=").concat(H(t),"&Country=").concat(H(a),"&Route=").concat(H(n),"&Leg=").concat(H(r),"&Flight=").concat(H(l)))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("h2",null,"TOP 10 ROUTES"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("li",{onClick:function(){return e.props.history.push("".concat(e.url,"&route=",!0))}},o.a.createElement("i",{className:"fa fa-line-chart"})))),o.a.createElement(Da,{rowData:this.state.routesData,columnDefs:this.state.routesColumn,dashboard:!0,routeDashboard:!0,loading:this.state.loading,height:"22vh"}))}}]),a}(n.Component),Fo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"x_panel"},o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(Bo,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,routeGroup:this.props.routeGroup,regionId:this.props.regionId,countryId:this.props.countryId,routeId:this.props.routeId,typeofCost:this.props.typeofCost},this.props))),o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(Oo,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,routeGroup:this.props.routeGroup,regionId:this.props.regionId,countryId:this.props.countryId,routeId:this.props.routeId,typeofCost:this.props.typeofCost,posDashboard:!1},this.props))),o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(Mo,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,routeGroup:this.props.routeGroup,regionId:this.props.regionId,countryId:this.props.countryId,routeId:this.props.routeId,typeofCost:this.props.typeofCost},this.props))))}}]),a}(n.Component),Go=(new Date,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e){R.sendEventWithHeader({event_id:"1",description:"User viewed Route Profitability Dashboard Page",where_path:"/routeProfitability",page_name:"Route Profitability Dashboard Page"},e)},n.getSelectedGeographicalDetails=function(e){n.routeGroup=e.routeGroup,n.regionSelected=e.regionSelected,n.countrySelectedID=e.countrySelected,n.routeSelected=e.routeSelected,n.startDate=e.startDate,n.endDate=e.endDate,n.typeofCost=e.typeofCost,n.middleDashboardRef.current.setFilterValues({routeGroup:n.routeGroup,regionSelected:"All"===n.regionSelected?"Null":n.regionSelected,countrySelectedID:n.countrySelectedID,routeSelected:n.routeSelected,startDate:n.startDate,endDate:n.endDate,typeofCost:n.typeofCost})},n.state={displayModal:!1,resetPass:"",loading:!1},n.startDate="",n.endDate="",n.routeGroup="Null",n.regionSelected="Null",n.countrySelectedID="Null",n.routeSelected="Null",n.middleDashboardRef=o.a.createRef(),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){if(Ze("Dashboard","routeProfitability")){var e=b.getCookie("Authorization");this.sendEvent(e)}else this.props.history.push("/404")}},{key:"getResetPassStatus",value:function(){var e=b.getCookie("userDetails");"True"===JSON.parse(e).is_resetpwd&&this.setState({displayModal:!0})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ta,Object.assign({dateRange:"currentYear",dashboardName:"Route Profitability",routeDash:!0,dashboard:!0,getSelectedGeographicalDetails:this.getSelectedGeographicalDetails},this.props)),o.a.createElement(xo,Object.assign({ref:this.middleDashboardRef},this.props)),o.a.createElement(na,{displayModal:this.state.displayModal}))}}]),a}(n.Component)),xo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={routeGroup:null,regionId:null,routeId:null,countryId:null,startDate:null,endDate:null,typeofCost:null},e}return Object(c.a)(a,[{key:"setFilterValues",value:function(e){var t=e.routeGroup,a=e.regionSelected,n=e.routeSelected,o=e.countrySelectedID,r=e.startDate,l=e.endDate,i=e.typeofCost;this.setState({startDate:r,endDate:l,routeGroup:t,regionId:a,countryId:o,routeId:n,typeofCost:i})}},{key:"render",value:function(){var e=this.state,t=e.routeGroup,a=e.regionId,n=e.routeId,r=e.countryId,l=e.startDate,i=e.endDate,c=e.typeofCost;return console.log("rahul",i),o.a.createElement("div",{className:"RouteProfitability"},o.a.createElement("div",{className:"row tile_count"},o.a.createElement(Do,Object.assign({startDate:l,endDate:i,routeGroup:t,regionId:a,countryId:r,routeId:n,dashboard:"Route Profitability"},this.props))),o.a.createElement(Lo,Object.assign({startDate:de(re(i)[1],re(i)[0]).startDate,endDate:de(re(i)[1],re(i)[0]).endDate,routeGroup:t,regionId:a,countryId:r,routeId:n},this.props)),o.a.createElement("div",{className:"row tables"},o.a.createElement(Fo,Object.assign({startDate:me(l),endDate:me(i),routeGroup:t,regionId:a,countryId:r,routeId:n,typeofCost:c},this.props))))}}]),a}(n.Component),jo=Go,Wo=new Te,Zo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){n.getIndicatorsData(e)},n.getIndicatorsData=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.routeGroup,l=e.regionId,i=e.countryId,c=e.cityId,s=e.routeId,u=e.dashboard;t.setState({loading:!0,indicatorsDatas:[]}),Wo.getPRPIndicatorsData(a,o,r,l,i,c,s,u).then((function(e){t.setState({loading:!1}),e&&t.setState({indicatorsDatas:e.slice(0,3)})}))},n.arrowIndicator=function(e){var t=e;return"0"===t||"string"!==typeof t?"":t.includes("B")||t.includes("M")||t.includes("K")?"fa fa-arrow-up":"number"===typeof(t=parseFloat(t))?t>0?"fa fa-arrow-up":"fa fa-arrow-down":void 0},n.renderIndicatorsFlow=function(){},n.state={indicatorsDatas:[],indicatorsDivWidth:"",loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.indicatorsDatas;return t.loading?o.a.createElement("div",{className:"no-indicators"},o.a.createElement(We,null)):0===a.length?o.a.createElement("h4",{className:"no-indicators"},"No Indicators to show"):o.a.createElement("div",null,a.map((function(t,a){return o.a.createElement("div",{id:"indicator_data",className:"col-sm-4 col-xs-6 tile_stats_count"},o.a.createElement("div",{className:"indicator-top"},o.a.createElement("div",{className:"count_top"}," ",t.Name," "),o.a.createElement("div",{className:"count",id:t.Name}," ",window.numberFormat(t.CY)," ")),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},window.numberFormat(t.LY)," LY"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(e.arrowIndicator(window.numberFormat(t.VLY)))}),o.a.createElement("span",null,window.numberFormat(t.VLY),"% VLY"))),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},"F"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(e.arrowIndicator(window.numberFormat(t.VTG)))}),o.a.createElement("span",null,window.numberFormat(t.VTG),"% VTG"))),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},"J"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(e.arrowIndicator(window.numberFormat(t.VTG)))}),o.a.createElement("span",null,window.numberFormat(t.VTG),"% VTG"))),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},"Y"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(e.arrowIndicator(window.numberFormat(t.VTG)))}),o.a.createElement("span",null,window.numberFormat(t.VTG),"% VTG"))))})),o.a.createElement("div",{id:"indicator_data",className:"col-sm-4 col-xs-6 tile_stats_count"},o.a.createElement("div",{className:"indicator-top"},o.a.createElement("div",{className:"count_top"}," ","Ex-Rate YTD"," "),o.a.createElement("div",{className:"count",id:"Ex-Rate YTD"}," ","2.3M"," ")),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},"35"," LY"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(this.arrowIndicator(window.numberFormat("50")))}),o.a.createElement("span",null,"50","% VLY"))),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},"80"," BGT"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(this.arrowIndicator(window.numberFormat("40")))}),o.a.createElement("span",null,window.numberFormat("40"),"% VTG")))))}}]),a}(n.Component),Ho=(a(309),new Te),Uo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getBarchartData(e)},n.getBarchartData=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.regionId,l=e.countryId,i=e.cityId;"TOP 10 AGENTS"===t.state.headerName?(n.setState({isLoading:!0,topfiveODsData:[],agentsName:[]}),Ho.getAgentsBudgetChart(a,o,r,l,i).then((function(e){if(n.setState({isLoading:!1}),e&&e.TableData.length>0){var t=e.TableData,a=e.AgentNames;n.setState({topfiveODsData:n.normalizeData(t),agentsName:a},(function(){return n.drawBarChart(n.state.topfiveODsData,n.state.colors,"topODAgentB","topODAgent")}))}}))):(n.setState({isLoading:!0}),Ho.getODsBudgetChart(a,o,r,l,i).then((function(e){n.setState({isLoading:!1,topfiveODsData:[],agentsName:[]}),e&&e.length>0&&n.setState({topfiveODsData:n.normalizeData(e)},(function(){return n.drawBarChart(n.state.topfiveODsData,n.state.colors,"topODAgentB","topODAgent")}))})))},n.normalizeData=function(e){var t=[];return e.forEach((function(e){var a={category:"",values:[]};Object.keys(e).forEach((function(t,n){n?a.values.push({rate:t,value:e[t]}):a.category=e[t]})),t.push(a)})),t},n.drawBarChart=function(e,t,a,n){var o=10,r=30,l=23,i=85,c=630-i-r,s=260-o-l,u=ra.scale.ordinal().rangeRoundBands([0,c],.1),d=ra.scale.ordinal(),m=ra.scale.linear().range([s,0]),h=ra.svg.axis().scale(u).tickSize(0).orient("bottom"),g=ra.svg.axis().scale(m).orient("left"),p=ra.scale.ordinal().range(t);ra.select("#".concat(a)).remove();var f=ra.select("#".concat(n)).append("svg").attr("viewBox","0 0 "+(c+i+r)+" "+(s+o+l)).attr("id","".concat(a)).attr("preserveAspectRatio","none").attr("xmlns","http://www.w3.org/2000/svg").append("g").attr("transform","translate("+i+","+o+")"),v=e.map((function(e){return e.category})),C=e[0].values.map((function(e){return e.rate}));u.domain(v),d.domain(C).rangeRoundBands([0,u.rangeBand()]),m.domain([0,ra.max(e,(function(e){return ra.max(e.values,(function(e){return e.value}))}))]);var w=f.append("g").attr("class","x axis").attr("transform","translate(0,"+s+")").call(h).style("cursor","pointer").style("width","100px").style("text-overflow","ellipsis").style("white-space","nowrap").style("overflow","hidden"),_=ra.select("body").append("div").attr("class","tooltip").style("opacity",0);w.selectAll(".tick")[0].forEach((function(e){var t=ra.select(e).data();ra.select(e).on("mouseover",(function(e){_.transition().duration(200).style("opacity",.9),_.html(t).style("left",ra.event.pageX+"px").style("top",ra.event.pageY-28+"px").style("background","rgb(42, 63, 84)").style("padding","5px")})).on("mouseout",(function(e){_.transition().duration(500).style("opacity",0)}))}));w.selectAll("text").style("text-anchor","center").attr("fill","#8a9299").each((function(){for(var e=ra.select(this),t=e.node().getComputedTextLength(),a=e.text();t>50&&a.length>0;)a=a.slice(0,-1),e.text(a+"..."),t=e.node().getComputedTextLength()})),f.append("g").attr("class","y axis").style("opacity","0").call(g).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").style("font-weight","bold"),f.select(".y").transition().duration(500).delay(1300).style("opacity","1");var D=ra.select("body").append("div").attr("class","tooltip").style("color","white").style("background","rgb(42, 63, 84)").style("padding","5px").style("opacity",1e-6),b=f.selectAll(".slice").data(e).enter().append("g").attr("class","g").attr("transform",(function(e){return"translate("+u(e.category)+",0)"}));b.selectAll("rect").data((function(e){return e.values})).enter().append("rect").attr("width",d.rangeBand()).attr("x",(function(e){return d(e.rate)})).style("fill",(function(e){return p(e.rate)})).attr("y",(function(e){return m(0)})).attr("height",(function(e){return s-m(0)})).on("mouseover",(function(e){ra.select(this).style("fill",ra.rgb(p(e.rate)).darker(2)),D.transition().attr("class","padding tooltip").duration(500).style("opacity",1)})).on("mousemove",(function(e){D.text(e.rate+" : "+window.numberFormat(e.value,2)).style("left",ra.event.pageX-140+"px").style("top",ra.event.pageY-10+"px")})).on("mouseout",(function(e){ra.select(this).style("fill",p(e.rate)),D.transition().duration(500).style("padding","0px !important").style("opacity",1e-6)})),b.selectAll("rect").transition().delay((function(e){return 1e3*Math.random()})).duration(1e3).attr("y",(function(e){return m(e.value)})).attr("height",(function(e){return s-m(e.value)}))},n.state={topfiveODsData:[],agentsName:[],colors:["#0571b0","#92c5de","#46b6ed","#4CAF50","#d5d5d5","#92c5de","#0571b0"],headerName:"",isLoading:!1},n}return Object(c.a)(a,[{key:"headerChange",value:function(e){var t=this;this.setState({headerName:e.target.value},(function(){return t.getBarchartData(t.props)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.topfiveODsData,l=t.agentsName;return o.a.createElement("div",{className:"x_panel tile",style:{paddingTop:"0px",overflow:"visible"}},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("select",{class:"select header-dropdown responsive-size",onChange:function(t){return e.headerChange(t)}},o.a.createElement("option",null,"TOP 5 O&Ds"),o.a.createElement("option",null,"TOP 10 AGENTS")),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(oa,{i:!0,data:r,agentsName:l,colors:a})),o.a.createElement("li",null,o.a.createElement("a",{href:"/topMarkets"},o.a.createElement("i",{className:"fa fa-line-chart"}))))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"topODAgent"}),o.a.createElement(oa,{data:r,agentsName:l,colors:a})))}}]),a}(n.Component),Jo=new Te,Ko=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){var t=e.startDate,a=e.endDate,o=e.regionId,r=e.countryId,l=e.cityId;n.setState({isLoading:!0,performanceData:[]}),Jo.getRegionBudgetChart(t,a,o,r,l).then((function(e){if(n.setState({isLoading:!1}),e&&e.Data.length>0){var t=e.Data.sort((function(e,t){return t.CY_revenue-e.CY_revenue}));t.length=5,n.setState({performanceData:n.normalizeData(t)},(function(){return la(n.state.performanceData,n.state.colors,"regionPerformnaceB","regionPerformnace")}))}}))},n.normalizeData=function(e){var t=[];return e.forEach((function(e){var a={category:"",values:[]};Object.keys(e).forEach((function(t,n){n?a.values.push({rate:t,value:e[t]}):a.category=e[t]})),t.push(a)})),t},n.state={performanceData:[],colors:["#009688","#4CAF50","#03f574","#92c5de","#0571b0","#92c5de","#0571b0"],isLoading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.performanceData;return o.a.createElement("div",{className:"x_panel tile"},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"Region"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(oa,{i:!0,data:r,colors:a})),o.a.createElement("li",{onClick:function(){return e.props.history.push(e.props.url)}},o.a.createElement("i",{className:"fa fa-line-chart"})))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"regionPerformnace"}),o.a.createElement(oa,{data:r,colors:a})))}}]),a}(n.Component),zo=new Te,qo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){n.getGraphData(e)},n.getGraphData=function(e){e.startDate;var t=e.endDate,a=e.regionId,o=e.countryId,r=e.cityId,l=t.split("-");l.length=2;var i=[].concat(Object(I.a)(l),["01"]),c=n.state,s=c.selectedType,u=c.selectedGraph;n.setState({loading:!0,graphData:[]}),zo.getSalesAnalysisBudgetChart(i.join("-"),t,a,o,r,"Day",s,u).then((function(e){if(n.setState({loading:!1}),e&&e[0].length>0){var t=[].concat(Object(I.a)(e[0]),Object(I.a)(e[1]));n.setState({graphData:z(t,s)},(function(){return n.drawLineChart(n.state.graphData,n.state.colors,"salesAnalysisL","salesAnalysis",s)}))}}))},n.periodChange=function(e){e.stopPropagation(),n.setState({selectedType:e.target.value},(function(){n.getGraphData(n.props)}))},n.graphChange=function(e){e.stopPropagation(),n.setState({selectedGraph:e.target.value},(function(){n.getGraphData(n.props)}))},n.drawLineChart=function(e,t,a,n,o){var r=ra.nest().key((function(e){return e.Category})).entries(e),l=10,i=70,c=610-i-30,s=260-l-15,u=ra.scale.ordinal().rangeRoundBands([0,c]),d=ra.scale.linear().range([s,0]),m=(t=t,ra.scale.ordinal().range(t)),h=ra.svg.axis().scale(u).orient("bottom").tickFormat((function(e){return e})),g=ra.svg.axis().scale(d).orient("left").ticks(6).tickFormat(ra.format("s")),p=r[0].values.map((function(e){return e.Xaxis})),f=ra.svg.line().x((function(e){return u(e.Xaxis)+u.rangeBand()/2})).y((function(e){return d(e.value)}));ra.select("#".concat(a)).remove();var v=ra.select("#".concat(n)).append("svg").attr("viewBox","0 0 600 280").attr("id","".concat(a)).attr("style","overflow:visible; height: 100%; width:100%").attr("preserveAspectRatio","none").attr("xmlns","http://www.w3.org/2000/svg").append("g").attr("transform","translate("+i+","+l+")");m.domain(r.map((function(e){return e.key}))),u.domain(p);var C=ra.max(r,(function(e){return ra.max(e.values,(function(e){return e.value}))})),w=ra.min(r,(function(e){return ra.min(e.values,(function(e){return e.value}))}));d.domain([w,C]),v.append("g").attr("class","x axis").attr("transform","translate(0,"+s+")").call(h),v.append("g").attr("class","GridX").selectAll("line.grid").data(d.ticks()).enter().append("line").attr({class:"grid",x1:u(p[0]),x2:u(p[p.length-1])+u.rangeBand()/2,y1:function(e){return d(e)},y2:function(e){return d(e)}}),v.append("g").attr("class","y axis").call(g).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dx","-5em").attr("dy","-4em").style("text-anchor","end").style("font-family",'"Helvetica Neue",Roboto,Arial,"Droid Sans",sans-serif').style("font-size","14px").style("font-weight","500");var _=v.selectAll(".segment").data(r).enter().append("g").attr("class","segment");_.append("path").attr("id",(function(e){return e.key})).attr("visible",1).attr("d",(function(e){return f(e.values)})).style("stroke",(function(e){if("LY"!==e.Category)return m(e.key);_.append("path").attr("d",(function(e){return f(e.values.filter((function(e){return"Actuals"===e.DataType&&"LY"===e.Category})))})).style("stroke","#64bbe3").attr("stroke-width",2).attr("fill","none").attr("class","line"),_.append("path").attr("d",(function(e){return f(e.values.filter((function(e){return"Actuals"===e.DataType})))})).attr("stroke","#eed202").attr("stroke-width",2).attr("fill","none")})).attr("stroke-width",2).attr("fill","none").attr("class","line"),_.selectAll("dot").data((function(e){return e.values})).enter().append("circle").attr("r",5).attr("cx",(function(e){return u(e.Xaxis)+u.rangeBand()/2})).attr("cy",(function(e){return d(e.value)})).style("stroke","white").style("cursor","pointer").style("fill",(function(e){return"Actuals"===e.DataType?m(this.parentNode.__data__.key):"#eed202"})).on("mouseover",(function(){D.transition().attr("class","padding tooltip").duration(500).style("opacity",1)})).on("mousemove",(function(e){D.html('<p class="tooltipKey">'.concat(e.Category,'</p><div class="tooltipMain"> <p class="tooltipValue">').concat(e.value>0?"".concat(window.positiveDeltaFormat(e.value)).concat("pick_up_percent"===o?"%":""," "):"".concat(window.negativeDeltaFormat(e.value)).concat("pick_up_percent"===o?"%":""),'</p> <div class="delta ').concat("actual"===o?"delta_display":"",'"><p class="tooltipDelta ').concat("actual"===o&&e.delta_absolute.includes("-")?"red":"",'">(').concat(e.delta_absolute,')</p><p class="tooltipDelta ').concat("actual"===o&&e.delta_percent.includes("-")?"red":"",'">(').concat(e.delta_percent,")</p></div></div>")).style("left",ra.event.pageX+15+"px").style("top",ra.event.pageY-10+"px")})).on("mouseout",(function(){D.transition().duration(500).style("padding","0px !important").style("opacity",1e-6)})),_.append("text").datum((function(e){return{name:e.key,RevData:e.values[e.values.length-1]}})).attr("transform",(function(e){return"translate("+(u(e.RevData.Xaxis)+u.rangeBand()/2-9)+","+(d(e.RevData.value)-10)+")"})).attr("x",-5).attr("y",-5).attr("dy",".38em").attr("class","segmentText").style("font-size","0px").style("font-weight","bold").attr("Segid",(function(e){return e.name})).text((function(e){return e.name}));var D=ra.select("body").append("div").attr("class","tooltip").style("color","white").style("background","rgb(42, 63, 84)").style("padding","5px").style("padding-bottom","-5px").style("opacity",1e-6);var b=v.append("rect").attr("x",-1*c).attr("y",-1*s).attr("height",s+15).attr("width",c+80).attr("class","curtain").attr("transform","rotate(180)").style("fill","#2e303f"),S=v.append("line").attr("stroke","#333").attr("stroke-width",0).attr("class","guide").attr("x1",1).attr("y1",1).attr("x2",1).attr("y2",s),y=v.transition().delay(750).duration(2e3).ease("linear").each("end",(function(){ra.select("line.guide").transition().style("opacity",0).remove()}));y.select("rect.curtain").attr("width",0),y.select("line.guide").attr("transform","translate("+(c+100)+", 0)"),ra.select("#show_guideline").on("change",(function(e){S.attr("stroke-width",this.checked?1:0),b.attr("opacity",this.checked?.75:1)}))},n.state={loading:!1,graphData:[],selectedType:"actual",selectedGraph:"Revenue",colors:["#dde63c","#d98ced","#ffcc00"]},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.colors,r=t.graphData,l=Object(I.a)(new Set(r.map((function(e){return e.Category}))));return o.a.createElement("div",{className:"x_panel tile"},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"Sales Analysis"),o.a.createElement("div",{className:"nav navbar-right",style:{display:"flex",alignItems:"center",marginTop:"-2px"}},o.a.createElement("select",{class:"select",onChange:function(t){return e.graphChange(t)}},o.a.createElement("option",null,"Revenue"),o.a.createElement("option",null,"Booking"),o.a.createElement("option",null,"Passenger")),o.a.createElement("label",{className:"label"},"Type:"),o.a.createElement("select",{class:"select",onChange:function(t){return e.periodChange(t)}},o.a.createElement("option",{value:"actual"},"Actual"),o.a.createElement("option",{value:"pick_up"},"Pick-up"),o.a.createElement("option",{value:"pick_up_percent"},"Pick-up(%)")),o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(da,{i:!0,colors:n,selectedTrend:"Day",data:l})))),a?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"salesAnalysis",style:{padding:"5px","padding-bottom":"0px"}}),o.a.createElement(da,{colors:n,selectedTrend:"Day",data:l})))}}]),a}(n.Component),Xo=new Te,Qo=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=e.startDate,a=e.endDate,o=e.regionId,r=e.countryId,l=e.cityId,i=e.commonOD;n.setState({isLoading:!0,segmentationData:[]}),Xo.getTargetRationaltChart(t,a,o,r,l,i).then((function(e){if(n.setState({isLoading:!1}),e&&e.length>0){var t=e.sort((function(e,t){return t.Revenue_CY-e.Revenue_LY}));t.length=5,n.setState({segmentationData:n.normalizeData(t)},(function(){return la(n.state.segmentationData,n.state.colors,"segmentationB","segmentation")}))}}))},n.normalizeData=function(e){var t=[];return e.forEach((function(e){var a={category:"",values:[]};Object.keys(e).forEach((function(t,n){n?a.values.push({rate:t,value:e[t]}):a.category=e[t]})),t.push(a)})),t},n.state={segmentationData:[],colors:["#7852e2","#b09ee2","#009688","#4CAF50","#d5d5d5","#92c5de","#0571b0"],isLoading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.colors,n=t.isLoading,r=t.segmentationData;return o.a.createElement("div",{className:"x_panel tile"},o.a.createElement("div",{className:"x_title reduce-margin"},o.a.createElement("h2",{className:"responsive-size"},"Target Rational"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("div",{className:"info"},o.a.createElement("li",null,o.a.createElement("i",{class:"fa fa-info","aria-hidden":"true"})),o.a.createElement(oa,{i:!0,data:r,colors:a})),o.a.createElement("li",{onClick:function(){return e.props.history.push("/targetRational")}},o.a.createElement("i",{className:"fa fa-line-chart"})))),n?o.a.createElement(We,null):0===r.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"17%"}},"No data to show"):o.a.createElement("div",{className:"centered-graph"},o.a.createElement("div",{id:"segmentation"}),o.a.createElement(oa,{data:r,colors:a})))}}]),a}(n.Component),$o=new Te,er=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).componentWillReceiveProps=function(e){n.getCardData(e)},n.getCardData=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.regionId,l=e.countryId,i=e.cityId;t.setState({loading:!0,cardData:[]}),$o.getPOSCards(a,o,r,l,i).then((function(e){t.setState({loading:!1}),e&&t.setState({cardData:e})}))},n.arrowIndicator=function(e){var t=e;return"0"===t||"string"!==typeof t?"":t.includes("B")||t.includes("M")||t.includes("K")?"fa fa-arrow-up":"number"===typeof(t=parseFloat(t))?t>0?"fa fa-arrow-up":"fa fa-arrow-down":void 0},n.state={cardData:[],loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"cards-main"},this.state.cardData.length>0?this.state.cardData.map((function(t,a){return o.a.createElement("div",{id:"card_data",className:"cards"},o.a.createElement("div",{className:"card-top"},o.a.createElement("div",{className:"count_top"}," ",t.Name," "),o.a.createElement("div",{className:"count",id:t.Name}," ",window.numberFormat(t.CY)," ")),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},window.numberFormat(t.LY)," LY"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(e.arrowIndicator(window.numberFormat(t.VLY)))}),o.a.createElement("span",null,window.numberFormat(t.VLY),"% VLY"))),o.a.createElement("div",{className:"indicator-bottom"},o.a.createElement("span",{style:{flex:"1"}},window.numberFormat(t.Budget)," BGT"),o.a.createElement("div",{className:"indicator-2"},o.a.createElement("i",{className:"".concat(e.arrowIndicator(window.numberFormat(t.VTG)))}),o.a.createElement("span",null,window.numberFormat(t.VTG),"% VTG"))))})):o.a.createElement("div",null))}}]),a}(n.Component),tr=(new Te,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).renderTopODAgentPRP=function(){return o.a.createElement(Uo,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,regionId:n.props.regionId,countryId:n.props.countryId,cityId:n.props.cityId},n.props))},n.renderRegionPRP=function(){return o.a.createElement(Ko,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,regionId:n.props.regionId,countryId:n.props.countryId,cityId:n.props.cityId},n.props))},n.renderSalesAnalysis=function(){return o.a.createElement(qo,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,regionId:n.props.regionId,countryId:n.props.countryId,cityId:n.props.cityId},n.props))},n.renderTargetRational=function(){return o.a.createElement(Qo,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,regionId:n.props.regionId,countryId:n.props.countryId,cityId:n.props.cityId},n.props))},n.renderCards=function(){return o.a.createElement(er,Object.assign({startDate:n.props.startDate,endDate:n.props.endDate,regionId:n.props.regionId,countryId:n.props.countryId,cityId:n.props.cityId},n.props))},n.state={},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"row graphs"},o.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12 graph"},this.renderTopODAgentPRP(),this.renderRegionPRP()),o.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12 graph"},this.renderSalesAnalysis(),this.renderTargetRational()),this.renderCards())}}]),a}(n.Component)),ar=new Te,nr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.regionId,l=e.countryId,i=e.cityId;t.setState({loading:!0,channelwiseperformpivottable:[]}),ar.getChannelBudgetTable(a,o,r,l,i).then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].rowData,o=e[0].totalData;t.setState({channelwiseperformpivottable:n,channelwiseperformcolumn:a,totalData:o})}}))},n.state={channelwiseperformpivottable:[],channelwiseperformcolumn:[],totalData:[],loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("h2",null,"Channel Budget"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("li",null,o.a.createElement("a",{href:"/channelPerformance"},o.a.createElement("i",{className:"fa fa-line-chart"}))))),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.channelwiseperformpivottable,columnDefs:this.state.channelwiseperformcolumn,dashboard:!0,loading:this.state.loading,height:"20vh"}),o.a.createElement(ba,{rowData:this.state.totalData,columnDefs:this.state.channelwiseperformcolumn,loading:this.state.loading,dashboard:!0,reducingPadding:!0})))}}]),a}(n.Component),or=new Te,rr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.routeGroup,l=e.regionId,i=e.countryId,c=e.cityId,s=e.routeId,u=e.posDashboard;t.setState({loading:!0,cabinData:[]}),or.getCabinBudget(a,o,r,l,i,c,s,u).then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].ancillaryDetails,o=e[0].totalData;t.setState({cabinData:n,cabinColumn:a,totalData:o})}}))},n.state={cabinData:[],cabinColumn:[],totalData:[],loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("h2",null,"Cabin Budget"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("li",{onClick:function(){return e.props.history.push("".concat(e.props.url,"?ancillary=",!0))}},o.a.createElement("i",{className:"fa fa-line-chart"})))),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.cabinData,columnDefs:this.state.cabinColumn,dashboard:!0,loading:this.state.loading,height:"20vh"}),o.a.createElement(ba,{rowData:this.state.totalData,columnDefs:this.state.cabinColumn,loading:this.state.loading,dashboard:!0,reducingPadding:!0})))}}]),a}(n.Component),lr=new Te,ir=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=Object(je.a)(n),a=e.startDate,o=e.endDate,r=e.regionId,l=e.countryId,i=e.cityId;t.setState({loading:!0,ODBudgetData:[]}),lr.getODBudgetTable(a,o,r,l,i).then((function(e){if(t.setState({loading:!1}),e){var a=e[0].columnName,n=e[0].rowData;t.setState({ODBudgetData:n,ODBudgetColumn:a})}}))},n.state={ODBudgetData:[],ODBudgetColumn:[],loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"x_title"},o.a.createElement("h2",null,"OD Budget"),o.a.createElement("ul",{className:"nav navbar-right panel_toolbox"},o.a.createElement("li",null,o.a.createElement("a",{href:"/topMarkets"},o.a.createElement("i",{className:"fa fa-line-chart"}))))),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.ODBudgetData,columnDefs:this.state.ODBudgetColumn,dashboard:!0,loading:this.state.loading,height:"22vh"})))}}]),a}(n.Component),cr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"x_panel"},o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(nr,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,regionId:this.props.regionId,countryId:this.props.countryId,cityId:this.props.cityId},this.props))),o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(rr,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,regionId:this.props.regionId,countryId:this.props.countryId,cityId:this.props.cityId,posDashboard:!0},this.props))),o.a.createElement("div",{className:"col-md-12 col-sm-4 col-xs-12 table-flex"},o.a.createElement(ir,Object.assign({startDate:this.props.startDate,endDate:this.props.endDate,regionId:this.props.regionId,countryId:this.props.countryId,cityId:this.props.cityId},this.props))))}}]),a}(n.Component),sr=(new Date,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e){R.sendEventWithHeader({event_id:"1",description:"User viewed Pos Revenue Planning Dashboard Page",where_path:"/posRevenuePlanning",page_name:"Pos Revenue Planning Dashboard Page"},e)},n.getPOSSelectedGeographicalDetails=function(e){n.regionSelected=e.regionSelected,n.countrySelectedID=e.countrySelected,n.citySelected=e.citySelected,n.startDate=e.startDate,n.endDate=e.endDate,n.middleDashboardRef.current.setFilterValues({regionSelected:"All"===n.regionSelected?"Null":n.regionSelected,countrySelectedID:n.countrySelectedID,citySelected:n.citySelected,startDate:n.startDate,endDate:n.endDate})},n.state={displayModal:!1,resetPass:"",loading:!1},n.startDate="",n.endDate="",n.regionSelected="Null",n.countrySelectedID="Null",n.citySelected="Null",n.middleDashboardRef=o.a.createRef(),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){if(Ze("Dashboard","posRevenuePlanning")){var e=b.getCookie("Authorization");this.sendEvent(e)}else this.props.history.push("/404")}},{key:"getResetPassStatus",value:function(){var e=b.getCookie("userDetails");"True"===JSON.parse(e).is_resetpwd&&this.setState({displayModal:!0})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ta,Object.assign({dashboard:!0,getPOSSelectedGeographicalDetails:this.getPOSSelectedGeographicalDetails,monthRange:"nextYear"},this.props)),o.a.createElement(ur,Object.assign({ref:this.middleDashboardRef},this.props)),o.a.createElement(na,{displayModal:this.state.displayModal}))}}]),a}(n.Component)),ur=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={gettingMonth:null,regionId:null,cityId:null,countryId:null,startDate:null,endDate:null},n}return Object(c.a)(a,[{key:"setFilterValues",value:function(e){var t=e.gettingMonth,a=e.regionSelected,n=e.citySelected,o=e.countrySelectedID,r=e.startDate,l=e.endDate;this.setState({gettingMonth:t,regionId:a,cityId:n,countryId:o,startDate:r,endDate:l})}},{key:"render",value:function(){return o.a.createElement("div",{className:"PosRevenuePlanning"},o.a.createElement("div",{className:"row tile_count"},o.a.createElement(Zo,Object.assign({startDate:this.state.startDate,endDate:this.state.endDate,regionId:this.state.regionId,countryId:this.state.countryId,cityId:this.state.cityId,dashboard:"Pos"},this.props))),o.a.createElement(tr,Object.assign({url:"/rpsPos".concat(ae()),startDate:this.state.startDate,endDate:this.state.endDate,regionId:this.state.regionId,countryId:this.state.countryId,cityId:this.state.cityId},this.props)),o.a.createElement("div",{className:"row tables"},o.a.createElement(cr,Object.assign({url:"/rpsPos".concat(ae()),startDate:this.state.startDate,endDate:this.state.endDate,regionId:this.state.regionId,countryId:this.state.countryId,cityId:this.state.cityId},this.props))))}}]),a}(n.Component),dr=sr,mr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.alertData;return o.a.createElement("div",null,o.a.createElement(Oe.a,{show:this.props.alertVisible,onHide:this.props.closeAlertModal,"aria-labelledby":"ModalHeader"},o.a.createElement(Oe.a.Header,{closeButton:!0},o.a.createElement(Oe.a.Title,{id:"ModalHeader"},"Alerts")),o.a.createElement(Oe.a.Body,null,o.a.createElement("div",{className:"".concat(e.length>0?"cards-modal":"")},e.length>0?o.a.createElement(aa,{data:this.props.alertData,modal:!0}):o.a.createElement("h4",{style:{textAlign:"center",color:"black"}},"No Alerts to Show")))))}}]),a}(n.Component),hr=(a(615),new Te,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).normalizeData=function(e){return e.map((function(e){var t=Object.assign({},e);return t.DataType="Actuals",t}))},n.lineChart=function(e){var t=ra.nest().key((function(e){return e.Carrier})).entries(e),a=10,o=70,r=610-o-30,l=260-a-15,i=ra.scale.ordinal().rangeRoundBands([0,r]),c=ra.scale.linear().range([l,0]),s=n.state.colors,u=ra.scale.ordinal().range(s),d=ra.svg.axis().scale(i).orient("bottom").tickFormat((function(e){return e})),m=ra.svg.axis().scale(c).orient("left").ticks(6).tickFormat(ra.format("s")),h=t[0].values.map((function(e){return e.DepartureDate})),g=ra.svg.line().x((function(e){return i(e.DepartureDate)+i.rangeBand()/2})).y((function(e){return c(e.AverageFare_CY)}));ra.select("#rtg").remove();var p=ra.select("#lineChart").append("svg").attr("viewBox","0 0 600 280").attr("id","rtg").attr("style","overflow:visible").attr("preserveAspectRatio","none").attr("xmlns","http://www.w3.org/2000/svg").append("g").attr("transform","translate("+o+","+a+")");u.domain(t.map((function(e){return e.key}))),i.domain(h);var f=ra.max(t,(function(e){return ra.max(e.values,(function(e){return e.AverageFare_CY}))})),v=ra.min(t,(function(e){return ra.min(e.values,(function(e){return e.AverageFare_CY}))}));c.domain([v,f]),p.append("g").attr("class","x axis").attr("transform","translate(0,"+l+")").call(d),p.append("g").attr("class","GridX").selectAll("line.grid").data(c.ticks()).enter().append("line").attr({class:"grid",x1:i(h[0]),x2:i(h[h.length-1])+i.rangeBand()/2,y1:function(e){return c(e)},y2:function(e){return c(e)}}),p.append("g").attr("class","y axis").call(m).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dx","-5em").attr("dy","-4em").style("text-anchor","end").style("font-family",'"Helvetica Neue",Roboto,Arial,"Droid Sans",sans-serif').style("font-size","14px").style("font-weight","500");var C=p.selectAll(".segment").data(t).enter().append("g").attr("class","segment");C.append("path").attr("id",(function(e){return e.key})).attr("visible",1).attr("d",(function(e){return g(e.values)})).style("stroke",(function(e){if("AK"!==e.Carrier)return u(e.key);C.append("path").attr("d",(function(e){return g(e.values.filter((function(e){return"Actuals"===e.DataType&&"AK"===e.Carrier})))})).style("stroke","#64bbe3").attr("stroke-width",2).attr("fill","none").attr("class","line"),C.append("path").attr("d",(function(e){return g(e.values.filter((function(e){return"Actuals"===e.DataType})))})).attr("stroke","#eed202").attr("stroke-width",2).attr("fill","none")})).attr("stroke-width",2).attr("fill","none").attr("class","line"),C.selectAll("dot").data((function(e){return e.values})).enter().append("circle").attr("r",5).attr("cx",(function(e){return i(e.DepartureDate)+i.rangeBand()/2})).attr("cy",(function(e){return c(e.AverageFare_CY)})).style("stroke","white").style("cursor","pointer").style("fill",(function(e){return"Actuals"===e.DataType?u(this.parentNode.__data__.key):"#eed202"})).on("mouseover",(function(){w.transition().attr("class","padding tooltip").duration(500).style("opacity",1)})).on("mousemove",(function(e){w.text(this.parentNode.__data__.key+" : "+window.numberFormat(e.AverageFare_CY,2)).style("left",ra.event.pageX+15+"px").style("top",ra.event.pageY-10+"px")})).on("mouseout",(function(){w.transition().duration(500).style("padding","0px !important").style("opacity",1e-6)})),C.append("text").datum((function(e){return{name:e.key,RevData:e.values[e.values.length-1]}})).attr("transform",(function(e){return"translate("+(i(e.RevData.DepartureDate)+i.rangeBand()/2-9)+","+(c(e.RevData.AverageFare_CY)-10)+")"})).attr("x",-5).attr("y",-5).attr("dy",".38em").attr("class","segmentText").style("font-size","0px").style("font-weight","bold").attr("Segid",(function(e){return e.name})).text((function(e){return e.name}));var w=ra.select("body").append("div").attr("class","tooltip").style("color","white").style("background","rgb(42, 63, 84)").style("padding","5px").style("opacity",1e-6);p.append("line").attr("stroke","#333").attr("stroke-width",0).attr("class","guide").attr("x1",1).attr("y1",1).attr("x2",1).attr("y2",l)},n.state={performanceData:[],isLoading:!1,colors:["#f68803","#cb3bf0","#ffcc00","#009688","#4CAF50","#03f574","#92c5de","#0571b0","#92c5de","#0571b0"]},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state.colors,t=this.props.infareData,a=Object(I.a)(new Set(t.map((function(e){return e.Carrier}))));return t.length>0&&(console.log("rahul",this.normalizeData(t)),this.lineChart(this.normalizeData(t))),0===t.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{style:{height:"270px"}},o.a.createElement("div",{id:"lineChart",style:{height:"100%"}},o.a.createElement("div",{className:"y-axis"},this.props.currency)),o.a.createElement("div",{className:"x-axis"},"Departure Date"),o.a.createElement("div",{id:"legend",className:"col-md-12"},a.map((function(t,a){return o.a.createElement("p",{className:"sub-legend"},o.a.createElement("div",{className:"square",style:{background:e[a]}}),"".concat(t))}))))}}]),a}(n.Component)),gr=[],pr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={rbdData:[],totalFClick:!1,totalYClick:!0,totalJClick:!1,tableModalVisible:!1,rbdRowClassRule:{"highlight-dBlue-row":"data.highlightMe"}},n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.rowData!==this.props.rowData&&(gr=e.rowData,this.setState({rbdData:this.getYCabinData(e.rowData),tableModalVisible:e.tableModalVisible}))}},{key:"getYCabinData",value:function(e){return e.filter((function(e,t){if("Total of F"===e.RBD&&(e.RBD="\u25ba Total of F"),"Total of Y"===e.RBD&&(e.RBD="\u25bc Total of Y"),"Total of J"===e.RBD&&(e.RBD="\u25ba Total of J"),"\u25ba Total of F"!==e.RBD&&"\u25bc Total of Y"!==e.RBD&&"\u25ba Total of J"!==e.RBD||(e.highlightMe=!0),"Y"===e.Cabin||"\u25bc Total of Y"===e.RBD||"\u25ba Total of F"===e.RBD||"\u25ba Total of J"===e.RBD)return e}))}},{key:"getHighlightedRow",value:function(e,t){return e.map((function(e,a){var n=e.RBD;return t===n&&(e.highlightMe=!0),e}))}},{key:"totalRowClick",value:function(e){e.colDef.field;var t=e.data.RBD;if("\u25ba Total of Y"===t){var a=gr.filter((function(e){if("\u25ba Total of Y"===e.RBD&&(e.RBD="\u25bc Total of Y"),"\u25bc Total of F"!==e.RBD&&"\u25ba Total of F"!==e.RBD||(e.RBD="\u25ba Total of F"),"\u25ba Total of J"!==e.RBD&&"\u25bc Total of J"!==e.RBD||(e.RBD="\u25ba Total of J"),"Y"===e.Cabin||"\u25bc Total of Y"===e.RBD||"\u25ba Total of F"===e.RBD||"\u25ba Total of J"===e.RBD)return e}));this.setState({rbdData:this.getHighlightedRow(a,t)})}else if("\u25ba Total of J"===t){var n=gr.filter((function(e){if("\u25ba Total of J"===e.RBD&&(e.RBD="\u25bc Total of J"),"\u25bc Total of F"!==e.RBD&&"\u25ba Total of F"!==e.RBD||(e.RBD="\u25ba Total of F"),"\u25ba Total of Y"!==e.RBD&&"\u25bc Total of Y"!==e.RBD||(e.RBD="\u25ba Total of Y"),"J"===e.Cabin||"\u25ba Total of Y"===e.RBD||"\u25ba Total of F"===e.RBD||"\u25bc Total of J"===e.RBD)return e}));this.setState({rbdData:this.getHighlightedRow(n,t)})}else if("\u25ba Total of F"===t){var o=gr.filter((function(e){if("\u25ba Total of F"===e.RBD&&(e.RBD="\u25bc Total of F"),"\u25bc Total of Y"!==e.RBD&&"\u25ba Total of Y"!==e.RBD||(e.RBD="\u25ba Total of Y"),"\u25ba Total of J"!==e.RBD&&"\u25bc Total of J"!==e.RBD||(e.RBD="\u25ba Total of J"),"F"===e.Cabin||"\u25ba Total of Y"===e.RBD||"\u25bc Total of F"===e.RBD||"\u25ba Total of J"===e.RBD)return e}));this.setState({rbdData:this.getHighlightedRow(o,t)})}}},{key:"closeModal",value:function(){this.setState({tableModalVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.datas,t.rowData),n=t.interline,r=t.columns,l=t.totalData;return o.a.createElement("div",null,o.a.createElement(Oe.a,{show:this.state.tableModalVisible,onHide:function(){return e.closeModal()},"aria-labelledby":"ModalHeader"},o.a.createElement(Oe.a.Header,{closeButton:!0},o.a.createElement(Oe.a.Title,{id:"ModalHeader"},this.props.header)),o.a.createElement(Oe.a.Body,null,o.a.createElement("div",{className:"root",style:{maxHeight:"80vh",overflowY:"scroll"}},o.a.createElement(Da,{rowData:n?a:this.state.rbdData,columnDefs:r,autoHeight:"autoHeight",onCellClicked:function(t){return e.totalRowClick(t)},rowClassRules:this.state.rbdRowClassRule,getRowStyle:this.props.getRowStyle}),l&&o.a.createElement(ba,{rowData:l,columnDefs:r,responsive:!0,reducingPadding:!0})))))}}]),a}(n.Component),fr=(a(990),a(213)),vr=(Fa={primaryColor:"#2a3f54e8",secondaryColor:"#2c3f4c",green:"#21d521",gray:"#EDEDED"},Object(p.a)(Fa,"green","#10da10"),Object(p.a)(Fa,"red","red"),Object(p.a)(Fa,"dark_grey","#7f8c8d"),Object(p.a)(Fa,"gray","#ededed"),Object(p.a)(Fa,"lightBlue","#b7e4ff"),Object(p.a)(Fa,"header","#2a3f54"),Object(p.a)(Fa,"darkPrimary","#2e303f"),Object(p.a)(Fa,"darkSencondary","#0d1016"),Object(p.a)(Fa,"blue","#1784c7"),Fa),Cr=(Object(fr.a)({overrides:{MUIDataTableHeadCell:{fixedHeader:{backgroundColor:vr.primaryColor,fontSize:"1.2rem",fontWeight:600,color:"#ffffff",position:"static"}},MuiPaper:{elevation4:{boxShadow:"none"}},MuiTableCell:{body:{fontSize:"1.1rem",cursor:"pointer"},root:{display:"table-cell",padding:"4px 24px 4px 24px",textAlign:"left",borderBbottom:"1px solid rgba(224, 224, 224, 1)",verticalAlign:"inherit"}},MuiTableRow:{head:{height:"45px"},root:{color:"inherit",height:"40px",display:"table-row",outline:"none",verticalAlign:"middle"}},MuiTypography:{h6:{color:"rgba(0, 0, 0, 0.87)",fontSize:"2.2rem",fontFamily:'"Helvetica Neue",Roboto,Arial,"Droid Sans",sans-serif',fontWeight:"500",lineHeight:"1.6",letterSpacing:"0.0075em"},caption:{color:"rgba(21, 21, 21, 0.87)",fontSize:"1rem",fontWeight:"600",fontFamily:'"Helvetica Neue",Roboto,Arial,"Droid Sans",sans-serif',lineHeight:"1.375em"}},MuiMenuItem:{root:{color:"rgba(0, 0, 0, 0.87)",width:"auto",height:"24px",overflow:"hidden",fontSize:"1rem",boxSizing:"content-box",fontWeight:"400",fontFamily:'"Helvetica Neue",Roboto,Arial,"Droid Sans",sans-serif',lineHeight:"1.5em",whiteSpace:"nowrap"}},MuiList:{padding:{paddingTop:"0px",paddingBottom:"0px"}},MuiToolbar:{regular:{paddingLeft:"0px"}},MuiTablePagination:{select:{paddingLeft:"8px",paddingRight:"20px",paddingTop:"10px",paddingBottom:"3px",fontSize:"10px"}}}}),new Te),wr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).state={performanceData:[],isLoading:!1,getYear:null,gettingMonth:null,colors:["#f68803","#cb3bf0","#ffcc00"],showForecastGraph:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.displayName,n=t.route,o=t.alert,r=t.forecast,l=t.gettingYear,i=t.gettingMonth,c=t.isDirectPOS,s=this.props.selectedData;this.setState({isLoading:!0});var u=window.localStorage.getItem("CabinSelected");if(u=null!==u&&"Null"!==u?U(JSON.parse(u)):"Null",n){var d=window.localStorage.getItem("RouteGroupSelected");d=null!==d&&"Null"!==d?U(JSON.parse(d)):"Network";var m=window.localStorage.getItem("RouteRegionSelected");m=null!==m&&"Null"!==m?U(JSON.parse(m)):"*";var h=window.localStorage.getItem("RouteCountrySelected");h=null!==h&&"Null"!==h?U(JSON.parse(h)):"*";var g=window.localStorage.getItem("RouteSelected");g=null!==g&&"Null"!==g?U(JSON.parse(g)):"*";var p=window.localStorage.getItem("LegSelected");p=null!==p&&"Null"!==p?"'".concat(p,"'"):"*";var f=window.localStorage.getItem("FlightSelected");f=null!==f&&"Null"!==f?"".concat(f):"*",r?Cr.getRouteLineChartsForecast(a,d,m,h,g,p,f,u,l,i).then((function(t){if(e.setState({isLoading:!1,showForecastGraph:!0}),t&&t.length>0){var a=t[0],n=t[1],o=[].concat(Object(I.a)(a),Object(I.a)(n));if(t[2]){var r=t[2];o=[].concat(Object(I.a)(o),Object(I.a)(r))}e.setState({performanceData:e.normalizeData(o)},(function(){return e.lineChart(e.state.performanceData)}))}})):Cr.getRouteLineCharts(a,d,m,h,g,p,f,u).then((function(t){if(e.setState({isLoading:!1,showForecastGraph:!1}),t&&t.length>0){var a=t[0],n=t[1],o=[].concat(Object(I.a)(a),Object(I.a)(n));if(t[2]){var r=t[2];o=[].concat(Object(I.a)(o),Object(I.a)(r))}e.setState({performanceData:e.normalizeData(o)},(function(){return e.lineChart(e.state.performanceData)}))}}))}else{var v=window.localStorage.getItem("RegionSelected");v=null!==v&&"Null"!==v?U(JSON.parse(v)):"*";var C=window.localStorage.getItem("CountrySelected");C=null!==C&&"Null"!==C?U(JSON.parse(C)):"*";var w=window.localStorage.getItem("CitySelected");w=null!==w&&"Null"!==w?U(JSON.parse(w)):"*";var _=window.localStorage.getItem("ODSelected");if(_=null!==_&&"Null"!==_?U(JSON.parse(_)):"*",r)Cr.getPOSLineChartsForecast(a,v,C,w,_,u,l,i).then((function(t){if(e.setState({isLoading:!1,showForecastGraph:!0}),t&&t.length>0){var a=t[0],n=t[1],o=[].concat(Object(I.a)(a),Object(I.a)(n));if(t[2]){var r=t[2];o=[].concat(Object(I.a)(o),Object(I.a)(r))}e.setState({performanceData:e.normalizeData(o)},(function(){return e.lineChart(e.state.performanceData)}))}}));else if(o){((s=U(s))&&"*"===v&&!c?Cr.getInfareTrendData(l,i,s,C,w,_,u,"Infare"):s&&"*"===C&&!c?Cr.getInfareTrendData(l,i,v,s,w,_,u,"Infare"):s&&"*"===w?Cr.getInfareTrendData(l,i,v,C,s,_,u,"Infare"):s&&"*"===_?Cr.getInfareTrendData(l,i,v,C,w,s,u,"Infare"):s&&"Null"===u?Cr.getInfareTrendData(l,i,v,C,w,_,s,"Infare"):Cr.getInfareTrendData(l,i,v,C,w,_,u,"Infare")).then((function(t){e.setState({isLoading:!1,showForecastGraph:!0});var a=t.TableData,n=[];a&&a.length>0&&(n=a.map((function(e){return{Category:"Fare",Month:e.Alert_Type,value:e.MH_Fare}})),e.setState({performanceData:e.normalizeData(n)},(function(){return e.lineChart(e.state.performanceData,void 0,e.props.alert)})))}))}else Cr.getPOSLineCharts(a,v,C,w,_,u).then((function(t){if(e.setState({isLoading:!1,showForecastGraph:!1}),t&&t.length>0){var a=t[0],n=t[1],o=[].concat(Object(I.a)(a),Object(I.a)(n));if(t[2]){var r=t[2];o=[].concat(Object(I.a)(o),Object(I.a)(r))}e.setState({performanceData:e.normalizeData(o)},(function(){return e.lineChart(e.state.performanceData)}))}}))}}},{key:"normalizeData",value:function(e){return e.map((function(e){var t=Object.assign({},e);return t.DataType="Actuals",t}))}},{key:"lineChart",value:function(e,t,a){var n=ra.nest().key((function(e){return e.Category})).entries(e),o=10,r=70,l=610-r-30,i=260-o-15,c=ra.scale.ordinal().rangeRoundBands([0,l]),s=ra.scale.linear().range([i,0]),u=this.state.colors,d=ra.scale.ordinal().range(u),m=ra.svg.axis().scale(c).orient("bottom").tickFormat((function(e){return e})),h=ra.svg.axis().scale(s).orient("left").ticks(6).tickFormat(ra.format("s")),g=n[0].values.map((function(e){return e.Month})),p=ra.svg.line().x((function(e){return c(e.Month)+c.rangeBand()/2})).y((function(e){return s(e.value)}));ra.select("#rtg").remove();var f=ra.select("#lineChart").append("svg").attr("viewBox","0 0 600 280").attr("id","rtg").attr("style","overflow:visible").attr("preserveAspectRatio","none").attr("xmlns","http://www.w3.org/2000/svg").append("g").attr("transform","translate("+r+","+o+")");d.domain(n.map((function(e){return e.key}))),c.domain(g);var v=ra.max(n,(function(e){return ra.max(e.values,(function(e){return e.value}))})),C=ra.min(n,(function(e){return ra.min(e.values,(function(e){return e.value}))}));s.domain([C,v]),f.append("g").attr("class","x axis").attr("transform","translate(0,"+i+")").call(m),f.append("g").attr("class","GridX").selectAll("line.grid").data(s.ticks()).enter().append("line").attr({class:"grid",x1:c(g[0]),x2:c(g[g.length-1])+c.rangeBand()/2,y1:function(e){return s(e)},y2:function(e){return s(e)}}),f.append("g").attr("class","y axis").call(h).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dx","-5em").attr("dy","-4em").style("text-anchor","end").style("font-family",'"Helvetica Neue",Roboto,Arial,"Droid Sans",sans-serif').style("font-size","14px").style("font-weight","500");var w=f.selectAll(".segment").data(n).enter().append("g").attr("class","segment");w.append("path").attr("id",(function(e){return e.key})).attr("visible",1).attr("d",(function(e){return p(e.values)})).style("stroke",(function(e){if("LY"!==e.Category)return d(e.key);w.append("path").attr("d",(function(e){return p(e.values.filter((function(e){return"Actuals"===e.DataType&&"LY"===e.Category})))})).style("stroke","#64bbe3").attr("stroke-width",2).attr("fill","none").attr("class","line"),w.append("path").attr("d",(function(e){return p(e.values.filter((function(e){return"Actuals"===e.DataType})))})).attr("stroke","#eed202").attr("stroke-width",2).attr("fill","none")})).attr("stroke-width",2).attr("fill","none").attr("class","line"),w.selectAll("dot").data((function(e){return e.values})).enter().append("circle").attr("r",5).attr("cx",(function(e){return c(e.Month)+c.rangeBand()/2})).attr("cy",(function(e){return s(e.value)})).style("stroke","white").style("cursor","pointer").style("fill",(function(e){return"Actuals"===e.DataType?d(this.parentNode.__data__.key):"#eed202"})).on("mouseover",(function(){_.transition().attr("class","padding tooltip").duration(500).style("opacity",1)})).on("mousemove",(function(e){_.text((a?e.Month:this.parentNode.__data__.key)+" : "+window.numberFormat(e.value,2)).style("left",ra.event.pageX+15+"px").style("top",ra.event.pageY-10+"px")})).on("mouseout",(function(){_.transition().duration(500).style("padding","0px !important").style("opacity",1e-6)})),w.selectAll("dot").data((function(e){return e.values})).enter().append("text").attr("x",(function(e){return c(e.Month)+c.rangeBand()/2-12})).attr("y",(function(e){return s(e.value)-5})).attr("class",(function(e){return this.parentNode.__data__.key+"-dots hidden-texts"})).style("fill","#000000").html((function(e){return window.numberFormat(e.value,2)})),w.append("text").datum((function(e){return{name:e.key,RevData:e.values[e.values.length-1]}})).attr("transform",(function(e){return"translate("+(c(e.RevData.Month)+c.rangeBand()/2-9)+","+(s(e.RevData.value)-10)+")"})).attr("x",-5).attr("y",-5).attr("dy",".38em").attr("class","segmentText").style("font-size","0px").style("font-weight","bold").attr("Segid",(function(e){return e.name})).text((function(e){return e.name}));var _=ra.select("body").append("div").attr("class","tooltip").style("color","white").style("background","rgb(42, 63, 84)").style("padding","5px").style("opacity",1e-6);f.append("line").attr("stroke","#333").attr("stroke-width",0).attr("class","guide").attr("x1",1).attr("y1",1).attr("x2",1).attr("y2",i)}},{key:"LegendMouseEnter",value:function(e,t){t&&(document.querySelector(".show-hoverable-legends").classList.add("hovered"),document.querySelectorAll("."+e+"-dots").forEach((function(e){e.classList.add("show")})),document.querySelectorAll("path.line").forEach((function(t){t.id===e?t.style.strokeWidth="2.5":t.style.opacity="0.2"})))}},{key:"LegendMouseLeave",value:function(e,t){t&&(document.querySelector(".show-hoverable-legends").classList.remove("hovered"),document.querySelectorAll("."+e+"-dots").forEach((function(e){e.classList.remove("show")})),document.querySelectorAll("path.line").forEach((function(e){e.style.opacity="1",e.style.strokeWidth="1.5"})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.performanceData,r=t.colors,l=t.showForecastGraph,i=Object(I.a)(new Set(n.map((function(e){return e.Category})))),c=l?"show-hoverable-legends":"";return a?o.a.createElement(We,null):0===n.length?o.a.createElement("h5",{style:{textAlign:"center",margin:"20%"}},"No data to show"):o.a.createElement("div",{className:c,style:{height:"270px"}},o.a.createElement("div",{id:"lineChart",style:{height:"100%"}}),o.a.createElement("div",{id:"legend",className:"col-md-12"},i.map((function(t,a){return o.a.createElement("p",{className:"sub-legend cursor-hover-legend "+t+"-line",onMouseEnter:e.LegendMouseEnter.bind(e,t,l),onMouseLeave:e.LegendMouseLeave.bind(e,t,l)},o.a.createElement("div",{className:"square",style:{background:r[a]}}),t)}))))}}]),a}(n.Component),_r=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Oe.a,{show:this.props.chartVisible,onHide:this.props.closeChartModal,"aria-labelledby":"ModalHeader"},o.a.createElement(Oe.a.Header,{closeButton:!0},o.a.createElement(Oe.a.Title,{id:"ModalHeader"},this.props.displayName)),o.a.createElement(Oe.a.Body,null,o.a.createElement(wr,{route:this.props.route,displayName:this.props.displayName,forecast:this.props.forecast,gettingYear:this.props.gettingYear,gettingMonth:this.props.gettingMonth,alert:this.props.alert,selectedData:this.props.selectedData,isDirectPOS:this.props.isDirectPOS}))))}}]),a}(n.Component),Dr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"loader",id:"loaderImage"},o.a.createElement("img",{src:Ge.a,className:"App-loader",alt:"logo"}))}}]),a}(n.Component),br=a(606),Sr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"sendEvent",value:function(e,t,a){var n={event_id:"3",description:"User downloaded ".concat(e),where_path:t,page_name:a};R.sendEvent(n)}},{key:"render",value:function(){var e=this,t=JSON.parse(b.getCookie("userDetails")),a=this.props,n=a.url,r=a.name,l=a.path,i=a.page,c=a.changeColor;return o.a.createElement(br.a,{title:o.a.createElement("h4",null,r)},o.a.createElement("a",{className:"download",href:"".concat(n,"&uid=").concat(t.id,"&download=do"),onClick:function(){return e.sendEvent(r,l,i)},target:"-/"},o.a.createElement("i",{className:"fa fa-download",style:{color:c?"black":"orange"}})))}}]),a}(n.Component),yr=(a(611),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={chartVisible:!1},n}return Object(c.a)(a,[{key:"closeChartModal",value:function(){this.setState({chartVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props.displayName,a=localStorage.getItem("posDownloadURL"),n=localStorage.getItem("postype"),r=this.props.columnGroup.groupId;return o.a.createElement("div",null,"Agency"!==n&&"Ancillary"!==n||"5"!==r?"AL Market Share(%)"===t?o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},t),o.a.createElement(Sr,{url:a,name:"POS DRILLDOWN",path:"/pos",page:"Pos Page"})):o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},t),o.a.createElement("i",{class:"fa fa-bar-chart-o",style:{marginLeft:"10px",cursor:"pointer"},onClick:function(){return e.setState({chartVisible:!0})}})):o.a.createElement("div",{className:"customHeaderLabel"},t),o.a.createElement(_r,{chartVisible:this.state.chartVisible,displayName:t,closeChartModal:function(){return e.closeChartModal()}}))}}]),a}(n.Component)),Nr=a(69),Tr=new Te,Ar=(new Date).getFullYear(),Rr=((new Date).getMonth(),[]),Vr=[],Yr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e,t,a,n){var o={event_id:"".concat(e),description:"User ".concat(t),where_path:"/".concat(a),page_name:"".concat(n)};R.sendEvent(o)},n.getFiltersValue=function(){Vr=[];var e=window.localStorage.getItem("RegionSelected"),t=window.localStorage.getItem("CountrySelected"),a=window.localStorage.getItem("CitySelected"),o=JSON.parse(window.localStorage.getItem("rangeValue")),r=window.localStorage.getItem("CabinSelected"),l=window.localStorage.getItem("ODSelected"),i=null===r||"Null"===r?[]:JSON.parse(r);r=i.length>0?i:"Null",a=null===a||"Null"===a||""===a?"*":JSON.parse(a),n.setState({regionId:null===e||"Null"===e||""===e?"*":JSON.parse(e),countryId:null===t||"Null"===t||""===t?"*":JSON.parse(t),cityId:a,commonOD:null===l||"Null"===l||""===l||"*"===a?"*":JSON.parse(l),gettingMonth:window.monthNumToName(o.from.month),gettingYear:o.from.year,getCabinValue:r,cabinSelectedDropDown:i},(function(){return n.getInitialData()}))},n.getInitialData=function(){var e=Object(je.a)(n),t=n.state,a=t.gettingMonth,o=t.gettingYear,r=t.regionId,l=t.countryId,i=t.cityId,c=t.commonOD,s=t.getCabinValue,u=t.ancillary;e.setState({loading:!0,loading2:!0,firstLoadList:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),e.getInitialListData(r,l,i,c),Tr.getPOSMonthTables(n.state.toggle,r,l,i,c,s).then((function(t){if(e.setState({loading:!1,firstLoadList:!1}),t){var n=t[0].totalData,s=t[0].columnName,d=t[0].rowData,m=d[1].Month,h=d[d.length-1].Month;Rr=d,e.setState({posMonthDetails:e.getHighlightedMonth(d,a,o),monthcolumns:s,monthTotalData:n,startMonth:m,lastMonth:h})}u?(e.getDrillDownData(r,l,i,c,"Ancillary"),e.setState({type:"Ancillary"})):e.getDrillDownData(r,l,i,c,"Null")}))},n.getInitialListData=function(e,t,a,o){var r=Object(je.a)(n),l=JSON.parse(b.getCookie("userDetails")).access,i="*",c="*";if("#*"!==l){r.setState({accessLevelDisable:!0});var s=l.split("#");i=s[2],c="*"===s[2]?"*":s[3]}"*"!==e&&(Vr.push({val:e,title:"Region",disable:"*"!==i}),r.setState({selectedData:e})),"*"!==t&&(Vr.push({val:t,title:"Country",disable:"*"!==c}),r.setState({selectedData:t})),"*"!==a&&(Vr.push({val:a,title:"POS"}),r.setState({selectedData:a})),"*"!==a&&"*"!==o&&(Vr.push({val:o,title:"O&D"}),r.setState({selectedData:o}))},n.getMonthDrillDownData=function(e,t,a,o){var r=Object(je.a)(n),l=n.state,i=l.gettingMonth,c=l.getCabinValue,s=l.type,u=l.gettingYear,d=l.toggle,m=l.odsearchvalue;r.setState({loading:!0,loading2:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),Tr.getPOSMonthTables(d,e,t,a,o,c).then((function(e){if(r.setState({loading:!1}),e){console.log(e,"jack");var t=e[0].totalData,a=e[0].columnName,n=e[0].rowData;Rr=n,r.setState({posMonthDetails:r.getHighlightedMonth(n,i,u),monthcolumns:a,monthTotalData:t})}})),Tr.getPOSDrillDownData(u,d,i,e,t,a,o,c,s,m).then((function(e){r.setState({loading2:!1}),e&&r.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].rowData,drillDownColumn:r.addCellRender(e[0].columnName),tabName:"Null"===s?e[0].tabName:e[0].firstTabName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,cityId:e[0].currentAccess.cityId,commonOD:e[0].currentAccess.commonOD})}))},n.getDrillDownData=function(e,t,a,o,r){var l=Object(je.a)(n),i=n.state,c=i.gettingYear,s=i.gettingMonth,u=i.getCabinValue,d=i.toggle,m=i.odsearchvalue;Tr.getPOSDrillDownData(c,d,s,e,t,a,o,u,r,m).then((function(e){l.setState({loading2:!1}),e&&l.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].rowData,drillDownColumn:l.addCellRender(e[0].columnName),tabName:"Null"===r?e[0].tabName:e[0].firstTabName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,cityId:e[0].currentAccess.cityId,commonOD:e[0].currentAccess.commonOD})}))},n.monthWiseCellClick=function(e){var t=Object(je.a)(n);t.sendEvent("2","clicked on Months row","pos","Pos Page");var a=n.state,o=(a.gettingMonth,a.regionId),r=a.countryId,l=a.cityId,i=a.commonOD,c=a.getCabinValue,s=a.type,u=(a.gettingYear,a.monthcolumns),d=e.data.Month,m=e.colDef.field,h=e.data.isUnderline,g=n.state.posMonthDetails.map((function(e){return e.highlightMe=!1,e}));if(e.api.updateRowData({update:g}),d.includes("Total ".concat(Ar-1)))n.setState({showLastYearRows:!n.state.showLastYearRows,showNextYearRows:!1},(function(){return n.getLastYearClubbedData(n.state.showLastYearRows,d)})),n.gridApiMonth.setColumnDefs(u);else if(d.includes("Total ".concat(Ar+1)))n.setState({showNextYearRows:!n.state.showNextYearRows,showLastYearRows:!1},(function(){return n.getNextYearClubbedData(n.state.showNextYearRows,d)})),n.gridApiMonth.setColumnDefs(u);else{t.setState({gettingMonth:e.data.MonthName,gettingYear:e.data.Year});var p={from:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)},to:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)}};window.localStorage.setItem("rangeValue",JSON.stringify(p)),n.gridApiMonth.setColumnDefs(u)}"CY_B"!==m||d.includes("Total")?"FRCT/Act_P"===m&&h?(e.event.stopPropagation(),t.setState({chartVisible:!0,forecastChartHeader:"Passenger Forecast"})):"FRCT/Act_A"===m&&h?(e.event.stopPropagation(),t.setState({chartVisible:!0,forecastChartHeader:"Average fare Forecast"})):"FRCT/Act_R"===m&&h?(e.event.stopPropagation(),t.setState({chartVisible:!0,forecastChartHeader:"Revenue Forecast"})):"CY_AL"===m?n.props.history.push("/topMarkets"):"Month"!==m||d.includes("Total")||(t.setState({loading2:!0,drillDownData:[],drillDownTotalData:[]}),t.getDrillDownData(o,r,l,i,s)):(e.event.stopPropagation(),t.showLoader(),Tr.getPOSCabinDetails(e.data.Year,e.data.MonthName,o,r,l,i,c).then((function(e){if(t.hideLoader(),e){var a=e[0].columnName,n=e[0].cabinData;t.setState({tableModalVisible:!0,modaldrillDownData:n,modaldrillDownColumn:a})}})))},n.regionCellClick=function(e){var t=Object(je.a)(n);t.sendEvent("2","clicked on Region drill down","pos","Pos Page");var a,o=n.state,r=o.regionId,l=o.countryId,i=o.cityId,c=o.commonOD,s=o.getCabinValue,u=e.colDef.field,d="'".concat(e.data.firstColumnName,"'"),m=e.data.firstColumnName,h=e.colDef.headerName;Vr.map((function(e,t){return a=e.title===h})),"Avail"===u?a||("*"===r?t.getAvailabilityData(d,l,i,c,s,"Null","Null"):"*"===l?t.getAvailabilityData(r,d,i,c,s,"Null","Null"):"*"===i?t.getAvailabilityData(r,l,d,c,s,"Null","Null"):"*"===c?t.getAvailabilityData(r,l,i,d,s,"Null","Null"):t.getAvailabilityData(r,l,i,c,d,"Null","Null")):"FRCT/Act_A"===u?n.getInfareGraphData(e):"CY_AL"===u?(n.storeValuesToLS(r,l,i,c,s,m),n.props.history.push("/topMarkets")):"firstColumnName"===u&&(a||(n.storeValuesToLS(r,l,i,c,s,m),"Cabin"!==h&&(t.setState({selectedData:d}),Vr.push({val:m,title:h})),"*"===r?t.getMonthDrillDownData(d,l,i,c):"*"===l?t.getMonthDrillDownData(r,d,i,c):"*"===i?t.getMonthDrillDownData(r,l,d,c):"*"===c&&t.getMonthDrillDownData(r,l,i,d)))},n.tabClick=function(e,t){var a=Object(je.a)(n);a.sendEvent("2","clicked on ".concat(e," tab"),"pos","Pos Page");var o=n.state,r=o.regionId,l=o.countryId,i=o.cityId,c=o.commonOD,s=o.monthcolumns;a.setState({type:e,drillDownData:[],drillDownTotalData:[],loading2:!0}),t?n.setState({outerTab:!0}):n.setState({outerTab:!1}),a.getDrillDownData(r,l,i,c,e),n.gridApiMonth.setColumnDefs(s)},n.ODcellClick=function(e){var t=n.state,a=(t.gettingMonth,t.regionId),o=t.countryId,r=t.cityId,l=t.commonOD,i=t.getCabinValue,c=(t.gettingYear,e.colDef.field),s=e.data.firstColumnName;if("CY_AL"===c){var u=[];u.push(s),window.localStorage.setItem("ODSelected",JSON.stringify(u)),n.props.history.push("/topMarkets")}else"Avail"===c&&n.getAvailabilityData(a,o,r,l,i,"OD",s)},n.agentCellClick=function(e){var t=e.colDef.field,a=e.data.firstColumnName;"firstColumnName"===t&&(window.localStorage.setItem("Agent",a),window.location.href="/agentAnalysis")},n.compartmentCellClick=function(e){var t=n.state,a=(t.gettingMonth,t.regionId),o=t.countryId,r=t.cityId,l=t.commonOD,i=t.getCabinValue,c=(t.gettingYear,e.colDef.field),s=e.data.firstColumnName;"Avail"===c?n.getAvailabilityData(a,o,r,l,i,"Cabin",s):"FRCT/Act_A"===c&&n.getInfareGraphData(e)},n.homeHandleClick=function(e){var t=Object(je.a)(n);if("#*"===JSON.parse(b.getCookie("userDetails")).access){t.sendEvent("2","clicked on Network","pos","Pos Page"),t.setState({loading:!0,loading2:!0,firstHome:!1,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[],toggle:"bc"}),window.localStorage.setItem("RegionSelected","Null"),window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null"),t.getMonthDrillDownData("*","*","*","*"),Vr=[];var a=window.location.href.split("?")[0];window.history.pushState("object",document.title,a)}},n.listHandleClick=function(e,t,a){var o=Object(je.a)(n);o.sendEvent("2","clicked on Drill down list","pos","Pos Page");var r=n.state,l=r.regionId,i=r.countryId,c=r.cityId,s=e;"'"!==s.charAt(0)&&"'"!==s.charAt(s.length-1)&&(s="'".concat(e,"'")),e.includes(",")&&(s="'".concat(e.split(",").join("','"),"'")),o.setState({selectedData:s,loading:!0,loading2:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var u=decodeURIComponent(t);if("List"===a){var d=Vr.findIndex((function(e){return e.title==t})),m=Vr.slice(0,d+1);Vr=m,n.changeURLOnListClick(l,i,c,e,u)}else"browserBack"===a&&n.onBackPressClearLS(u);"Region"===u?o.getMonthDrillDownData(s,"*","*","*"):"Country"===u?o.getMonthDrillDownData(l,s,"*","*"):"POS"===u?o.getMonthDrillDownData(l,i,s,"*"):"O&D"===u&&o.getMonthDrillDownData(l,i,c,s)},n.cabinSelectChange=function(e){e.preventDefault();var t=e.target.value;n.setState({getCabinValue:t,cabinSelectedDropDown:t},(function(){window.localStorage.setItem("CabinSelected",JSON.stringify(t))}))},n.odsearchfilter=function(e){var t=n.state,a=t.regionId,o=t.countryId,r=t.cityId,l=t.commonOD,i=t.type,c=t.odsearchvalue,s=e.target.value;n.setState({odsearchvalue:s}),console.log(c,"option"),n.setState({loading2:!0}),setTimeout((function(){n.getDrillDownData(a,o,r,l,i)}),4e3)},n.toggle=function(e){var t=e.target.value,a=n.state,o=a.regionId,r=a.countryId,l=a.cityId,i=a.commonOD;n.sendEvent("2","clicked on Currency toggle","pos","Pos Page"),n.setState({toggle:t},(function(){return n.getMonthDrillDownData(o,r,l,i)}))},n.redirection=function(e){n.sendEvent("2","clicked on POS/Route drop down","pos","Pos Page");var t=e.target.value,a=window.localStorage.getItem("RouteGroupSelected");a=null!==a?JSON.parse(a).join(","):"Network",n.url="/route?RouteGroup=".concat(a);var o=window.localStorage.getItem("RouteRegionSelected"),r=window.localStorage.getItem("RouteCountrySelected"),l=window.localStorage.getItem("RouteSelected"),i=window.localStorage.getItem("LegSelected"),c=window.localStorage.getItem("FlightSelected");null!==o&&"Null"!==o&&(o=JSON.parse(o),n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o))),null!==r&&"Null"!==r&&(r=JSON.parse(r),n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r))),null!==l&&"Null"!==l&&(l=JSON.parse(l),n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r),"&Route=").concat(H(l))),null!==i&&"Null"!==i&&""!==i&&(n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r),"&Route=").concat(H(l),"&Leg=").concat(H(i))),null!==c&&"Null"!==c&&""!==c&&(n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r),"&Route=").concat(H(l),"&Leg=").concat(H(i),"&Flight=").concat(H(c))),"POS"===t?(n.props.history.push("/pos"),Vr=[]):(n.props.history.push(n.url),Vr=[])},n.alerts=function(e){var t=e.value,a=e.colDef.headerName,o=document.createElement("span"),r=e.data.isAlert;if("0"!==(r=void 0!==r?r.toString():null)&&null!==r){var l=document.createElement("i");l.className="fa fa-bell",l.onclick=function(e){e.stopPropagation(),n.getAlertCardsData(a,t)},o.appendChild(l)}return o.appendChild(document.createTextNode(e.value)),o},n.getAlertCardsData=function(e,t){var a=n.state,o=(a.gettingMonth,a.gettingYear,a.regionId),r=a.countryId,l=a.cityId,i=(a.commonOD,a.getCabinValue),c=JSON.parse(b.getCookie("userDetails")),s=U(o),u=U(r),d=U(l),m=(U(i),"");"Cabin"!==e&&(m="user_id=".concat(c.id)),"Region"===e&&(m="".concat(m,"&regionId='").concat(encodeURIComponent(t),"'")),"Country"===e&&(m="".concat(m,"&regionId=").concat(s,"&countryId='").concat(encodeURIComponent(t),"'")),"POS"===e&&(m="".concat(m,"&regionId=").concat(s,"&countryId=").concat(u,"&cityId='").concat(encodeURIComponent(t),"'")),"O&D"===e&&(m="".concat(m,"&regionId=").concat(s,"&countryId=").concat(u,"&cityId=").concat(d,"&commonOD='").concat(encodeURIComponent(t),"'")),"Cabin"!==e&&L.get("getallalerts?".concat(m,"&infare=low")).then((function(e){if(e)if(e.data.response.length>0){var t=e.data.response;n.setState({alertData:t,alertVisible:!0})}else n.setState({alertData:[],alertVisible:!0})})).catch((function(e){}))},n.getInfareGraphData=function(e){var t=n.state,a=t.gettingMonth,o=t.gettingYear,r=t.regionId,l=t.countryId,i=t.cityId,c=t.commonOD,s=t.getCabinValue,u=t.toggle,d=U(r),m=U(l),h=U(i),g=U(s),p=e.columnApi.columnController.columnDefs[0].children[0].headerName,f=e.data.firstColumnName,v="";"Cabin"!==p&&(v="gettingMonth=".concat(window.monthNameToNum(a),"&getYear=").concat(o,"&getCabinValue=").concat(g,"&currency_params=").concat(u)),"Region"===p&&(v="".concat(v,"&regionId='").concat(encodeURIComponent(f),"'")),"Country"===p&&(v="".concat(v,"&regionId=").concat(d,"&countryId='").concat(encodeURIComponent(f),"'")),"POS"===p&&(v="".concat(v,"&regionId=").concat(d,"&countryId=").concat(m,"&cityId='").concat(encodeURIComponent(f),"'")),"O&D"===p&&(v="".concat(v,"&regionId=").concat(d,"&countryId=").concat(m,"&cityId=").concat(h,"&commonOD='").concat(encodeURIComponent(f),"'")),"Cabin"===p&&(v="currency_params=".concat(u,"&gettingMonth=").concat(window.monthNameToNum(a),"&getYear=").concat(o,"&getCabinValue='").concat(f,"'&regionId=").concat(d,"&countryId=").concat(m,"&cityId=").concat(h,"&commonOD=").concat(encodeURIComponent(c))),L.get("infaregraph?".concat(v)).then((function(e){if(e){var t=e.data.response[0].GraphData,a=e.data.response[0].currencyData[0].Currency;t.length>0?n.setState({infareData:t,infareGraphHeading:"".concat(f," (").concat(a,")"),infareCurrency:a,infareModalVisible:!0}):n.setState({infareData:[],infareGraphHeading:"".concat(f," (").concat(a,")"),infareCurrency:a,infareModalVisible:!0})}})).catch((function(e){y.a.fire({title:"Error!",text:"Something went wrong. Please try after some time",icon:"error",confirmButtonText:"Ok"}).then((function(){}))}))},n.serialize=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")},n.showLoader=function(){w()("#loaderImage").addClass("loader-visible")},n.hideLoader=function(){w()("#loaderImage").removeClass("loader-visible"),w()(".x_panel").addClass("opacity-fade"),w()(".top-buttons").addClass("opacity-fade")},n.renderTabs=function(){var e=n.state,t=e.tabName,a=e.outerTab,r=e.ancillary;return o.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},"Cabin"===t?o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("OD","outerTab")}},o.a.createElement("a",{href:"#Section2","aria-controls":"profile",role:"tab","data-toggle":"tab"},"O&D")):"",o.a.createElement("li",{role:"presentation",className:"".concat(r?"":"active"),onClick:function(){return n.tabClick("Null")}},o.a.createElement("a",{href:"#Section1","aria-controls":"home",role:"tab","data-toggle":"tab"},t)),"O&D"===t||"Cabin"===t?"":o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("OD")},className:a?"active":""},o.a.createElement("a",{href:"#Section2","aria-controls":"profile",role:"tab","data-toggle":"tab"},"O&D")),"Cabin"===t?"":o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Cabin")}},o.a.createElement("a",{href:"#Section3","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Cabin")),o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Agency")}},o.a.createElement("a",{href:"#Section4","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Agency")),o.a.createElement("li",{role:"presentation",className:"".concat(r?"active":""),onClick:function(){return n.tabClick("Ancillary")}},o.a.createElement("a",{href:"#Section5","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Ancillary")),o.a.createElement("li",{role:"presentation",onClick:function(){return n.props.history.push("/posPromotion")}},o.a.createElement("a",{href:"#Section5","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Promotion Tracking")))},n.gridApiMonthly=function(e){n.gridApiMonth=e},n.pathName=window.location.pathname,n.selectedRegion=null,n.selectedCountry=null,n.selectedCity=null,n.gridApiMonth=null,n.state={posMonthDetails:[],monthTotalData:[],drillDownTotalData:[],monthcolumns:[],drillDownColumn:[],drillDownData:[],modaldrillDownColumn:[],modaldrillDownData:[],modalData:[],availModalData:[],availModalColumn:[],availTotalData:[],availModalVisible:!1,tableDatas:!0,gettingMonth:null,gettingYear:null,gettingRegion:"Null",monthTableTitle:"NETWORK",tabLevel:"Null",cabinOption:[],alertData:[],getCabinValue:[],cabinSelectedDropDown:[],cabinDisable:!0,toggle:"bc",alertVisible:!1,tableModalVisible:!1,tabName:"Region",regionId:"*",countryId:"*",cityId:"*",commonOD:"*",type:"Null",baseAccess:"",selectedData:"Null",infareData:[],infareModalVisible:!1,infareGraphHeading:"",loading:!1,loading2:!1,loading3:!1,firstLoadList:!1,showLastYearRows:!1,showNextYearRows:!1,accessLevelDisable:!1,chartVisible:!1,forecastChartHeader:"",posMonthRowClassRule:{"highlight-row":"data.highlightMe"},firstHome:!0,infareCurrency:"",outerTab:!1,ancillary:!1,ensureIndexVisible:null,startMonth:"",lastMonth:"",odsearchvalue:""},n.sendEvent("1","viewed Pos Page","pos","Pos page"),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=J("ancillary",window.location.href);this.setState({ancillary:t||!1}),e.getFiltersValue(),Tr.getClassNameDetails().then((function(t){if(t){var a=t[0].classDatas;e.setState({cabinOption:a,cabinDisable:!1})}}))}},{key:"componentDidUpdate",value:function(){var e=this;window.onpopstate=function(t){var a=e.props.browserToProps.queryParams,n=Object.values(a),o=Object.keys(a),r=o.length-1;"undefined"!==n[0]?(e.pushURLToBcData(a,o,n,r),e.setState({firstHome:!0})):e.state.firstHome&&e.homeHandleClick()}}},{key:"pushURLToBcData",value:function(e,t,a,n){if(e.hasOwnProperty("Region")&&!Vr.some((function(e){return"Region"===e.title}))){var o,r,l=e.Region,i=e.Region;l.includes(",")?l="'".concat(l.split(",").join("','"),"'"):"'"!==l.charAt(0)&&"'"!==l.charAt(l.length-1)&&(l="'".concat(l,"'")),"'"===i.charAt(0)&&"'"===i.charAt(i.length-1)?r=i.substring(1,i.length-1):i.includes(",")?(o=i.split(","),r=i):r=i,console.log("rahul Region",o),Vr.push({val:r,title:"Region"}),this.setState({regionId:l});var c=i.includes(",")?o:[].concat([r]);window.localStorage.setItem("RegionSelected",JSON.stringify(c))}if(e.hasOwnProperty("Country")&&!Vr.some((function(e){return"Country"===e.title}))){var s,u,d=e.Country,m=e.Country;d.includes(",")?d="'".concat(d.split(",").join("','"),"'"):"'"!==d.charAt(0)&&"'"!==d.charAt(d.length-1)&&(d="'".concat(d,"'")),"'"===m.charAt(0)&&"'"===m.charAt(m.length-1)?u=m.substring(1,m.length-1):m.includes(",")?(s=m.split(","),u=m):u=m,Vr.push({val:u,title:"Country"}),this.setState({countryId:d});var h=m.includes(",")?s:[].concat([u]);window.localStorage.setItem("CountrySelected",JSON.stringify(h)),console.log("rahul Country",u,d)}if(e.hasOwnProperty("POS")&&!Vr.some((function(e){return"POS"===e.title}))){var g,p,f=e.POS,v=e.POS;f.includes(",")?f="'".concat(f.split(",").join("','"),"'"):"'"!==f.charAt(0)&&"'"!==f.charAt(f.length-1)&&(f="'".concat(f,"'")),"'"===v.charAt(0)&&"'"===v.charAt(v.length-1)?p=v.substring(1,v.length-1):v.includes(",")?(g=v.split(","),p=v):p=v,Vr.push({val:p,title:"POS"}),this.setState({cityId:f});var C=v.includes(",")?g:[].concat([p]);window.localStorage.setItem("CitySelected",JSON.stringify(C)),console.log("rahul POS",p,f)}if(e.hasOwnProperty("O%26D")&&!Vr.some((function(e){return"O&D"===e.title}))&&(Vr.push({val:e["O%26D"],title:"O&D"}),console.log("rahul OD",e["O%26D"]),this.setState({commonOD:e["O%26D"]}),window.localStorage.setItem("ODSelected",e["O%26D"])),console.log("rahul bcData before",Vr,n,a[n],e),Vr.length>0){var w=Vr.slice(0,n+1);Vr=w}console.log("rahul bcData after",Vr),this.listHandleClick(a[n],t[n],"browserBack")}},{key:"getHighlightedMonth",value:function(e,t,a){var n=this,o=window.monthNameToNum(t),r=0;return e.filter((function(e,t){var l=e.Month,i="".concat(window.shortMonthNumToName(o)," ").concat(a);if(a!==Ar-1&&e.Year===Ar-1&&(r+=1),i===l&&(e.highlightMe=!0,n.setState({ensureIndexVisible:t-r})),a===Ar){if(e.Month==="Total ".concat(Ar-1)&&(e.Month="\u25ba Total ".concat(Ar-1)),e.Month==="Total ".concat(Ar+1)&&(e.Month="\u25ba Total ".concat(Ar+1)),e.Year===Ar||e.Month==="\u25ba Total ".concat(Ar-1)||e.Month==="\u25ba Total ".concat(Ar+1))return e}else if(a===Ar+1){if(e.Month==="Total ".concat(Ar-1)&&(e.Month="\u25ba Total ".concat(Ar-1)),e.Month==="Total ".concat(Ar+1)&&(e.Month="\u25bc Total ".concat(Ar+1)),e.Year>=Ar||e.Month==="\u25ba Total ".concat(Ar-1)||e.Month==="\u25bc Total ".concat(Ar+1))return e;n.setState({showNextYearRows:!0,showLastYearRows:!1})}else if(a===Ar-1){if(e.Month==="Total ".concat(Ar-1)&&(e.Month="\u25bc Total ".concat(Ar-1)),e.Month==="Total ".concat(Ar+1)&&(e.Month="\u25ba Total ".concat(Ar+1)),e.Year<=Ar||e.Month==="\u25bc Total ".concat(Ar-1)||e.Month==="\u25ba Total ".concat(Ar+1))return e;n.setState({showLastYearRows:!0,showNextYearRows:!1})}}))}},{key:"getHighlightedRow",value:function(e,t){return e.map((function(e,t){var a=e.Month;return a==="\u25bc Total ".concat(Ar-1)||a==="\u25ba Total ".concat(Ar-1)?e.highlightMe=!0:a!=="\u25bc Total ".concat(Ar+1)&&a!=="\u25ba Total ".concat(Ar+1)||(e.highlightMe=!0),e}))}},{key:"getLastYearClubbedData",value:function(e,t){if(e){var a=Rr.filter((function(e){if(e.Month==="\u25ba Total ".concat(Ar-1)&&(e.Month="\u25bc Total ".concat(Ar-1)),e.Month==="\u25bc Total ".concat(Ar+1)&&(e.Month="\u25ba Total ".concat(Ar+1)),e.Year<=Ar||e.Month==="\u25bc Total ".concat(Ar-1)||e.Month==="\u25ba Total ".concat(Ar+1))return e}));this.setState({posMonthDetails:this.getHighlightedRow(a,t)})}else{var n=Rr.filter((function(e){if(e.Month==="\u25bc Total ".concat(Ar-1)&&(e.Month="\u25ba Total ".concat(Ar-1)),e.Month==="\u25bc Total ".concat(Ar+1)&&(e.Month="\u25ba Total ".concat(Ar+1)),e.Year===Ar||e.Month==="\u25ba Total ".concat(Ar-1)||e.Month==="\u25ba Total ".concat(Ar+1))return e}));this.setState({posMonthDetails:this.getHighlightedRow(n,t)})}}},{key:"getNextYearClubbedData",value:function(e,t){if(e){var a=Rr.filter((function(e){if(e.Month==="\u25ba Total ".concat(Ar+1)&&(e.Month="\u25bc Total ".concat(Ar+1)),e.Month==="\u25bc Total ".concat(Ar-1)&&(e.Month="\u25ba Total ".concat(Ar-1)),e.Year>=Ar||e.Month==="\u25bc Total ".concat(Ar+1)||e.Month==="\u25ba Total ".concat(Ar-1))return e}));this.setState({posMonthDetails:this.getHighlightedRow(a,t)})}else{var n=Rr.filter((function(e){if(e.Month==="\u25bc Total ".concat(Ar+1)&&(e.Month="\u25ba Total ".concat(Ar+1)),e.Month==="\u25bc Total ".concat(Ar-1)&&(e.Month="\u25ba Total ".concat(Ar-1)),e.Year===Ar||e.Month==="\u25ba Total ".concat(Ar+1)||e.Month==="\u25ba Total ".concat(Ar-1))return e}));this.setState({posMonthDetails:this.getHighlightedRow(n,t)})}}},{key:"getAvailabilityData",value:function(e,t,a,n,o,r,l){var i=this,c=this.state,s=c.gettingYear,u=c.gettingMonth;this.showLoader(),Tr.getAvailabilityDetails(s,u,e,t,a,n,o,r,l).then((function(e){i.hideLoader(),e&&i.setState({availModalVisible:!0,availModalColumn:e[0].columnName,availModalData:e[0].rowData})}))}},{key:"rectifyURLValues",value:function(e,t,a){Array.isArray(e)?this.selectedRegion=e.join(","):e.includes("','")?(this.selectedRegion=e.split("','").join(","),this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)):(this.selectedRegion=e,this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)),Array.isArray(t)?this.selectedCountry=t.join(","):e.includes("','")?(this.selectedCountry=t.split("','").join(","),this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)):(this.selectedCountry=t,this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)),Array.isArray(a)?this.selectedCity=a.join(","):e.includes("','")?(this.selectedCity=a.split("','").join(","),this.selectedCity=this.selectedCity.substring(1,this.selectedCity.length-1)):(this.selectedCity=a,this.selectedCity=this.selectedCity.substring(1,this.selectedCity.length-1))}},{key:"storeValuesToLS",value:function(e,t,a,n,o,r){var l=[],i=[],c=[],s=[],u=[];this.rectifyURLValues(e,t,a),"*"===e?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(r))),l.push(r),window.localStorage.setItem("RegionSelected",JSON.stringify(l))):"*"===t?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(r)),i.push(r),window.localStorage.setItem("CountrySelected",JSON.stringify(i))):"*"===a?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&POS=").concat(r)),c.push(r),window.localStorage.setItem("CitySelected",JSON.stringify(c))):"*"===n?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&POS=").concat(this.selectedCity,"&").concat(encodeURIComponent("O&D"),"=").concat(r)),s.push(r),window.localStorage.setItem("ODSelected",JSON.stringify(s))):"Null"===o&&(u.push(r),window.localStorage.setItem("CabinSelected",JSON.stringify(u)))}},{key:"changeURLOnListClick",value:function(e,t,a,n,o){this.rectifyURLValues(e,t,a),"Region"===o?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(n))),window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null")):"Country"===o?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(n)),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null")):"POS"===o?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&POS=").concat(n)),window.localStorage.setItem("ODSelected","Null")):"O&D"===o&&this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&POS=").concat(this.selectedCity,"&").concat(encodeURIComponent("O&D"),"=").concat(n))}},{key:"onBackPressClearLS",value:function(e){"Region"===e?(window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null")):"Country"===e?(window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null")):"POS"===e&&window.localStorage.setItem("ODSelected","Null")}},{key:"onCabinClose",value:function(){var e=this;this.sendEvent("2","clicked on Cabin drop down","pos","Pos Page"),this.state.cabinSelectedDropDown.length>0?this.getDataOnCabinChange():(this.setState({getCabinValue:"Null"},(function(){return e.getDataOnCabinChange()})),window.localStorage.setItem("CabinSelected","Null"))}},{key:"getDataOnCabinChange",value:function(){this.setState({loading:!0,loading2:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var e=this.state,t=e.regionId,a=e.countryId,n=e.cityId,o=e.commonOD;this.getMonthDrillDownData(t,a,n,o)}},{key:"addCellRender",value:function(e){var t=this;return e.map((function(e){return"firstColumnName"===e.field&&(e.cellRenderer=t.alerts),e.children&&(e.children=t.addCellRender(e.children)),e}))}},{key:"renderInfareGraphModal",value:function(){var e=this;return o.a.createElement(Oe.a,{show:this.state.infareModalVisible,onHide:function(){return e.setState({infareModalVisible:!1})},"aria-labelledby":"ModalHeader"},o.a.createElement(Oe.a.Header,{closeButton:!0},o.a.createElement(Oe.a.Title,{id:"ModalHeader"},"Infare Graph of ".concat(this.state.infareGraphHeading))),o.a.createElement(Oe.a.Body,null,o.a.createElement(hr,{infareData:this.state.infareData,currency:this.state.infareCurrency})))}},{key:"renderAvailModal",value:function(){return o.a.createElement(pr,{tableModalVisible:this.state.availModalVisible,rowData:this.state.availModalData,columns:this.state.availModalColumn,header:"Availability Details",loading:this.state.loading3})}},{key:"render",value:function(){var e=this,t=this.state,a=t.cabinOption,n=t.cabinSelectedDropDown,r=t.cabinDisable,l=t.accessLevelDisable,i=(t.outerTab,t.ancillary),c=t.startMonth,s=t.lastMonth;return o.a.createElement("div",{className:"pos-details"},o.a.createElement(Dr,null),o.a.createElement(ta,this.props),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top"},o.a.createElement("div",{className:"navdesign",style:{marginTop:"0px"}},o.a.createElement("div",{className:"col-md-7 col-sm-7 col-xs-7 toggle1"},o.a.createElement("select",{className:"form-control cabinselect pos-route-dropdown",onChange:function(t){return e.redirection(t)}},o.a.createElement("option",{value:"POS",selected:!0},"POS"),o.a.createElement("option",{value:"Route"},"Route")),o.a.createElement("section",null,o.a.createElement("nav",null,o.a.createElement("ol",{className:"cd-breadcrumb"},o.a.createElement("div",{style:{cursor:l?"not-allowed":"pointer"}},o.a.createElement("li",{className:"".concat(l?"breadcrumb-disable":""),onClick:function(){return e.homeHandleClick()}}," ","Network"," ")),this.state.firstLoadList?"":Vr.map((function(t){return o.a.createElement("div",{style:{cursor:t.disable?"not-allowed":"pointer"}},o.a.createElement("li",{className:"".concat(t.disable?"breadcrumb-disable":""),onClick:function(a){return e.listHandleClick(a.target.id,t.title,"List")},id:t.val,title:"".concat(t.title," : ").concat(t.val)}," > ".concat(t.val)))})))))),o.a.createElement("div",null,o.a.createElement("h4",null," Data Available from ",c," to ",s)),o.a.createElement("div",{className:"col-md-5 col-sm-5 col-xs-5 toggle2"},o.a.createElement("div",{className:"cabin-selection"},o.a.createElement("h4",null,"Select Cabin :"),o.a.createElement(gt.a,{className:"select-group"},o.a.createElement(mt.a,{id:"demo-mutiple-checkbox-label"},"All"),o.a.createElement(ft.a,{labelId:"demo-mutiple-checkbox-label",className:"".concat(r?"disable":""),id:"demo-mutiple-checkbox",multiple:!0,value:n,onChange:function(t){return e.cabinSelectChange(t)},input:o.a.createElement(dt.a,null),renderValue:function(e){return e.join(",")},onClose:function(){return e.onCabinClose()},MenuProps:{classes:"disable"}},a.map((function(e){return o.a.createElement(ht.a,{key:e.ClassValue,value:e.ClassValue},o.a.createElement(vt.a,{checked:n.indexOf(e.ClassText)>-1}),o.a.createElement(pt.a,{primary:e.ClassText}))}))))),o.a.createElement("h4",null,"Select Currency :"),o.a.createElement("select",{className:"form-control cabinselect currency-dropdown",onChange:function(t){return e.toggle(t)},disabled:"*"===this.state.countryId},o.a.createElement("option",{value:"bc",selected:"*"===this.state.countryId||"bc"===this.state.toggle},"BC"),o.a.createElement("option",{value:"lc"},"LC")))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},o.a.createElement("div",{className:"x_panel",style:{marginTop:"10px",height:"calc(100vh - 130px)"}},o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{gridApi:this.gridApiMonthly,rowData:this.state.posMonthDetails,columnDefs:this.state.monthcolumns,loading:this.state.loading,onCellClicked:function(t){return e.monthWiseCellClick(t)},frameworkComponents:{customHeaderGroupComponent:yr},rowClassRules:this.state.posMonthRowClassRule,pos:!0,ensureIndexVisible:this.state.ensureIndexVisible}),o.a.createElement(ba,{rowData:this.state.monthTotalData,columnDefs:this.state.monthcolumns,loading:this.state.loading,frameworkComponents:{customHeaderGroupComponent:yr},responsive:!0,reducingPadding:!0}),o.a.createElement("div",{className:"tab",id:"posTableTab",role:"tabpanel",style:{marginTop:"10px"}},this.renderTabs(),o.a.createElement("div",{className:"tab-content tabs"},o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in ".concat(i?"":"active"),id:"Section1"},"*"!=this.state.cityId?o.a.createElement("div",{style:{height:"4vh",backgroundColor:"#1784c7"}},o.a.createElement("input",{placeholder:"Search OD",onChange:this.odsearchfilter,id:"filter-text-box",style:{width:"6vw",height:"4vh"},value:this.state.odsearchvalue})):"",o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.regionCellClick(t)},loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section2"},o.a.createElement("div",{style:{height:"4vh",backgroundColor:"#1784c7"}},o.a.createElement("input",{placeholder:"Search OD",onChange:this.odsearchfilter,id:"filter-text-box",style:{width:"6vw",height:"4vh"},value:this.state.odsearchvalue})),o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.ODcellClick(t)},loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section3"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.compartmentCellClick(t)},loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section4"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.agentCellClick(t)},loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in ".concat(i?"active":""),id:"Section5"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})))))))),o.a.createElement("div",null,o.a.createElement(pr,{tableModalVisible:this.state.tableModalVisible,rowData:this.state.modaldrillDownData,columns:this.state.modaldrillDownColumn,header:"".concat(this.state.gettingMonth," ").concat(this.state.gettingYear),loading:this.state.loading3}),o.a.createElement(mr,{alertVisible:this.state.alertVisible,alertData:this.state.alertData,closeAlertModal:function(){return e.setState({alertVisible:!1})}}),this.renderAvailModal(),this.renderInfareGraphModal(),o.a.createElement(_r,{chartVisible:this.state.chartVisible,displayName:this.state.forecastChartHeader,gettingYear:this.state.gettingYear,gettingMonth:this.state.gettingMonth,forecast:!0,closeChartModal:function(){return e.setState({chartVisible:!1})}})),o.a.createElement("p",{className:"copyright-message"},"Copyright \xa9 2022 Revemax | All rights reserved | Contact"))}}]),a}(n.Component),Er=Object(Nr.a)(Yr),Lr=[],kr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={segmentData:[],loading:!0,tableModalVisible:!1,segmentRowClassRule:{"highlight-dBlue-row":"data.highlightMe"}},n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.rowData!==this.props.rowData&&(Lr=e.rowData,this.setState({segmentData:this.getSegmentsAllData(e.rowData),tableModalVisible:e.tableModalVisible}))}},{key:"getSegmentsAllData",value:function(e){var t="",a=e.filter((function(e,a){var n=e.Seg;if(n.indexOf("Total of ")>-1&&(0===a?(e.Seg="\u25bc "+e.Seg.replace("Total of ",""),t=n.replace("Total of ","")):e.Seg="\u25ba "+e.Seg.replace("Total of ","")),n.indexOf("Total of ")>-1&&(e.highlightMe=!0),e.Segmentation==t||n.indexOf("Total of ")>-1)return e}));return this.setState({loading:!1}),a}},{key:"getHighlightedRow",value:function(e,t){return e.map((function(e,a){var n=e.Seg;return t===n&&(e.highlightMe=!0),e}))}},{key:"totalRowClick",value:function(e){this.setState({loading:!0});var t=e.data.Seg,a=t.replace("\u25ba ","");if(a=a.replace("\u25bc ",""),t.indexOf("\u25ba ")>-1||t.indexOf("\u25bc ")>-1){var n=Lr.filter((function(e){var n=e.Seg;if(console.log(n,"value"),(n.indexOf("\u25ba ")>-1||n.indexOf("\u25bc ")>-1)&&(e.Seg=e.Seg.replace("\u25bc ",""),e.Seg=e.Seg.replace("\u25ba ",""),n.indexOf(t)>-1?e.Seg="\u25bc "+e.Seg:e.Seg="\u25ba "+e.Seg),e.Segmentation===a||n.indexOf("\u25ba ")>-1||n.indexOf("\u25bc ")>-1)return e}));this.setState({segmentData:this.getHighlightedRow(n,t)})}this.setState({loading:!1})}},{key:"closeModal",value:function(){this.setState({tableModalVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.datas,t.rowData,t.columns);return o.a.createElement("div",null,o.a.createElement(Oe.a,{show:this.state.tableModalVisible,onHide:function(){return e.closeModal()},"aria-labelledby":"ModalHeader"},o.a.createElement(Oe.a.Header,{closeButton:!0},o.a.createElement(Oe.a.Title,{id:"ModalHeader"},this.props.header)),o.a.createElement(Oe.a.Body,null,o.a.createElement("div",{className:"root"},o.a.createElement(Da,{rowData:this.state.segmentData,columnDefs:a,autoHeight:"autoHeight",loading:this.state.loading,onCellClicked:function(t){return e.totalRowClick(t)},rowClassRules:this.state.segmentRowClassRule})))))}}]),a}(n.Component),Br=(a(1009),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={chartVisible:!1},n}return Object(c.a)(a,[{key:"closeChartModal",value:function(){this.setState({chartVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props.displayName,a=localStorage.getItem("posDownloadURL"),n=localStorage.getItem("postype"),r=this.props.columnGroup.groupId;return o.a.createElement("div",null,"Agency"!==n&&"Ancillary"!==n||"5"!==r?"AL Market Share(%)"===t?o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},t),o.a.createElement(Sr,{url:a,name:"POS DRILLDOWN",path:"/pos",page:"Pos Page"})):o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},t),o.a.createElement("i",{class:"fa fa-bar-chart-o",style:{marginLeft:"10px",cursor:"pointer"},onClick:function(){return e.setState({chartVisible:!0})}})):o.a.createElement("div",{className:"customHeaderLabel"},t),o.a.createElement(_r,{chartVisible:this.state.chartVisible,displayName:t,closeChartModal:function(){return e.closeChartModal()}}))}}]),a}(n.Component));a(209);Ma.a.fcRoot(Ba.a,Oa.a);var Ir=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=n.state.NationalityChartConfig;t.dataSource.data=e.datasetOne,n.setState({NationalityChartConfig:t})},n.state={NationalityChartConfig:{type:"bar2d",renderAt:"chart-container",width:"590",height:"320",dataFormat:"json",dataSource:{chart:{caption:"Revenue by PCSSR",rotateLabels:"0",labelDisplay:"notwrap",captionFontSize:"12",xAxisName:"pcssr",lineThickness:"2",theme:"candy"},data:[]}}},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this.props,t=this.state.NationalityChartConfig;t.dataSource.data=e.datasetOne,this.setState({NationalityChartConfig:t})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.NationalityChartConfig.dataSource.data.length>0?o.a.createElement(Ma.a,this.state.NationalityChartConfig):"No Data To Show",this.state.NationalityChartConfig.dataSource.data.length>0?o.a.createElement("div",{className:"hide-watermark"}):"")}}]),a}(n.Component);Ma.a.fcRoot(Ba.a,Oa.a);var Or=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=n.state.AgeBandChartConfig;t.dataSource.data=e.datasetFifth,n.setState({AgeBandChartConfig:t})},n.state={AgeBandChartConfig:{type:"bar2d",renderAt:"chart-container",width:"590",height:"320",dataFormat:"json",dataSource:{chart:Object(p.a)({theme:"fusion",caption:" Revenue by PCSSR",rotateLabels:"0",labelDisplay:"notwrap",captionFontSize:"12",xAxisName:"pcssr",lineThickness:"2"},"theme","candy"),data:[]}}},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this.props,t=this.state.AgeBandChartConfig;t.dataSource.data=e.datasetFifth,this.setState({AgeBandChartConfig:t})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.AgeBandChartConfig.dataSource.data.length>0?o.a.createElement(Ma.a,this.state.AgeBandChartConfig):"No Data To Show",this.state.AgeBandChartConfig.dataSource.data.length>0?o.a.createElement("div",{className:"hide-watermark"}):"")}}]),a}(n.Component),Pr=new Te,Mr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e){R.sendEventWithHeader({event_id:"1",description:"User viewed Promo Title Graph",where_path:"/posPromotion",page_name:"Pos Promotion"},e)},n.getGraphData=function(){var e=n.props,t=e.gettingYear,a=e.gettingMonth,o=e.regionId,r=e.countryId,l=e.commonOD,i=e.cabinId,c=e.enrichId,s=e.getCabinValue,u=e.type,d=e.NationalityId,m=e.AgeBandId;"Nationality"===u?n.setState({Nationality:!n.state.Nationality,getYear:t,gettingMonth:a,regionId:o,countryId:r,commonOD:l,cabinId:i,enrichId:c,NationalityId:d,getCabinValue:s,type:u},(function(){return n.NationalityGraph()})):"Age Band"===u&&n.setState({getYear:t,gettingMonth:a,regionId:o,countryId:r,commonOD:l,cabinId:i,enrichId:c,getCabinValue:s,type:u,AgeBandId:m},(function(){return n.AgeBandGraph()}))},n.NationalityGraph=function(){var e=Object(je.a)(n),t=n.state,a=t.getYear,o=t.currency,r=t.gettingMonth,l=t.regionId,i=t.countryId,c=t.commonOD,s=t.cabinId,u=t.enrichId,d=t.getCabinValue,m=t.type,h=t.NationalityId;e.showLoader(),Pr.getNationalityGraph(a,o,r,l,i,c,s,u,d,m,h).then((function(t){if(e.hideLoader(),t){var a=t[0].Data;e.setState({datasetOne:a})}}))},n.AgeBandGraph=function(){var e=Object(je.a)(n),t=n.state,a=t.getYear,o=t.currency,r=t.gettingMonth,l=t.regionId,i=t.countryId,c=t.commonOD,s=t.cabinId,u=t.enrichId,d=t.getCabinValue,m=t.type,h=t.AgeBandId;e.showLoader(),Pr.getAgeBandGraph(a,o,r,l,i,c,s,u,d,m,h).then((function(t){if(e.hideLoader(),t){var a=t[0].Data;e.setState({datasetFifth:a})}}))},n.showLoader=function(){n.setState({loading:!0}),w()("#loaderImage").addClass("loader-visible")},n.hideLoader=function(){n.setState({loading:!1}),w()("#loaderImage").removeClass("loader-visible"),w()(".x_panel").addClass("opacity-fade"),w()(".top-buttons").addClass("opacity-fade")},n.state={Nationality:!1,datasetOne:[],datasetFifth:[],loading:!1,regionId:"*",countryId:"*",commonOD:"*",cabinId:"*",enrichId:"*",getCabinValueId:"*",type:"Null",NationalityId:"*",getYear:"*",currency:"*",gettingMonth:"*"},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=b.getCookie("Authorization");this.sendEvent(e)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.NationalityId,n=t.AgeBandId;e.clicked&&("*"===a&&"*"===n||this.getGraphData())}},{key:"render",value:function(){var e=this.state,t=(e.switchforgraph,e.Nationality,this.props.type);return o.a.createElement("div",null,o.a.createElement(Oe.a,{show:this.props.chartVisible,onHide:this.props.closeChartModal,"aria-labelledby":"ModalHeader"},o.a.createElement(Oe.a.Header,{closeButton:!0},"Nationality"===t?o.a.createElement(Oe.a.Title,{id:"ModalHeader"},"  SSR Breakdown by Nationality  "):o.a.createElement(Oe.a.Title,{id:"ModalHeader"},"  SSR Breakdown by Age Group ")),o.a.createElement(Oe.a.Body,null,o.a.createElement("div",{style:{display:"flex",padding:"4px"}},o.a.createElement("div",{style:{marginRight:"2px",marginLeft:"-15.5px"}},"Nationality"===t?o.a.createElement(Ir,{datasetOne:this.state.datasetOne}):o.a.createElement(Or,{datasetFifth:this.state.datasetFifth}))))))}}]),a}(n.Component),Fr=new Te,Gr=(new Date).getFullYear(),xr=((new Date).getMonth(),[]),jr=[],Wr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e,t,a,n){var o={event_id:"".concat(e),description:"User ".concat(t),where_path:"/".concat(a),page_name:"".concat(n)};R.sendEvent(o)},n.getFiltersValue=function(){jr=[];var e=window.localStorage.getItem("RegionSelected"),t=window.localStorage.getItem("CountrySelected"),a=JSON.parse(window.localStorage.getItem("rangeValue")),o=window.localStorage.getItem("CabinSelected"),r=window.localStorage.getItem("ODSelected"),l=window.localStorage.getItem("CabinValueSelected"),i=window.localStorage.getItem("CustomerSegmentSelected"),c=null===o||"Null"===o?[]:JSON.parse(o);o=c.length>0?c:"Null",n.setState({regionId:null===e||"Null"===e||""===e?"*":JSON.parse(e),countryId:null===t||"Null"===t||""===t?"*":JSON.parse(t),commonOD:null===r||"Null"===r||""===r||"*"===r?"*":JSON.parse(r),cabinId:null===l||"Null"===l||""===l||"*"===l?"*":JSON.parse(l),customerSegmentationId:null===i||"Null"===i||""===i||"*"===i?"*":JSON.parse(i),gettingMonth:window.monthNumToName(a.from.month),gettingYear:a.from.year,getCabinValue:o,cabinSelectedDropDown:c},(function(){return n.getInitialData()}))},n.getInitialData=function(){var e=Object(je.a)(n),t=n.state,a=t.gettingMonth,o=t.gettingYear,r=t.regionId,l=t.countryId,i=t.commonOD,c=t.cabinId,s=t.customerSegmentationId,u=t.enrichId,d=t.getCabinValue,m=t.ancillary;t.enrich;e.setState({loading:!0,loading2:!0,firstLoadList:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),e.getInitialListData(r,l,i,c,s),Fr.getDemographyMonthTables(n.state.toggle,r,l,i,c,s,u,d).then((function(t){if(e.setState({loading:!1,firstLoadList:!1}),t){var n=t[0].totalData,u=t[0].columnName,d=t[0].rowData;xr=d,e.setState({posMonthDetails:e.getHighlightedMonth(d,a,o),monthcolumns:u,monthTotalData:n})}m?(e.getDrillDownData(r,l,i,c,s,"Ancillary"),e.setState({type:"Ancillary"})):e.getDrillDownData(r,l,i,c,s,"Null")}))},n.getInitialListData=function(e,t,a,o,r){var l=Object(je.a)(n),i=JSON.parse(b.getCookie("userDetails")).access,c="*",s="*";if("#*"!==i){l.setState({accessLevelDisable:!0});var u=i.split("#");c=u[2],s="*"===u[2]?"*":u[3]}"*"!==e&&(jr.push({val:e,title:"Region",disable:"*"!==c}),l.setState({selectedData:e})),"*"!==t&&(jr.push({val:t,title:"Country",disable:"*"!==s}),l.setState({selectedData:t})),"*"!==a&&(jr.push({val:a,title:"O&D"}),l.setState({selectedData:a})),"*"!==a&&"*"!==o&&(jr.push({val:o,title:"Cabin"}),l.setState({selectedData:o})),"*"!==r&&(jr.push({val:r,title:"Customer Segment"}),l.setState({selectedData:r}))},n.getMonthDrillDownData=function(e,t,a,o,r){var l=Object(je.a)(n),i=n.state,c=i.gettingMonth,s=i.enrichId,u=i.getCabinValue,d=i.type,m=i.gettingYear,h=i.toggle;l.setState({loading:!0,loading2:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),Fr.getDemographyMonthTables(h,e,t,a,o,r,s,u).then((function(e){if(l.setState({loading:!1}),e){var t=e[0].totalData,a=e[0].columnName,n=e[0].rowData;xr=n,l.setState({posMonthDetails:l.getHighlightedMonth(n,c,m),monthcolumns:a,monthTotalData:t})}})),Fr.getDemographyDrillDownData(m,h,c,e,t,a,o,r,s,u,d).then((function(e){l.setState({loading2:!1}),e&&l.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].rowData,drillDownColumn:l.addCellRender(e[0].columnName),tabName:"Null"===d?e[0].tabName:e[0].firstTabName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,commonOD:e[0].currentAccess.commonOD,cabinId:e[0].currentAccess.cabinId,customerSegmentationId:e[0].currentAccess.customerSegmentationId})}))},n.getDrillDownData=function(e,t,a,o,r,l){var i=Object(je.a)(n),c=n.state,s=c.gettingYear,u=c.gettingMonth,d=c.enrichId,m=c.getCabinValue,h=c.toggle;Fr.getDemographyDrillDownData(s,h,u,e,t,a,o,r,d,m,l).then((function(e){i.setState({loading2:!1}),e&&i.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].rowData,drillDownColumn:i.addCellRender(e[0].columnName),tabName:"Null"===l?e[0].tabName:e[0].firstTabName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,commonOD:e[0].currentAccess.commonOD,cabinId:e[0].currentAccess.cabinId,customerSegmentationId:e[0].currentAccess.customerSegmentationId})}))},n.monthWiseCellClick=function(e){var t=Object(je.a)(n);t.sendEvent("2","clicked on Months row","pos","Pos Page");var a=n.state,o=(a.gettingMonth,a.regionId),r=a.countryId,l=a.cityId,i=a.commonOD,c=a.cabinId,s=a.customerSegmentationId,u=a.getCabinValue,d=a.type,m=(a.gettingYear,e.data.Month),h=e.colDef.field,g=(e.data.isUnderline,n.state.posMonthDetails.map((function(e){return e.highlightMe=!1,e})));if(e.api.updateRowData({update:g}),m.includes("Total ".concat(Gr-1)))n.setState({showLastYearRows:!n.state.showLastYearRows,showNextYearRows:!1},(function(){return n.getLastYearClubbedData(n.state.showLastYearRows,m)}));else if(m.includes("Total ".concat(Gr+1)))n.setState({showNextYearRows:!n.state.showNextYearRows,showLastYearRows:!1},(function(){return n.getNextYearClubbedData(n.state.showNextYearRows,m)}));else{t.setState({gettingMonth:e.data.MonthName,gettingYear:e.data.Year});var p={from:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)},to:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)}};window.localStorage.setItem("rangeValue",JSON.stringify(p))}"CY_B"!==h||m.includes("Total")?"Month"!==h||m.includes("Total")||(t.setState({loading2:!0,drillDownData:[],drillDownTotalData:[]}),t.getDrillDownData(o,r,i,c,s,d)):(e.event.stopPropagation(),t.showLoader(),Fr.getPOSCabinDetails(e.data.Year,e.data.MonthName,o,r,l,i,u).then((function(e){if(t.hideLoader(),e){var a=e[0].columnName,n=e[0].cabinData;t.setState({tableModalVisible:!0,modaldrillDownData:n,modaldrillDownColumn:a})}})))},n.regionCellClick=function(e){var t=Object(je.a)(n);t.sendEvent("2","clicked on Region drill down","pos","Pos Page");var a,o=n.state,r=o.regionId,l=o.countryId,i=o.commonOD,c=o.cabinId,s=o.customerSegmentationId,u=o.getCabinValue,d=e.colDef.field,m="'".concat(e.data.firstColumnName,"'"),h=e.data.firstColumnName,g=e.colDef.headerName;jr.map((function(e,t){return a=e.title===g})),"firstColumnName"===d&&(a||(n.storeValuesToLS(r,l,i,c,s,u,h),"Cabin Category"!==g&&(t.setState({selectedData:m}),jr.push({val:h,title:g})),"*"===r?t.getMonthDrillDownData(m,l,i,c,s):"*"===l?t.getMonthDrillDownData(r,m,i,c,s):"*"===i?t.getMonthDrillDownData(r,l,m,c,s):"*"===c&&t.getMonthDrillDownData(r,l,i,m,s)))},n.tabClick=function(e,t){var a=Object(je.a)(n);a.sendEvent("2","clicked on ".concat(e," tab"),"pos","Pos Page");var o=n.state,r=o.regionId,l=o.countryId,i=o.commonOD,c=o.cabinId,s=o.customerSegmentationId,u=(o.enrichId,o.monthcolumns);a.setState({type:e,drillDownData:[],drillDownTotalData:[],loading2:!0}),t?n.setState({outerTab:!0}):n.setState({outerTab:!1}),a.getDrillDownData(r,l,i,c,s,e),n.gridApiMonth.setColumnDefs(u)},n.CustomercellClick=function(e){var t=Object(je.a)(n);n.setState({customerSegmentationId_1:e.value});var a=n.state,o=a.gettingMonth,r=a.toggle,l=a.regionId,i=a.countryId,c=a.commonOD,s=a.cabinId,u=a.customerSegmentationId,d=a.customerSegmentationId_1,m=a.getCabinValue,h=a.type,g=a.gettingYear,p=a.enrichId;e.event.stopPropagation(),t.showLoader(),Fr.getDemographySegmentationDetails(g,r,o,l,i,c,s,u,d,p,m,h).then((function(e){if(t.hideLoader(),e){var a=e[0].columnName,n=e[0].segmentData;t.setState({tableModalVisible:!0,modaldrillDownData:n,modaldrillDownColumn:a})}}))},n.NationalityCellClick=function(e){var t=e.colDef.field,a=(n.state.NationalityId,e.data.firstColumnName);"firstColumnName"===t&&(window.localStorage.setItem("Nationality",a),n.setState({NationalityId:"'".concat(a,"'")}),n.setState({chartVisible:!0,clicked:!0}))},n.AgeBandCellClick=function(e){var t=e.colDef.field,a=(n.state.AgeBandId,e.data.firstColumnName);"firstColumnName"===t&&(n.setState({AgeBandId:"'".concat(a,"'")}),n.setState({chartVisible:!0,clicked:!0}))},n.homeHandleClick=function(e){var t=Object(je.a)(n);if("#*"===JSON.parse(b.getCookie("userDetails")).access){t.sendEvent("2","clicked on Network","pos","Pos Page"),t.setState({loading:!0,loading2:!0,firstHome:!1,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[],toggle:"bc"}),window.localStorage.setItem("RegionSelected","Null"),window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("ODSelected","Null"),window.localStorage.setItem("CabinValueSelected","Null"),window.localStorage.setItem("CustomerSegmentSelected","Null"),window.localStorage.setItem("Nationality","Null"),t.getMonthDrillDownData("*","*","*","*","*"),jr=[];var a=window.location.href.split("?")[0];window.history.pushState("object",document.title,a)}},n.listHandleClick=function(e,t,a){var o=Object(je.a)(n);o.sendEvent("2","clicked on Drill down list","pos","Pos Page");var r=n.state,l=r.regionId,i=r.countryId,c=r.commonOD,s=r.cabinId,u=r.customerSegmentationId,d=e;"'"!==d.charAt(0)&&"'"!==d.charAt(d.length-1)&&(d="'".concat(e,"'")),e.includes(",")&&(d="'".concat(e.split(",").join("','"),"'")),o.setState({selectedData:d,loading:!0,loading2:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var m=decodeURIComponent(t);if("List"===a){var h=jr.findIndex((function(e){return e.title==t})),g=jr.slice(0,h+1);jr=g,n.changeURLOnListClick(l,i,c,s,u,e,m)}else"browserBack"===a&&n.onBackPressClearLS(m);"Region"===m?o.getMonthDrillDownData(d,"*","*","*"):"Country"===m?o.getMonthDrillDownData(l,d,"*","*"):"O&D"===m?o.getMonthDrillDownData(l,i,d,"*"):"Cabin"===m&&o.getMonthDrillDownData(l,i,c,d)},n.Enrichstatus=function(e){var t=e.target.value,a=n.state,o=a.regionId,r=a.countryId,l=a.commonOD,i=a.cabinId,c=a.customerSegmentationId,s=a.enrichId;n.sendEvent("2","clicked on Enrich Status","demograpgyAgeReport","demograpgyAgeReport Page"),n.setState({enrichId:"*"!==t?"'".concat(t,"'"):t},(function(){return n.getMonthDrillDownData(o,r,l,i,c,s)}))},n.cabinSelectChange=function(e){e.preventDefault();var t=e.target.value;n.setState({getCabinValue:t,cabinSelectedDropDown:t},(function(){window.localStorage.setItem("CabinSelected",JSON.stringify(t))}))},n.redirection=function(e){n.sendEvent("2","clicked on POS/Route drop down","pos","Pos Page");var t=e.target.value,a=window.localStorage.getItem("RouteGroupSelected");a=null!==a?JSON.parse(a).join(","):"Network",n.url="/route?RouteGroup=".concat(a);var o=window.localStorage.getItem("RouteRegionSelected"),r=window.localStorage.getItem("RouteCountrySelected"),l=window.localStorage.getItem("RouteSelected"),i=window.localStorage.getItem("LegSelected"),c=window.localStorage.getItem("FlightSelected");null!==o&&"Null"!==o&&(o=JSON.parse(o),n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o))),null!==r&&"Null"!==r&&(r=JSON.parse(r),n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r))),null!==l&&"Null"!==l&&(l=JSON.parse(l),n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r),"&Route=").concat(H(l))),null!==i&&"Null"!==i&&""!==i&&(n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r),"&Route=").concat(H(l),"&Leg=").concat(H(i))),null!==c&&"Null"!==c&&""!==c&&(n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r),"&Route=").concat(H(l),"&Leg=").concat(H(i),"&Flight=").concat(H(c))),"POS"===t?(n.props.history.push("/pos"),jr=[]):(n.props.history.push(n.url),jr=[])},n.alerts=function(e){var t=e.value,a=e.colDef.headerName,o=document.createElement("span"),r=e.data.isAlert;if("0"!==(r=void 0!==r?r.toString():null)&&null!==r){var l=document.createElement("i");l.className="fa fa-bell",l.onclick=function(e){e.stopPropagation(),n.getAlertCardsData(a,t)},o.appendChild(l)}return o.appendChild(document.createTextNode(e.value)),o},n.getAlertCardsData=function(e,t){var a=n.state,o=(a.gettingMonth,a.gettingYear,a.regionId),r=a.countryId,l=a.cityId,i=(a.commonOD,a.getCabinValue),c=JSON.parse(b.getCookie("userDetails")),s=U(o),u=U(r),d=U(l),m=(U(i),"");"Cabin"!==e&&(m="user_id=".concat(c.id)),"Region"===e&&(m="".concat(m,"&regionId='").concat(encodeURIComponent(t),"'")),"Country"===e&&(m="".concat(m,"&regionId=").concat(s,"&countryId='").concat(encodeURIComponent(t),"'")),"POS"===e&&(m="".concat(m,"&regionId=").concat(s,"&countryId=").concat(u,"&cityId='").concat(encodeURIComponent(t),"'")),"O&D"===e&&(m="".concat(m,"&regionId=").concat(s,"&countryId=").concat(u,"&cityId=").concat(d,"&commonOD='").concat(encodeURIComponent(t),"'")),"Cabin"!==e&&L.get("getallalerts?".concat(m,"&infare=low")).then((function(e){if(e)if(e.data.response.length>0){var t=e.data.response;n.setState({alertData:t,alertVisible:!0})}else n.setState({alertData:[],alertVisible:!0})})).catch((function(e){}))},n.getInfareGraphData=function(e){var t=n.state,a=t.gettingMonth,o=t.gettingYear,r=t.regionId,l=t.countryId,i=t.cityId,c=t.commonOD,s=t.getCabinValue,u=t.toggle,d=U(r),m=U(l),h=U(i),g=U(s),p=e.columnApi.columnController.columnDefs[0].children[0].headerName,f=e.data.firstColumnName,v="";"Cabin"!==p&&(v="gettingMonth=".concat(window.monthNameToNum(a),"&getYear=").concat(o,"&getCabinValue=").concat(g,"&currency_params=").concat(u)),"Region"===p&&(v="".concat(v,"&regionId='").concat(encodeURIComponent(f),"'")),"Country"===p&&(v="".concat(v,"&regionId=").concat(d,"&countryId='").concat(encodeURIComponent(f),"'")),"POS"===p&&(v="".concat(v,"&regionId=").concat(d,"&countryId=").concat(m,"&cityId='").concat(encodeURIComponent(f),"'")),"O&D"===p&&(v="".concat(v,"&regionId=").concat(d,"&countryId=").concat(m,"&cityId=").concat(h,"&commonOD='").concat(encodeURIComponent(f),"'")),"Cabin"===p&&(v="currency_params=".concat(u,"&gettingMonth=").concat(window.monthNameToNum(a),"&getYear=").concat(o,"&getCabinValue='").concat(f,"'&regionId=").concat(d,"&countryId=").concat(m,"&cityId=").concat(h,"&commonOD=").concat(encodeURIComponent(c))),L.get("infaregraph?".concat(v)).then((function(e){if(e){var t=e.data.response[0].GraphData,a=e.data.response[0].currencyData[0].Currency;t.length>0?n.setState({infareData:t,infareGraphHeading:"".concat(f," (").concat(a,")"),infareCurrency:a,infareModalVisible:!0}):n.setState({infareData:[],infareGraphHeading:"".concat(f," (").concat(a,")"),infareCurrency:a,infareModalVisible:!0})}})).catch((function(e){y.a.fire({title:"Error!",text:"Something went wrong. Please try after some time",icon:"error",confirmButtonText:"Ok"}).then((function(){}))}))},n.serialize=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")},n.showLoader=function(){w()("#loaderImage").addClass("loader-visible")},n.hideLoader=function(){w()("#loaderImage").removeClass("loader-visible"),w()(".x_panel").addClass("opacity-fade"),w()(".top-buttons").addClass("opacity-fade")},n.renderTabs=function(){var e=n.state,t=e.tabName,a=e.outerTab,r=e.ancillary;return o.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},"O&D"===t||"Cabin"===t||"Cabin Category"===t||"Nationality"===t||"Age Band"===t||"Enrich Tier"===t||"Customer Segmentation"===t||"Gender"===t?o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Sales Region","outerTab")}},o.a.createElement("a",{href:"#Section2","aria-controls":"profile",role:"tab","data-toggle":"tab"},"Sales Region")):"","Cabin"===t||"Cabin Category"===t||"Nationality"===t||"Age Band"===t||"Enrich Tier"===t||"Customer Segmention"===t||"Gender"===t?o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("OD","outerTab")}},o.a.createElement("a",{href:"#Section2","aria-controls":"profile",role:"tab","data-toggle":"tab"},"O&D")):"","Cabin Category"===t||"Nationality"===t||"Age Band"===t||"Enrich Tier"===t||"Customer Segmention"===t||"Gender"===t?o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("OD","outerTab")}},o.a.createElement("a",{href:"#Section2","aria-controls":"profile",role:"tab","data-toggle":"tab"},"Cabin")):"","Nationality"===t||"Age Band"===t||"Enrich Tier"===t||"Customer Segmention"===t||"Gender"===t?o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Cabin Category","outerTab")}},o.a.createElement("a",{href:"#Section2","aria-controls":"profile",role:"tab","data-toggle":"tab"},"Cabin Category")):"",o.a.createElement("li",{role:"presentation",className:"".concat(r?"":"active"),onClick:function(){return n.tabClick("Null")}},o.a.createElement("a",{href:"#Section1","aria-controls":"home",role:"tab","data-toggle":"tab"},t)),"O&D"===t||"Cabin"===t||"Cabin Category"===t?"":o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("OD")},className:a?"active":""},o.a.createElement("a",{href:"#Section2","aria-controls":"profile",role:"tab","data-toggle":"tab"},"O&D")),"Cabin"===t||"Cabin Category"===t?"":o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Cabin")}},o.a.createElement("a",{href:"#Section2","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Cabin")),"Cabin Category"===t?"":o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Cabin Category")}},o.a.createElement("a",{href:"#Section2","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Cabin Category")),o.a.createElement("li",{role:"presentation",className:"".concat(r?"active":""),onClick:function(){return n.tabClick("Customer Segmentation")}},o.a.createElement("a",{href:"#Section5","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Customer segmentation")),o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Nationality")}},o.a.createElement("a",{href:"#Section3","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Nationality")),o.a.createElement("li",{role:"presentation",className:"".concat(r?"active":""),onClick:function(){return n.tabClick("Age Band")}},o.a.createElement("a",{href:"#Section4","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Age band")),o.a.createElement("li",{role:"presentation",className:"".concat(r?"active":""),onClick:function(){return n.tabClick("Enrich Tier")}},o.a.createElement("a",{href:"#Section2","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Enrich tier")),o.a.createElement("li",{role:"presentation",className:"".concat(r?"active":""),onClick:function(){return n.tabClick("Gender")}},o.a.createElement("a",{href:"#Section2","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Gender")))},n.gridApiMonthly=function(e){n.gridApiMonth=e},n.pathName=window.location.pathname,n.selectedRegion=null,n.selectedCountry=null,n.selectedCity=null,n.selectedOD=null,n.selectedCabin=null,n.selectedCustomerSegment=null,n.gridApiMonth=null,n.state={posMonthDetails:[],monthTotalData:[],drillDownTotalData:[],monthcolumns:[],drillDownColumn:[],drillDownData:[],modaldrillDownColumn:[],modaldrillDownData:[],modalData:[],availModalData:[],availModalColumn:[],availTotalData:[],availModalVisible:!1,clicked:!1,tableDatas:!0,gettingMonth:null,gettingYear:null,gettingRegion:"Null",monthTableTitle:"NETWORK",tabLevel:"Null",cabinOption:[],alertData:[],getCabinValue:[],cabinSelectedDropDown:[],cabinDisable:!0,toggle:"bc",alertVisible:!1,tableModalVisible:!1,tabName:"Region",regionId:"*",countryId:"*",cityId:"*",commonOD:"*",cabinId:"*",enrichId:"*",customerSegmentationId:"*",customerSegmentationId_1:"*",type:"Null",NationalityId:"*",AgeBandId:"*",baseAccess:"",selectedData:"Null",infareData:[],infareModalVisible:!1,infareGraphHeading:"",loading:!1,loading2:!1,loading3:!1,firstLoadList:!1,showLastYearRows:!1,showNextYearRows:!1,accessLevelDisable:!1,chartVisible:!1,forecastChartHeader:"",posMonthRowClassRule:{"highlight-row":"data.highlightMe"},firstHome:!0,infareCurrency:"",outerTab:!1,ancillary:!1,ensureIndexVisible:null},n.sendEvent("1","viewed Pos Page","pos","Pos page"),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=J("ancillary",window.location.href);this.setState({ancillary:t||!1}),e.getFiltersValue(),Fr.getClassNameDetails().then((function(t){if(t){var a=t[0].classDatas;e.setState({cabinOption:a,cabinDisable:!1})}}))}},{key:"componentDidUpdate",value:function(){var e=this;window.onpopstate=function(t){var a=e.props.browserToProps.queryParams,n=Object.values(a),o=Object.keys(a),r=o.length-1;"undefined"!==n[0]?(e.pushURLToBcData(a,o,n,r),e.setState({firstHome:!0})):e.state.firstHome&&e.homeHandleClick()}}},{key:"pushURLToBcData",value:function(e,t,a,n){if(e.hasOwnProperty("Region")&&!jr.some((function(e){return"Region"===e.title}))){var o,r,l=e.Region,i=e.Region;l.includes(",")?l="'".concat(l.split(",").join("','"),"'"):"'"!==l.charAt(0)&&"'"!==l.charAt(l.length-1)&&(l="'".concat(l,"'")),"'"===i.charAt(0)&&"'"===i.charAt(i.length-1)?r=i.substring(1,i.length-1):i.includes(",")?(o=i.split(","),r=i):r=i,jr.push({val:r,title:"Region"}),this.setState({regionId:l});var c=i.includes(",")?o:[].concat([r]);window.localStorage.setItem("RegionSelected",JSON.stringify(c))}if(e.hasOwnProperty("Country")&&!jr.some((function(e){return"Country"===e.title}))){var s,u,d=e.Country,m=e.Country;d.includes(",")?d="'".concat(d.split(",").join("','"),"'"):"'"!==d.charAt(0)&&"'"!==d.charAt(d.length-1)&&(d="'".concat(d,"'")),"'"===m.charAt(0)&&"'"===m.charAt(m.length-1)?u=m.substring(1,m.length-1):m.includes(",")?(s=m.split(","),u=m):u=m,jr.push({val:u,title:"Country"}),this.setState({countryId:d});var h=m.includes(",")?s:[].concat([u]);window.localStorage.setItem("CountrySelected",JSON.stringify(h))}if(e.hasOwnProperty("OD")&&!jr.some((function(e){return"OD"===e.title}))){var g,p,f=e.OD,v=e.OD;f.includes(",")?f="'".concat(f.split(",").join("','"),"'"):"'"!==f.charAt(0)&&"'"!==f.charAt(f.length-1)&&(f="'".concat(f,"'")),"'"===v.charAt(0)&&"'"===v.charAt(v.length-1)?p=v.substring(1,v.length-1):v.includes(",")?(g=v.split(","),p=v):p=v,jr.push({val:p,title:"OD"}),this.setState({commonOD:f});var C=v.includes(",")?g:[].concat([p]);window.localStorage.setItem("ODSelected",JSON.stringify(C))}if(e.hasOwnProperty("O%26D")&&!jr.some((function(e){return"CabinValue"===e.title}))&&(jr.push({val:e["O%26D"],title:"CabinValue"}),this.setState({commonOD:e["O%26D"]}),window.localStorage.setItem("CabinValueSelected",e["O%26D"])),jr.length>0){var w=jr.slice(0,n+1);jr=w}this.listHandleClick(a[n],t[n],"browserBack")}},{key:"getHighlightedMonth",value:function(e,t,a){var n=this,o=window.monthNameToNum(t),r=0;return e.filter((function(e,t){var l=e.Month,i="".concat(window.shortMonthNumToName(o)," ").concat(a);if(a!==Gr-1&&e.Year===Gr-1&&(r+=1),i===l&&(e.highlightMe=!0,n.setState({ensureIndexVisible:t-r})),a===Gr){if(e.Month==="Total ".concat(Gr-1)&&(e.Month="\u25ba Total ".concat(Gr-1)),e.Month==="Total ".concat(Gr+1)&&(e.Month="\u25ba Total ".concat(Gr+1)),e.Year===Gr||e.Month==="\u25ba Total ".concat(Gr-1)||e.Month==="\u25ba Total ".concat(Gr+1))return e}else if(a===Gr+1){if(e.Month==="Total ".concat(Gr-1)&&(e.Month="\u25ba Total ".concat(Gr-1)),e.Month==="Total ".concat(Gr+1)&&(e.Month="\u25bc Total ".concat(Gr+1)),e.Year>=Gr||e.Month==="\u25ba Total ".concat(Gr-1)||e.Month==="\u25bc Total ".concat(Gr+1))return e;n.setState({showNextYearRows:!0,showLastYearRows:!1})}else if(a===Gr-1){if(e.Month==="Total ".concat(Gr-1)&&(e.Month="\u25bc Total ".concat(Gr-1)),e.Month==="Total ".concat(Gr+1)&&(e.Month="\u25ba Total ".concat(Gr+1)),e.Year<=Gr||e.Month==="\u25bc Total ".concat(Gr-1)||e.Month==="\u25ba Total ".concat(Gr+1))return e;n.setState({showLastYearRows:!0,showNextYearRows:!1})}}))}},{key:"getHighlightedRow",value:function(e,t){return e.map((function(e,t){var a=e.Month;return a==="\u25bc Total ".concat(Gr-1)||a==="\u25ba Total ".concat(Gr-1)?e.highlightMe=!0:a!=="\u25bc Total ".concat(Gr+1)&&a!=="\u25ba Total ".concat(Gr+1)||(e.highlightMe=!0),e}))}},{key:"getLastYearClubbedData",value:function(e,t){if(e){var a=xr.filter((function(e){if(e.Month==="\u25ba Total ".concat(Gr-1)&&(e.Month="\u25bc Total ".concat(Gr-1)),e.Month==="\u25bc Total ".concat(Gr+1)&&(e.Month="\u25ba Total ".concat(Gr+1)),e.Year<=Gr||e.Month==="\u25bc Total ".concat(Gr-1)||e.Month==="\u25ba Total ".concat(Gr+1))return e}));this.setState({posMonthDetails:this.getHighlightedRow(a,t)})}else{var n=xr.filter((function(e){if(e.Month==="\u25bc Total ".concat(Gr-1)&&(e.Month="\u25ba Total ".concat(Gr-1)),e.Month==="\u25bc Total ".concat(Gr+1)&&(e.Month="\u25ba Total ".concat(Gr+1)),e.Year===Gr||e.Month==="\u25ba Total ".concat(Gr-1)||e.Month==="\u25ba Total ".concat(Gr+1))return e}));this.setState({posMonthDetails:this.getHighlightedRow(n,t)})}}},{key:"getNextYearClubbedData",value:function(e,t){if(e){var a=xr.filter((function(e){if(e.Month==="\u25ba Total ".concat(Gr+1)&&(e.Month="\u25bc Total ".concat(Gr+1)),e.Month==="\u25bc Total ".concat(Gr-1)&&(e.Month="\u25ba Total ".concat(Gr-1)),e.Year>=Gr||e.Month==="\u25bc Total ".concat(Gr+1)||e.Month==="\u25ba Total ".concat(Gr-1))return e}));this.setState({posMonthDetails:this.getHighlightedRow(a,t)})}else{var n=xr.filter((function(e){if(e.Month==="\u25bc Total ".concat(Gr+1)&&(e.Month="\u25ba Total ".concat(Gr+1)),e.Month==="\u25bc Total ".concat(Gr-1)&&(e.Month="\u25ba Total ".concat(Gr-1)),e.Year===Gr||e.Month==="\u25ba Total ".concat(Gr+1)||e.Month==="\u25ba Total ".concat(Gr-1))return e}));this.setState({posMonthDetails:this.getHighlightedRow(n,t)})}}},{key:"rectifyURLValues",value:function(e,t,a,n,o){Array.isArray(e)?this.selectedRegion=e.join(","):e.includes("','")?(this.selectedRegion=e.split("','").join(","),this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)):(this.selectedRegion=e,this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)),Array.isArray(t)?this.selectedCountry=t.join(","):e.includes("','")?(this.selectedCountry=t.split("','").join(","),this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)):(this.selectedCountry=t,this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)),Array.isArray(a)?this.selectedOD=a.join(","):e.includes("','")?(this.selectedOD=a.split("','").join(","),this.selectedOD=this.selectedOD.substring(1,this.selectedOD.length-1)):(this.selectedOD=a,this.selectedOD=this.selectedOD.substring(1,this.selectedOD.length-1)),Array.isArray(n)?this.selectedCabin=n.join(","):e.includes("','")?(this.selectedCabin=n.split("','").join(","),this.selectedCabin=this.selectedCabin.substring(1,this.selectedCabin.length-1)):(this.selectedCabin=n,this.selectedCabin=this.selectedCabin.substring(1,this.selectedCabin.length-1))}},{key:"storeValuesToLS",value:function(e,t,a,n,o,r,l){var i=[],c=[],s=[],u=[],d=[],m=[];this.rectifyURLValues(e,t,a,n,r),"*"===e?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(l))),i.push(l),window.localStorage.setItem("RegionSelected",JSON.stringify(i))):"*"===t?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(encodeURIComponent(l))),c.push(l),window.localStorage.setItem("CountrySelected",JSON.stringify(c))):"*"===a?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(encodeURIComponent(this.selectedCountry),"&").concat(encodeURIComponent("O&D"),"=").concat(l)),s.push(l),window.localStorage.setItem("ODSelected",JSON.stringify(s))):"*"===n?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(encodeURIComponent(this.selectedCountry),"&").concat(encodeURIComponent("O&D"),"=").concat(l,"&cabin=").concat(l)),u.push(l),window.localStorage.setItem("CabinValueSelected",JSON.stringify(u))):"*"===r?(this.props.history.push("".concat(this.pathName,"?&customerSegment=").concat(l)),m.push(l),window.localStorage.setItem("CustomerSegmentSelected",JSON.stringify(m))):"Null"===o&&(d.push(l),window.localStorage.setItem("CabinSelected",JSON.stringify(d)))}},{key:"changeURLOnListClick",value:function(e,t,a,n,o,r,l){this.rectifyURLValues(e,t,a,n,o),"Region"===l?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(r))),window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("ODSelected","Null"),window.localStorage.setItem("CabinValueSelected","Null")):"Country"===l?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(encodeURIComponent(r))),window.localStorage.setItem("ODSelected","Null"),window.localStorage.setItem("CabinValueSelected","Null")):"O&D"===l?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(encodeURIComponent(this.selectedCountry),"&OD=").concat(r)),window.localStorage.setItem("CabinValueSelected","Null")):"Cabin"===l&&this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&OD=").concat(this.selectedOD,"&").concat(encodeURIComponent("cabin"),"=").concat(r))}},{key:"onBackPressClearLS",value:function(e){"Region"===e?(window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("ODSelected","Null"),window.localStorage.setItem("CabinValueSelected","Null")):"Country"===e?(window.localStorage.setItem("ODSelected","Null"),window.localStorage.setItem("CabinValueSelected","Null")):"OD"===e&&window.localStorage.setItem("CabinValueSelected","Null")}},{key:"onCabinClose",value:function(){var e=this;this.sendEvent("2","clicked on Cabin drop down","pos","Pos Page"),this.state.cabinSelectedDropDown.length>0?this.getDataOnCabinChange():(this.setState({getCabinValue:"Null"},(function(){return e.getDataOnCabinChange()})),window.localStorage.setItem("CabinSelected","Null"))}},{key:"getDataOnCabinChange",value:function(){this.setState({loading:!0,loading2:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var e=this.state,t=e.regionId,a=e.countryId,n=e.commonOD,o=e.cabinId,r=e.customerSegmentationId;this.getMonthDrillDownData(t,a,n,o,r)}},{key:"addCellRender",value:function(e){var t=this;return e.map((function(e){return"firstColumnName"===e.field&&(e.cellRenderer=t.alerts),e.children&&(e.children=t.addCellRender(e.children)),e}))}},{key:"renderInfareGraphModal",value:function(){var e=this;return o.a.createElement(Oe.a,{show:this.state.infareModalVisible,onHide:function(){return e.setState({infareModalVisible:!1})},"aria-labelledby":"ModalHeader"},o.a.createElement(Oe.a.Header,{closeButton:!0},o.a.createElement(Oe.a.Title,{id:"ModalHeader"},"Infare Graph of ".concat(this.state.infareGraphHeading))),o.a.createElement(Oe.a.Body,null,o.a.createElement(hr,{infareData:this.state.infareData,currency:this.state.infareCurrency})))}},{key:"renderAvailModal",value:function(){return o.a.createElement(pr,{tableModalVisible:this.state.availModalVisible,rowData:this.state.availModalData,columns:this.state.availModalColumn,header:"Availability Details",loading:this.state.loading3})}},{key:"render",value:function(){var e=this,t=this.state,a=t.cabinOption,n=t.cabinSelectedDropDown,r=t.cabinDisable,l=t.accessLevelDisable,i=(t.outerTab,t.ancillary);return o.a.createElement("div",{className:"pos-details"},o.a.createElement(Dr,null),o.a.createElement(ta,Object.assign({dashboardPath:"/demographyDashboard"},this.props)),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top"},o.a.createElement("div",{className:"navdesign",style:{marginTop:"0px"}},o.a.createElement("div",{className:"col-md-7 col-sm-7 col-xs-7 toggle1"},o.a.createElement("h2",null,"Demographic Report"),o.a.createElement("section",null,o.a.createElement("nav",null,o.a.createElement("ol",{className:"cd-breadcrumb"},o.a.createElement("div",{style:{cursor:l?"not-allowed":"pointer"}},o.a.createElement("li",{className:"".concat(l?"breadcrumb-disable":""),onClick:function(){return e.homeHandleClick()}}," ","Network"," ")),this.state.firstLoadList?"":jr.map((function(t){return o.a.createElement("div",{style:{cursor:t.disable?"not-allowed":"pointer"}},o.a.createElement("li",{className:"".concat(t.disable?"breadcrumb-disable":""),onClick:function(a){return e.listHandleClick(a.target.id,t.title,"List")},id:t.val,title:"".concat(t.title," : ").concat(t.val)}," > ".concat(t.val)))})))))),o.a.createElement("div",{className:"col-md-5 col-sm-5 col-xs-5 toggle2",style:{width:"750px"}},o.a.createElement("h4",null,"Enrich Status :"),o.a.createElement("select",{className:"form-control cabinselect currency-dropdown",onChange:function(t){return e.Enrichstatus(t)}},o.a.createElement("option",{value:"*"},"All"),o.a.createElement("option",{value:"Enrich"},"Enrich"),o.a.createElement("option",{value:"Non Enrich"},"Non-Enrich")),o.a.createElement("div",{className:"cabin-selection"},o.a.createElement("h4",null,"Select Cabin :"),o.a.createElement(gt.a,{className:"select-group"},o.a.createElement(mt.a,{id:"demo-mutiple-checkbox-label"},"All"),o.a.createElement(ft.a,{labelId:"demo-mutiple-checkbox-label",className:"".concat(r?"disable":""),id:"demo-mutiple-checkbox",multiple:!0,value:n,onChange:function(t){return e.cabinSelectChange(t)},input:o.a.createElement(dt.a,null),renderValue:function(e){return e.join(",")},onClose:function(){return e.onCabinClose()},MenuProps:{classes:"disable"}},a.map((function(e){return o.a.createElement(ht.a,{key:e.ClassValue,value:e.ClassValue},o.a.createElement(vt.a,{checked:n.indexOf(e.ClassText)>-1}),o.a.createElement(pt.a,{primary:e.ClassText}))}))))))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},o.a.createElement("div",{className:"x_panel",style:{marginTop:"10px",height:"calc(100vh - 130px)"}},o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{gridApi:this.gridApiMonthly,rowData:this.state.posMonthDetails,columnDefs:this.state.monthcolumns,loading:this.state.loading,onCellClicked:function(t){return e.monthWiseCellClick(t)},frameworkComponents:{customHeaderGroupComponent:Br},rowClassRules:this.state.posMonthRowClassRule,pos:!0,ensureIndexVisible:this.state.ensureIndexVisible}),o.a.createElement(ba,{rowData:this.state.monthTotalData,columnDefs:this.state.monthcolumns,loading:this.state.loading,frameworkComponents:{customHeaderGroupComponent:Br},responsive:!0,reducingPadding:!0}),o.a.createElement("div",{className:"tab",id:"posTableTab",role:"tabpanel",style:{marginTop:"10px"}},this.renderTabs(),o.a.createElement("div",{className:"tab-content tabs"},o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in ".concat(i?"":"active"),id:"Section1"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.regionCellClick(t)},loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section2"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section3"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.NationalityCellClick(t)},loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section4"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.AgeBandCellClick(t)},loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in ".concat(i?"active":""),id:"Section5"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.CustomercellClick(t)},loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})))))))),o.a.createElement("div",null,o.a.createElement(kr,{tableModalVisible:this.state.tableModalVisible,rowData:this.state.modaldrillDownData,columns:this.state.modaldrillDownColumn,header:"".concat(this.state.customerSegmentationId_1," - ").concat(this.state.gettingMonth," ").concat(this.state.gettingYear),loading:this.state.loading3}),o.a.createElement(mr,{alertVisible:this.state.alertVisible,alertData:this.state.alertData,closeAlertModal:function(){return e.setState({alertVisible:!1})}}),this.renderAvailModal(),this.renderInfareGraphModal(),o.a.createElement(Mr,{chartVisible:this.state.chartVisible,gettingYear:this.state.gettingYear,gettingMonth:this.state.gettingMonth,regionId:this.state.regionId,countryId:this.state.countryId,commonOD:this.state.commonOD,cabinId:this.state.cabinId,enrichId:this.state.enrichId,getCabinValue:this.state.getCabinValue,clicked:this.state.clicked,type:this.state.type,NationalityId:this.state.NationalityId,AgeBandId:this.state.AgeBandId,closeChartModal:function(){return e.setState({chartVisible:!1,NationalityId:"*"})}})))}}]),a}(n.Component),Zr=Object(Nr.a)(Wr),Hr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={chartVisible:!1},n}return Object(c.a)(a,[{key:"closeChartModal",value:function(){this.setState({chartVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props.displayName;console.log("rahul",t);var a=localStorage.getItem("posPromotionDownloadURL");return o.a.createElement("div",null,"Revenue($)"===t?o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},t),o.a.createElement(Sr,{url:a,name:"Promotion Tracking",path:"/posPromotion",page:"Promotion Tracking Page"})):o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},t),o.a.createElement("i",{class:"fa fa-bar-chart-o",style:{marginLeft:"10px",cursor:"pointer"},onClick:function(){return e.setState({chartVisible:!0})}})),o.a.createElement(_r,{chartVisible:this.state.chartVisible,displayName:t,closeChartModal:function(){return e.closeChartModal()}}))}}]),a}(n.Component);a(1010);Ma.a.fcRoot(Ba.a,Oa.a);var Ur=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=n.state.barChartConfigs;t.dataSource.data=e.datasetOne,n.setState({barChartConfigs:t})},n.state={barChartConfigs:{type:"bar2d",width:"295",height:"250",dataFormat:"json",dataSource:{chart:{caption:"Promo Performance Revenue",captionFontSize:"14",captionAlignment:"left",captionHorizontalPadding:"-125",numberSuffix:"",theme:"candy"},data:[]}}},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=this.state.barChartConfigs;t.dataSource.data=e.datasetOne,this.setState({barChartConfigs:t})}},{key:"render",value:function(){return console.log(this.state.barChartConfigs,"divyans"),o.a.createElement("div",null,this.state.barChartConfigs.dataSource.data.length>0?o.a.createElement(Ma.a,this.state.barChartConfigs):"No Data To Show",this.state.barChartConfigs.dataSource.data.length>0?o.a.createElement("div",{className:"hide-watermark"}):"")}}]),a}(n.Component);Ma.a.fcRoot(Ba.a,Oa.a);var Jr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=n.state.visitChartConfig;t.dataSource.data=e.datasetFifth,n.setState({visitChartConfig:t})},n.state={visitChartConfig:{type:"line",renderAt:"chart-container",width:"295",height:"250",dataFormat:"json",dataSource:{chart:{theme:"fusion",caption:"Rev by Issue Date",rotateLabels:"0",xAxisName:"Issue Date",lineThickness:"2"},data:[]}}},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this.props,t=this.state.visitChartConfig;t.dataSource.data=e.datasetFifth,this.setState({visitChartConfig:t})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.visitChartConfig.dataSource.data.length>0?o.a.createElement(Ma.a,this.state.visitChartConfig):"No Data To Show",this.state.visitChartConfig.dataSource.data.length>0?o.a.createElement("div",{className:"hide-watermarkWhiite"}):"")}}]),a}(n.Component);Ma.a.fcRoot(Ba.a,Oa.a);var Kr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=n.state.heatChartConfigs;t.dataSource.data=e.datasetTwo,n.setState({heatChartConfigs:t})},n.state={heatChartConfigs:{type:"bar2d",width:"295",height:"250",dataFormat:"json",dataSource:{chart:{caption:"No of Tickets by Channel",captionFontSize:"14",captionAlignment:"left",captionHorizontalPadding:"-89",numberSuffix:"K",theme:"candy"},data:[]}}},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this.props,t=this.state.heatChartConfigs;t.dataSource.data=e.datasetTwo,this.setState({heatChartConfigs:t})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.heatChartConfigs.dataSource.data.length>0?o.a.createElement(Ma.a,this.state.heatChartConfigs):"No Data To Show",this.state.heatChartConfigs.dataSource.data.length>0?o.a.createElement("div",{className:"hide-watermark"}):"")}}]),a}(n.Component);Ma.a.fcRoot(Ba.a,Oa.a);var zr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=n.state.visitChartConfig;t.dataSource.data=e.datasetSixth,n.setState({visitChartConfig:t})},n.state={visitChartConfig:{type:"line",renderAt:"chart-container",width:"295",height:"250",dataFormat:"json",dataSource:{chart:{theme:"fusion",caption:"Rev by Travel Period",rotateLabels:"0",xAxisName:"Travel Period",lineThickness:"2"},data:[]}}},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this.props,t=this.state.visitChartConfig;t.dataSource.data=e.datasetSixth,this.setState({visitChartConfig:t})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.visitChartConfig.dataSource.data.length>0?o.a.createElement(Ma.a,this.state.visitChartConfig):"No Data To Show",this.state.visitChartConfig.dataSource.data.length>0?o.a.createElement("div",{className:"hide-watermarkWhiite"}):"")}}]),a}(n.Component);Ma.a.fcRoot(Ba.a,Oa.a);var qr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=n.state.visitChartConfig;t.dataSource.data=e.datasetSeventh,n.setState({visitChartConfig:t})},n.state={visitChartConfig:{type:"line",renderAt:"chart-container",width:"295",height:"250",dataFormat:"json",dataSource:{chart:{theme:"fusion",caption:"No of Tickets by Issue Date",rotateLabels:"0",xAxisName:"Issue Date",lineThickness:"2"},data:[]}}},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this.props,t=this.state.visitChartConfig;t.dataSource.data=e.datasetSeventh,this.setState({visitChartConfig:t})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.visitChartConfig.dataSource.data.length>0?o.a.createElement(Ma.a,this.state.visitChartConfig):"No Data To Show",this.state.visitChartConfig.dataSource.data.length>0?o.a.createElement("div",{className:"hide-watermarkWhiite"}):"")}}]),a}(n.Component);Ma.a.fcRoot(Ba.a,Oa.a);var Xr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=n.state.pieChartConfigs;t.dataSource.data=e.datasetThree,n.setState({pieChartConfigs:t})},n.state={pieChartConfigs:{type:"pie2d",renderAt:"chart-container",width:"295",height:"300",dataFormat:"json",dataSource:{chart:{caption:"Top 10 Non Directional ODs - by Rev (MYR-Mil)",captionFontSize:"14",captionAlignment:"left",numberPrefix:"$",showPercentInTooltip:"0",decimals:"1",theme:"candy",tooltipBorderRadius:"20"},data:[]}}},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this.props,t=this.state.pieChartConfigs;t.dataSource.data=e.datasetThree,this.setState({pieChartConfigs:t})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.pieChartConfigs.dataSource.data.length>0?o.a.createElement(Ma.a,this.state.pieChartConfigs):"No Data To Show",this.state.pieChartConfigs.dataSource.data.length>0?o.a.createElement("div",{className:"hide-watermark"}):"")}}]),a}(n.Component);Ma.a.fcRoot(Ba.a,Oa.a);var Qr=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=n.state.visitChartConfig;t.dataSource.data=e.datasetEightth,n.setState({visitChartConfig:t})},n.state={visitChartConfig:{type:"line",renderAt:"chart-container",width:"295",height:"250.5",dataFormat:"json",dataSource:{chart:{theme:"fusion",caption:"No of Tickets by Travel Period",rotateLabels:"0",labelDisplay:"notwrap",captionFontSize:"12",xAxisName:"Travel Period",lineThickness:"2"},data:[]}}},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this.props,t=this.state.visitChartConfig;t.dataSource.data=e.datasetEightth,this.setState({visitChartConfig:t})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.visitChartConfig.dataSource.data.length>0?o.a.createElement(Ma.a,this.state.visitChartConfig):"No Data To Show",this.state.visitChartConfig.dataSource.data.length>0?o.a.createElement("div",{className:"hide-watermarkWhiite"}):"")}}]),a}(n.Component);Ma.a.fcRoot(Ba.a,Oa.a);for(var $r=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=n.state.doughnutChartConfig;t.dataSource.data=e.datasetFourth,n.setState({doughnutChartConfig:t})},n.state={doughnutChartConfig:{type:"doughnut2d",renderAt:"chart-container",width:"295",height:"300",dataFormat:"json",dataSource:{chart:{caption:"Channel Contribution (Rev)",captionFontSize:"14",captionAlignment:"left",numberPrefix:"$",startingAngle:"310",defaultCenterLabel:"Total revenue: $64.08K",centerLabel:"Revenue from $label: $value",centerLabelBold:"1",showTooltip:"0",decimals:"0",theme:"candy"},data:[]}}},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this.props,t=this.state.doughnutChartConfig;t.dataSource.data=e.datasetFourth,this.setState({doughnutChartConfig:t})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.doughnutChartConfig.dataSource.data.length>0?o.a.createElement(Ma.a,this.state.doughnutChartConfig):"No Data To Show",this.state.doughnutChartConfig.dataSource.data.length>0?o.a.createElement("div",{className:"hide-watermark"}):"")}}]),a}(n.Component),el=new Te,tl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e){R.sendEventWithHeader({event_id:"1",description:"User viewed Promo Title Graph",where_path:"/posPromotion",page_name:"Pos Promotion"},e)},n.toggle=function(){n.setState({switchforgraph:!n.state.switchforgraph},(function(){return n.getGraphData()}))},n.getGraphData=function(){var e=n.props,t=e.gettingYear,a=e.gettingMonth,o=e.regionId,r=e.countryId,l=e.serviceGroupId,i=e.promoType,c=e.promoTitle,s=e.agencyGroup,u=e.agents,d=e.commonOD,m=e.getCabinValue,h=e.type;n.state.switchforgraph?n.setState({getYear:t,gettingMonth:a,regionId:o,countryId:r,serviceGroupId:l,promoTypeId:i,promoTitleId:c,agencyGroupId:s,agentsId:u,commonODId:d,getCabinValue:m,tabtype:h},(function(){return n.getPromotionSecondPageGraph()})):n.setState({getYear:t,gettingMonth:a,regionId:o,countryId:r,serviceGroupId:l,promoTypeId:i,promoTitleId:c,agencyGroupId:s,agentsId:u,commonODId:d,getCabinValue:m,tabtype:h},(function(){return n.getDDSChartData()}))},n.getDDSChartData=function(){var e=Object(je.a)(n),t=n.state,a=t.getYear,o=t.currency,r=t.gettingMonth,l=t.regionId,i=t.countryId,c=t.serviceGroupId,s=t.promoTypeId,u=t.promoTitleId,d=t.agencyGroupId,m=t.agentsId,h=t.commonODId,g=t.getCabinValue,p=t.type;e.showLoader(),el.getPromoTitleGraph(a,o,r,l,i,c,s,u,d,m,h,g,p).then((function(t){if(e.hideLoader(),t){var a=t[0].Data;e.setState({datasetOne:a})}})),el.getTicketbyChannelGraph(a,o,r,l,i,c,s,u,d,m,h,g,p).then((function(t){if(e.hideLoader(),t){var a=t[0].Data;e.setState({datasetTwo:a})}})),el.getTop10NonDirectionalODGraph(a,o,r,l,i,c,s,u,d,m,h,g,p).then((function(t){if(e.hideLoader(),t){var a=t[0].Data;e.setState({datasetThree:a})}})),el.getChannelbyRevenueGraph(a,o,r,l,i,c,s,u,d,m,h,g,p).then((function(t){if(e.hideLoader(),t){var a=t[0].Data;e.setState({datasetFourth:a})}}))},n.getPromotionSecondPageGraph=function(){var e=Object(je.a)(n),t=n.state,a=t.getYear,o=t.currency,r=t.gettingMonth,l=t.regionId,i=t.countryId,c=t.serviceGroupId,s=t.promoTypeId,u=t.promoTitleId,d=t.agencyGroupId,m=t.agentsId,h=t.commonODId,g=t.getCabinValue,p=t.type;e.showLoader(),el.getRevenueByIssueDateGraph(a,o,r,l,i,c,s,u,d,m,h,g,p).then((function(t){if(e.hideLoader(),t){var a=t[0].Data;e.setState({datasetFifth:a})}})),el.getNoOfTicketsByIssueGraph(a,o,r,l,i,c,s,u,d,m,h,g,p).then((function(t){if(e.hideLoader(),t){var a=t[0].Data;e.setState({datasetSeventh:a})}})),el.getRevenueByTravelPeriodGraph(a,o,r,l,i,c,s,u,d,m,h,g,p).then((function(t){if(e.hideLoader(),t){var a=t[0].Data;e.setState({datasetSixth:a})}})),el.getNoOfTicketsByTravelPeriodGraph(a,o,r,l,i,c,s,u,d,m,h,g,p).then((function(t){if(e.hideLoader(),t){var a=t[0].Data;e.setState({datasetEightth:a})}}))},n.showLoader=function(){n.setState({loading:!0}),w()("#loaderImage").addClass("loader-visible")},n.hideLoader=function(){n.setState({loading:!1}),w()("#loaderImage").removeClass("loader-visible"),w()(".x_panel").addClass("opacity-fade"),w()(".top-buttons").addClass("opacity-fade")},n.state={switchforgraph:!1,datasetOne:[],datasetTwo:[],datasetThree:[],datasetFourth:[],datasetFifth:[],datasetSixth:[],datasetSeventh:[],datasetEightth:[],loading:!1,regionId:"*",countryId:"*",serviceGroupId:"*",promoTypeId:"*",promoTitleId:"*",agencyGroupId:"*",agentsId:"*",commonODId:"*",getCabinValueId:"*",type:"Null",getYear:"*",currency:"*",gettingMonth:"*"},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=b.getCookie("Authorization");this.sendEvent(e)}},{key:"componentWillReceiveProps",value:function(e){e.clicked&&this.getGraphData()}},{key:"render",value:function(){var e=this,t=this.state.switchforgraph;return o.a.createElement("div",null,o.a.createElement(Oe.a,{show:this.props.graphVisible,onHide:this.props.closeChartModal,"aria-labelledby":"ModalHeader"},o.a.createElement(Oe.a.Header,{closeButton:!0},o.a.createElement(Oe.a.Title,{id:"ModalHeader"}," All Graphs for Promotion Tracking ")),o.a.createElement(Oe.a.Body,null,o.a.createElement("div",{className:"Switch_btn"},o.a.createElement("button",{style:{fontSize:"20px",backgroundColor:"orangered",color:"white"},onClick:function(){return e.toggle()}}," Switch ")),o.a.createElement("div",{style:{display:"flex",padding:"4px"}},o.a.createElement("div",{style:{marginRight:"2px",marginLeft:"-15.5px"}},1==t?o.a.createElement(Jr,{datasetFifth:this.state.datasetFifth}):o.a.createElement(Ur,{datasetOne:this.state.datasetOne})),o.a.createElement("div",null,1==t?o.a.createElement(zr,{datasetSixth:this.state.datasetSixth}):o.a.createElement(Kr,{datasetTwo:this.state.datasetTwo}))),o.a.createElement("div",{style:{display:"flex",padding:"4px"}},o.a.createElement("div",{style:{marginRight:"2px",marginLeft:"-15.5px"}},1==t?o.a.createElement(qr,{datasetSeventh:this.state.datasetSeventh}):o.a.createElement(Xr,{datasetThree:this.state.datasetThree})),o.a.createElement("div",null,1==t?o.a.createElement(Qr,{datasetEightth:this.state.datasetEightth}):o.a.createElement($r,{datasetFourth:this.state.datasetFourth}))))))}}]),a}(n.Component),al=new Te,nl=(new Date).getFullYear(),ol=((new Date).getMonth(),[]),rl=[],ll=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e,t,a,n){var o={event_id:"".concat(e),description:"User ".concat(t),where_path:"/".concat(a),page_name:"".concat(n)};R.sendEvent(o)},n.getFiltersValue=function(){rl=[];var e=window.localStorage.getItem("RegionSelected"),t=window.localStorage.getItem("CountrySelected"),a=JSON.parse(window.localStorage.getItem("rangeValue")),o=window.localStorage.getItem("ServiceGroupSelected"),r=window.localStorage.getItem("PromoTypeSelected"),l=window.localStorage.getItem("PromoTitleSelected"),i=window.localStorage.getItem("AgencyGroupSelected"),c=window.localStorage.getItem("AgentsSelected"),s=window.localStorage.getItem("CabinSelected"),u=window.localStorage.getItem("PromoODSelected"),d=null===s||"Null"===s?[]:JSON.parse(s);s=d.length>0?d:"Null",n.setState({regionId:null===e||"Null"===e||""===e?"*":JSON.parse(e),countryId:null===t||"Null"===t||""===t?"*":JSON.parse(t),serviceGroupId:null===o||"Null"===o||""===o?"*":"'".concat(o,"'"),promoType:null===r||"Null"===r||""===r?"*":"'".concat(r,"'"),promoTitle:null===l||"Null"===l||""===l?"*":"'".concat(l,"'"),agencyGroup:null===i||"Null"===i||""===i?"*":"'".concat(i,"'"),agents:null===c||"Null"===c||""===c?"*":"'".concat(c,"'"),commonOD:null===u||"Null"===u||""===u?"*":"'".concat(u,"'"),gettingMonth:window.monthNumToName(a.from.month),gettingYear:a.from.year,getCabinValue:s,cabinSelectedDropDown:d},(function(){return n.getInitialData()}))},n.getInitialData=function(){var e=Object(je.a)(n),t=n.state,a=t.gettingMonth,o=t.gettingYear,r=t.regionId,l=t.countryId,i=t.serviceGroupId,c=t.promoType,s=t.promoTitle,u=t.agencyGroup,d=t.agents,m=t.commonOD,h=t.getCabinValue,g=t.ancillary;e.setState({loading:!0,loading2:!0,firstLoadList:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),e.getInitialListData(r,l,i,c,s,u,d,m,h),al.getPOSPromotionMonthTables(n.state.toggle,r,l,i,c,s,u,d,m,h).then((function(t){if(e.setState({loading:!1,firstLoadList:!1}),t){var n=t[0].totalData,h=t[0].columnName,p=t[0].rowData;ol=p,e.setState({posMonthDetails:e.getHighlightedMonth(p,a,o),monthcolumns:h,monthTotalData:n})}g?(e.getDrillDownData(r,l,i,c,s,u,d,m,"Ancillary"),e.setState({type:"Ancillary"})):e.getDrillDownData(r,l,i,c,s,u,d,m,"Null")}))},n.getInitialListData=function(e,t,a,o,r,l,i,c,s){var u=Object(je.a)(n),d=JSON.parse(b.getCookie("userDetails")),m=a.substring(1,a.length-1),h=o.substring(1,o.length-1),g=r.substring(1,r.length-1),p=l.substring(1,l.length-1),f=i.substring(1,i.length-1),v=c.substring(1,c.length-1),C=s,w=d.access,_="*";"#*"!==w&&(u.setState({accessLevelDisable:!0}),_=w.split("#")[2]);"*"!==e&&(rl.push({val:e,title:"Region",disable:"*"!==_}),u.setState({selectedData:e,activeTab:"Country"})),"*"!==t&&(rl.push({val:t,title:"Country"}),u.setState({selectedData:t,activeTab:"Service Group"})),"*"!==m&&(rl.push({val:m,title:"Service Group"}),u.setState({selectedData:a,activeTab:"Promo Type"})),"*"!==h&&(rl.push({val:h,title:"Promo Type"}),u.setState({selectedData:o,activeTab:"Promo Title"})),"*"!==g&&(rl.push({val:g,title:"Promo Title"}),u.setState({selectedData:r,activeTab:"Agency Group"})),"*"!==p&&(rl.push({val:p,title:"Agency Group"}),u.setState({selectedData:l,activeTab:"Agents"})),"*"!==f&&(rl.push({val:f,title:"Agents"}),u.setState({selectedData:i,activeTab:"O&D"})),"*"!==v&&(rl.push({val:v,title:"CommonOD"}),u.setState({selectedData:c,activeTab:"Cabin"})),"*"!==v&&"*"!==C&&(rl.push({val:C,title:"Cabin"}),u.setState({selectedData:s,activeTab:"Cabin"}))},n.getMonthDrillDownData=function(e,t,a,o,r,l,i,c,s){var u=Object(je.a)(n),d=n.state,m=d.gettingMonth,h=d.getCabinValue,g=d.type,p=d.gettingYear,f=d.toggle;u.setState({loading:!0,loading2:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),al.getPOSPromotionMonthTables(f,e,t,a,o,r,l,i,c,h).then((function(e){if(u.setState({loading:!1}),e){var t=e[0].totalData,a=e[0].columnName,n=e[0].rowData;ol=n,u.setState({posMonthDetails:u.getHighlightedMonth(n,m,p),monthcolumns:a,monthTotalData:t})}})),al.getPOSPromotionDrillDownData(p,f,m,e,t,a,o,r,l,i,c,h,g).then((function(e){u.setState({loading2:!1}),e&&u.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].rowData,drillDownColumn:u.addCellRender(e[0].columnName),tabName:"Null"===g?e[0].tabName:e[0].firstTabName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,serviceGroupId:e[0].currentAccess.serviceGroupId,promoType:e[0].currentAccess.promoTypeId,promoTitle:e[0].currentAccess.promotionTitleId,agencyGroup:e[0].currentAccess.agencyGroupId,agents:e[0].currentAccess.agentsId,commonOD:e[0].currentAccess.commonOD})}))},n.getDrillDownData=function(e,t,a,o,r,l,i,c,s){var u=Object(je.a)(n),d=n.state,m=d.gettingYear,h=d.gettingMonth,g=d.getCabinValue,p=d.toggle;al.getPOSPromotionDrillDownData(m,p,h,e,t,a,o,r,l,i,c,g,s).then((function(e){u.setState({loading2:!1}),e&&u.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].rowData,drillDownColumn:u.addCellRender(e[0].columnName),tabName:"Null"===s?e[0].tabName:e[0].firstTabName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,serviceGroupId:e[0].currentAccess.serviceGroupId,promoType:e[0].currentAccess.promoTypeId,promoTitle:e[0].currentAccess.promotionTitleId,agencyGroup:e[0].currentAccess.agencyGroupId,agents:e[0].currentAccess.agentsId,commonOD:e[0].currentAccess.commonOD})}))},n.monthWiseCellClick=function(e){var t=Object(je.a)(n);t.sendEvent("2","clicked on Months row","pos","Pos Page");var a=n.state,o=(a.gettingMonth,a.regionId),r=a.countryId,l=a.cityId,i=a.serviceGroupId,c=a.promoType,s=a.promoTitle,u=a.agencyGroup,d=a.agents,m=a.commonOD,h=a.getCabinValue,g=a.type,p=(a.gettingYear,e.data.Month),f=e.colDef.field,v=e.data.isUnderline,C=n.state.posMonthDetails.map((function(e){return e.highlightMe=!1,e}));if(e.api.updateRowData({update:C}),p.includes("Total ".concat(nl-1)))n.setState({showLastYearRows:!n.state.showLastYearRows,showNextYearRows:!1},(function(){return n.getLastYearClubbedData(n.state.showLastYearRows,p)}));else if(p.includes("Total ".concat(nl+1)))n.setState({showNextYearRows:!n.state.showNextYearRows,showLastYearRows:!1},(function(){return n.getNextYearClubbedData(n.state.showNextYearRows,p)}));else{t.setState({gettingMonth:e.data.MonthName,gettingYear:e.data.Year});var w={from:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)},to:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)}};window.localStorage.setItem("rangeValue",JSON.stringify(w))}"CY_B"!==f||p.includes("Total")?"FRCT/Act_P"===f&&v?(e.event.stopPropagation(),t.setState({chartVisible:!0,forecastChartHeader:"Passenger Forecast"})):"FRCT/Act_A"===f&&v?(e.event.stopPropagation(),t.setState({chartVisible:!0,forecastChartHeader:"Average fare Forecast"})):"FRCT/Act_R"===f&&v?(e.event.stopPropagation(),t.setState({chartVisible:!0,forecastChartHeader:"Revenue Forecast"})):"CY_AL"===f?n.props.history.push("/topMarkets"):"Month"!==f||p.includes("Total")||(t.setState({loading2:!0,drillDownData:[],drillDownTotalData:[]}),t.getDrillDownData(o,r,i,c,s,u,d,m,g)):(e.event.stopPropagation(),t.showLoader(),al.getPOSCabinDetails(e.data.Year,e.data.MonthName,o,r,l,m,h).then((function(e){if(t.hideLoader(),e){var a=e[0].columnName,n=e[0].cabinData;t.setState({tableModalVisible:!0,modaldrillDownData:n,modaldrillDownColumn:a})}})))},n.regionCellClick=function(e){var t=Object(je.a)(n);t.sendEvent("2","clicked on Region drill down","pos","Pos Page");var a,o=n.state,r=o.regionId,l=o.countryId,i=o.serviceGroupId,c=o.promoType,s=o.promoTitle,u=o.agencyGroup,d=o.agents,m=o.commonOD,h=(o.cabin,o.getCabinValue),g=e.colDef.field,p="'".concat(e.data.firstColumnName,"'"),f=e.data.firstColumnName,v=e.colDef.headerName;rl.map((function(e,t){return a=e.title===v})),"Avail"===g?a||("*"===r?t.getAvailabilityData(p,l,c,m,h,"Null","Null"):"*"===l?t.getAvailabilityData(r,p,c,m,h,"Null","Null"):"*"===c?t.getAvailabilityData(r,l,p,m,h,"Null","Null"):"*"===m?t.getAvailabilityData(r,l,c,p,h,"Null","Null"):t.getAvailabilityData(r,l,c,m,p,"Null","Null")):"FRCT/Act_A"===g?n.getInfareGraphData(e):"CY_AL"===g?(n.storeValuesToLS(r,l,i,c,s,u,d,m,h,f),n.props.history.push("/topMarkets")):"firstColumnName"===g&&(a||(n.storeValuesToLS(r,l,i,c,s,u,d,m,h,f),"Cabin"!==v&&(t.setState({selectedData:p}),rl.push({val:f,title:v})),"*"===r?(t.getMonthDrillDownData(p,l,i,c,s,u,d,m,h),t.setState({activeTab:"Country"})):"*"===l?(t.getMonthDrillDownData(r,p,i,c,s,u,d,m,h),t.setState({activeTab:"Service Group"})):"*"===i?(t.getMonthDrillDownData(r,l,p,c,s,u,d,m,h),t.setState({activeTab:"Promo Type"})):"*"===c?(t.getMonthDrillDownData(r,l,i,p,s,u,d,m,h),t.setState({activeTab:"Promo Title"})):"*"===s?(t.getMonthDrillDownData(r,l,i,c,p,u,d,m,h),t.setState({activeTab:"Agency Group"})):"*"===u?(t.getMonthDrillDownData(r,l,i,c,s,p,d,m,h),t.setState({activeTab:"Agents"})):"*"===d?(t.getMonthDrillDownData(r,l,i,c,s,u,p,m,h),t.setState({activeTab:"O&D"})):"*"===m?(t.getMonthDrillDownData(r,l,i,c,s,u,d,p,h),t.setState({activeTab:"Cabin"})):"*"&&t.setState({isUnderline:!1})))},n.tabClick=function(e,t){var a=Object(je.a)(n);a.sendEvent("2","clicked on ".concat(e," tab"),"pos","Pos Page");var o=n.state,r=o.regionId,l=o.countryId,i=o.serviceGroupId,c=o.promoType,s=o.promoTitle,u=o.agencyGroup,d=o.agents,m=o.commonOD;o.getCabinValue;a.setState({type:e,drillDownData:[],drillDownTotalData:[],loading2:!0}),t?n.setState({outerTab:!0}):n.setState({outerTab:!1}),a.getDrillDownData(r,l,i,c,s,u,d,m,e)},n.ODcellClick=function(e){var t=n.state,a=(t.gettingMonth,t.regionId),o=t.countryId,r=t.cityId,l=t.serviceGroupId,i=t.commonOD,c=t.getCabinValue,s=(t.gettingYear,e.colDef.field),u=e.data.firstColumnName;"CY_AL"===s?(window.localStorage.setItem("PromoODSelected",u),n.props.history.push("/topMarkets")):"Avail"===s&&n.getAvailabilityData(a,o,l,r,i,c,"OD",u)},n.agentCellClick=function(e){var t=e.colDef.field,a=e.data.firstColumnName;"firstColumnName"===t&&(window.localStorage.setItem("Agent",a),window.location.href="/agentAnalysis")},n.compartmentCellClick=function(e){var t=n.state,a=(t.gettingMonth,t.regionId),o=t.countryId,r=t.cityId,l=t.commonOD,i=t.getCabinValue,c=(t.gettingYear,e.colDef.field),s=e.data.firstColumnName;"Avail"===c?n.getAvailabilityData(a,o,r,l,i,"Cabin",s):"FRCT/Act_A"===c&&n.getInfareGraphData(e)},n.homeHandleClick=function(e){var t=Object(je.a)(n);if("#*"===JSON.parse(b.getCookie("userDetails")).access){t.sendEvent("2","clicked on Network","pos","Pos Page"),t.setState({loading:!0,loading2:!0,firstHome:!1,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[],toggle:"bc"}),window.localStorage.setItem("RegionSelected","Null"),window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("ServiceGroupSelected","Null"),window.localStorage.setItem("PromoTypeSelected","Null"),window.localStorage.setItem("PromoTitleSelected","Null"),window.localStorage.setItem("AgencyGroupSelected","Null"),window.localStorage.setItem("AgentsSelected","Null"),window.localStorage.setItem("PromoODSelected","Null"),window.localStorage.setItem("CabinSelected","Null"),t.getMonthDrillDownData("*","*","*","*","*","*","*","*","*"),rl=[];var a=window.location.href.split("?")[0];window.history.pushState("object",document.title,a)}},n.listHandleClick=function(e,t,a){var o=Object(je.a)(n);o.sendEvent("2","clicked on Drill down list","pos","Pos Page");var r=n.state,l=r.regionId,i=r.countryId,c=r.serviceGroupId,s=r.promoType,u=r.promoTitle,d=r.agencyGroup,m=r.agents,h=r.commonOD,g=r.getCabinValue,p=e;"'"!==p.charAt(0)&&"'"!==p.charAt(p.length-1)&&(p="'".concat(e,"'")),e.includes(",")&&(p="'".concat(e.split(",").join("','"),"'")),o.setState({selectedData:p,loading:!0,loading2:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var f=decodeURIComponent(t);if("List"===a){var v=rl.findIndex((function(e){return e.title==t})),C=rl.slice(0,v+1);rl=C,n.changeURLOnListClick(l,i,c,s,u,d,m,h,g,e,f)}else"browserBack"===a&&n.onBackPressClearLS(f);"Region"===f?(o.getMonthDrillDownData(p,"*","*","*","*","*","*","*",g),o.setState({activeTab:"Country"})):"Country"===f?(o.getMonthDrillDownData(l,p,"*","*","*","*","*","*",g),o.setState({activeTab:"Service Group"})):"Service Group"===f?(o.getMonthDrillDownData(l,i,p,"*","*","*","*","*",g),o.setState({activeTab:"Promo Type"})):"Promo Type"===f?(o.getMonthDrillDownData(l,i,c,p,"*","*","*","*",g),o.setState({activeTab:"Promo Title"})):"Promo Title"===f?(o.getMonthDrillDownData(l,i,c,s,p,"*","*","*",g),o.setState({activeTab:"Agency Group"})):"Agency Group"===f?(o.getMonthDrillDownData(l,i,c,s,u,p,"*","*",g),o.setState({activeTab:"Agents"})):"Agents"===f?(o.getMonthDrillDownData(l,i,c,s,u,d,p,"*",g),o.setState({activeTab:"O&D"})):"O&D"===f&&(o.getMonthDrillDownData(l,i,c,s,u,d,m,p,g),o.setState({activeTab:"Cabin"}))},n.cabinSelectChange=function(e){e.preventDefault();var t=e.target.value;n.setState({getCabinValue:t,cabinSelectedDropDown:t},(function(){window.localStorage.setItem("CabinSelected",JSON.stringify(t))}))},n.toggle=function(e){var t=e.target.value,a=n.state,o=a.regionId,r=a.countryId,l=a.serviceGroupId,i=a.promoType,c=a.promoTitle,s=a.agencyGroup,u=a.agents,d=a.commonOD,m=a.getCabinValue;n.sendEvent("2","clicked on Currency toggle","pos","Pos Page"),n.setState({toggle:t},(function(){return n.getMonthDrillDownData(o,r,l,i,c,s,u,d,m)}))},n.redirection=function(e){n.sendEvent("2","clicked on POS/Route drop down","pos","Pos Page");var t=e.target.value,a=window.localStorage.getItem("RouteGroupSelected");a=null!==a?JSON.parse(a).join(","):"Network",n.url="/route?RouteGroup=".concat(a);var o=window.localStorage.getItem("RouteRegionSelected"),r=window.localStorage.getItem("RouteCountrySelected"),l=window.localStorage.getItem("RouteSelected"),i=window.localStorage.getItem("LegSelected"),c=window.localStorage.getItem("FlightSelected");null!==o&&"Null"!==o&&(o=JSON.parse(o),n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o))),null!==r&&"Null"!==r&&(r=JSON.parse(r),n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r))),null!==l&&"Null"!==l&&(l=JSON.parse(l),n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r),"&Route=").concat(H(l))),null!==i&&"Null"!==i&&""!==i&&(n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r),"&Route=").concat(H(l),"&Leg=").concat(H(i))),null!==c&&"Null"!==c&&""!==c&&(n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r),"&Route=").concat(H(l),"&Leg=").concat(H(i),"&Flight=").concat(H(c))),"POS"===t?(n.props.history.push("/pos"),rl=[]):(n.props.history.push(n.url),rl=[])},n.alerts=function(e){var t=e.value,a=e.colDef.headerName,o=document.createElement("span"),r=e.data.isAlert;if("0"!==(r=void 0!==r?r.toString():null)&&null!==r){var l=document.createElement("i");l.className="fa fa-bell",l.onclick=function(e){e.stopPropagation(),n.getAlertCardsData(a,t)},o.appendChild(l)}return o.appendChild(document.createTextNode(e.value)),o},n.getAlertCardsData=function(e,t){var a=n.state,o=(a.gettingMonth,a.gettingYear,a.regionId),r=a.countryId,l=a.cityId,i=(a.commonOD,a.getCabinValue),c=JSON.parse(b.getCookie("userDetails")),s=U(o),u=U(r),d=U(l),m=(U(i),"");"Cabin"!==e&&(m="user_id=".concat(c.id)),"Region"===e&&(m="".concat(m,"&regionId='").concat(encodeURIComponent(t),"'")),"Country"===e&&(m="".concat(m,"&regionId=").concat(s,"&countryId='").concat(encodeURIComponent(t),"'")),"POS"===e&&(m="".concat(m,"&regionId=").concat(s,"&countryId=").concat(u,"&cityId='").concat(encodeURIComponent(t),"'")),"O&D"===e&&(m="".concat(m,"&regionId=").concat(s,"&countryId=").concat(u,"&cityId=").concat(d,"&commonOD='").concat(encodeURIComponent(t),"'")),"Cabin"!==e&&L.get("getallalerts?".concat(m,"&infare=low")).then((function(e){if(e)if(e.data.response.length>0){var t=e.data.response;n.setState({alertData:t,alertVisible:!0})}else n.setState({alertData:[],alertVisible:!0})})).catch((function(e){}))},n.getInfareGraphData=function(e){var t=n.state,a=t.gettingMonth,o=t.gettingYear,r=t.regionId,l=t.countryId,i=t.cityId,c=t.commonOD,s=t.getCabinValue,u=t.toggle,d=U(r),m=U(l),h=U(i),g=U(s),p=e.columnApi.columnController.columnDefs[0].children[0].headerName,f=e.data.firstColumnName,v="";"Cabin"!==p&&(v="gettingMonth=".concat(window.monthNameToNum(a),"&getYear=").concat(o,"&getCabinValue=").concat(g,"&currency_params=").concat(u)),"Region"===p&&(v="".concat(v,"&regionId='").concat(encodeURIComponent(f),"'")),"Country"===p&&(v="".concat(v,"&regionId=").concat(d,"&countryId='").concat(encodeURIComponent(f),"'")),"POS"===p&&(v="".concat(v,"&regionId=").concat(d,"&countryId=").concat(m,"&cityId='").concat(encodeURIComponent(f),"'")),"O&D"===p&&(v="".concat(v,"&regionId=").concat(d,"&countryId=").concat(m,"&cityId=").concat(h,"&commonOD='").concat(encodeURIComponent(f),"'")),"Cabin"===p&&(v="currency_params=".concat(u,"&gettingMonth=").concat(window.monthNameToNum(a),"&getYear=").concat(o,"&getCabinValue='").concat(f,"'&regionId=").concat(d,"&countryId=").concat(m,"&cityId=").concat(h,"&commonOD=").concat(encodeURIComponent(c))),L.get("infaregraph?".concat(v)).then((function(e){if(e){var t=e.data.response[0].GraphData,a=e.data.response[0].currencyData[0].Currency;t.length>0?n.setState({infareData:t,infareGraphHeading:"".concat(f," (").concat(a,")"),infareCurrency:a,infareModalVisible:!0}):n.setState({infareData:[],infareGraphHeading:"".concat(f," (").concat(a,")"),infareCurrency:a,infareModalVisible:!0})}})).catch((function(e){y.a.fire({title:"Error!",text:"Something went wrong. Please try after some time",icon:"error",confirmButtonText:"Ok"}).then((function(){}))}))},n.serialize=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")},n.showLoader=function(){w()("#loaderImage").addClass("loader-visible")},n.hideLoader=function(){w()("#loaderImage").removeClass("loader-visible"),w()(".x_panel").addClass("opacity-fade"),w()(".top-buttons").addClass("opacity-fade")},n.renderTabs=function(){var e=n.state,t=e.gettingMonth,a=e.regionId,r=e.countryId,l=e.cityId,i=e.serviceGroupId,c=e.commonOD,s=e.getCabinValue,u=e.tabName,d=e.gettingYear,m=e.type,h=e.outerTab,g=(e.ancillary,e.activeTab),p=(al.exportCSVPOSMonthlyURL(a,r,l,c,s),al.exportCSVPOSDrillDownURL(d,t,a,r,l,c,s,m),al.exportCSVPOSMonthlyURL(a,r,l,c,s),!1===h?"active":""),f="Region";return"*"===a?f="Region":"*"===r?f="Country":"*"===i&&(f="Service Group"),o.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},"*"===a||"*"===r||"*"===i?o.a.createElement("li",{role:"presentation",className:p,onClick:function(){return n.tabClick("Null",!1)}},o.a.createElement("a",{href:"#Section1","aria-controls":"home",role:"tab","data-toggle":"tab"},f)):"",o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Promo Type"==g?"Null":"Promotype","Promo Type"!=g)},className:"Promo Type"==u?"active":""},o.a.createElement("a",{href:"Promo Type"==g?"#Section1":"#Section2","aria-controls":"profile",role:"tab","data-toggle":"tab"},"Promo Type")),o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Promo Title"==g?"Null":"Promo Title","Promo Title"!=g)},className:"Promo Title"==u?"active":""},o.a.createElement("a",{href:"Promo Title"==g?"#Section1":"#Section3","aria-controls":"profile",role:"tab","data-toggle":"tab"},"Promo Title")),o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Agency Group"==g?"Null":"Agency Group","Agency Group"!=g)},className:"Agency Group"==u?"active":""},o.a.createElement("a",{href:"Agency Group"==g?"#Section1":"#Section4","aria-controls":"profile",role:"tab","data-toggle":"tab"},"Agency Group")),o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Agents"==g?"Null":"Agents","Agents"!=g)},className:"Agents"==u?"active":""},o.a.createElement("a",{href:"Agents"==g?"#Section1":"#Section5","aria-controls":"profile",role:"tab","data-toggle":"tab"},"Agents")),o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("O&D"==g?"Null":"OD","O&D"!=g)},className:"O&D"==u?"active":""},o.a.createElement("a",{href:"O&D"==g?"#Section1":"#Section6","aria-controls":"profile",role:"tab","data-toggle":"tab"},"O&D")),o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Cabin","Cabin"!=g)},className:"Cabin"==u?"active":""},o.a.createElement("a",{href:"#Section7","aria-controls":"profile",role:"tab","data-toggle":"tab"},"Cabin")),o.a.createElement("button",{className:"btn download",style:{backgroundColor:"orangered",float:"right"},onClick:function(){return n.setState({graphVisible:!0,clicked:!0})}},"All Graphs "))},n.pathName=window.location.pathname,n.selectedRegion=null,n.selectedCountry=null,n.selectedServiceGroup=null,n.selectedPromoType=null,n.selectedPromoTitle=null,n.selectedAgencyGroup=null,n.selectedAgents=null,n.selectedOD=null,n.selectedCabin=null,n.state={clicked:!1,posMonthDetails:[],monthTotalData:[],drillDownTotalData:[],monthcolumns:[],drillDownColumn:[],drillDownData:[],modaldrillDownColumn:[],modaldrillDownData:[],modalData:[],availModalData:[],availModalColumn:[],availTotalData:[],availModalVisible:!1,tableDatas:!0,gettingMonth:null,gettingYear:null,gettingRegion:"Null",monthTableTitle:"NETWORK",tabLevel:"Null",cabinOption:[],alertData:[],getCabinValue:[],cabinSelectedDropDown:[],cabinDisable:!0,toggle:"bc",alertVisible:!1,tableModalVisible:!1,tabName:"Region",activeTab:"Region",regionId:"*",countryId:"*",cityId:"*",commonOD:"*",serviceGroupId:"*",promoType:"*",promoTitle:"*",agencyGroup:"*",agents:"*",cabin:"*",type:"Null",baseAccess:"",selectedData:"Null",infareData:[],infareModalVisible:!1,infareGraphHeading:"",loading:!1,loading2:!1,loading3:!1,firstLoadList:!1,showLastYearRows:!1,showNextYearRows:!1,accessLevelDisable:!1,chartVisible:!1,forecastChartHeader:"",posMonthRowClassRule:{"highlight-row":"data.highlightMe"},firstHome:!0,infareCurrency:"",outerTab:!1,ancillary:!1,ensureIndexVisible:null,graphVisible:!1},n.sendEvent("1","viewed Pos Page","pos","Pos page"),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=J("ancillary",window.location.href);this.setState({ancillary:t||!1}),e.getFiltersValue(),al.getClassNameDetails().then((function(t){if(t){var a=t[0].classDatas;e.setState({cabinOption:a,cabinDisable:!1})}}))}},{key:"componentDidUpdate",value:function(){var e=this;window.onpopstate=function(t){var a=e.props.browserToProps.queryParams,n=Object.values(a),o=Object.keys(a),r=o.length-1;"undefined"!==n[0]?(e.pushURLToBcData(a,o,n,r),e.setState({firstHome:!0})):e.state.firstHome&&e.homeHandleClick()}}},{key:"pushURLToBcData",value:function(e,t,a,n){if(e.hasOwnProperty("Region")&&!rl.some((function(e){return"Region"===e.title}))){var o,r,l=e.Region,i=e.Region;l.includes(",")?l="'".concat(l.split(",").join("','"),"'"):"'"!==l.charAt(0)&&"'"!==l.charAt(l.length-1)&&(l="'".concat(l,"'")),"'"===i.charAt(0)&&"'"===i.charAt(i.length-1)?r=i.substring(1,i.length-1):i.includes(",")?(o=i.split(","),r=i):r=i,rl.push({val:r,title:"Region"}),this.setState({regionId:l});var c=i.includes(",")?o:[].concat([r]);window.localStorage.setItem("RegionSelected",JSON.stringify(c))}if(e.hasOwnProperty("Country")&&!rl.some((function(e){return"Country"===e.title}))){var s,u,d=e.Country,m=e.Country;d.includes(",")?d="'".concat(d.split(",").join("','"),"'"):"'"!==d.charAt(0)&&"'"!==d.charAt(d.length-1)&&(d="'".concat(d,"'")),"'"===m.charAt(0)&&"'"===m.charAt(m.length-1)?u=m.substring(1,m.length-1):m.includes(",")?(s=m.split(","),u=m):u=m,rl.push({val:u,title:"Country"}),this.setState({countryId:d});var h=m.includes(",")?s:[].concat([u]);window.localStorage.setItem("CountrySelected",JSON.stringify(h))}if(e.hasOwnProperty("O%26D")&&!rl.some((function(e){return"O&D"===e.title}))&&(rl.push({val:e["O%26D"],title:"O&D"}),this.setState({commonOD:e["O%26D"]}),window.localStorage.setItem("PromoODSelected",e["O%26D"])),rl.length>0){var g=rl.slice(0,n+1);rl=g}this.listHandleClick(a[n],t[n],"browserBack")}},{key:"getHighlightedMonth",value:function(e,t,a){var n=this,o=window.monthNameToNum(t),r=0;return e.filter((function(e,t){var l=e.Month,i="".concat(window.shortMonthNumToName(o)," ").concat(a);if(a!==nl-1&&e.Year===nl-1&&(r+=1),i===l&&(e.highlightMe=!0,n.setState({ensureIndexVisible:t-r})),a===nl){if(e.Month==="Total ".concat(nl-1)&&(e.Month="\u25ba Total ".concat(nl-1)),e.Month==="Total ".concat(nl+1)&&(e.Month="\u25ba Total ".concat(nl+1)),e.Year===nl||e.Month==="\u25ba Total ".concat(nl-1)||e.Month==="\u25ba Total ".concat(nl+1))return e}else if(a===nl+1){if(e.Month==="Total ".concat(nl-1)&&(e.Month="\u25ba Total ".concat(nl-1)),e.Month==="Total ".concat(nl+1)&&(e.Month="\u25bc Total ".concat(nl+1)),e.Year>=nl||e.Month==="\u25ba Total ".concat(nl-1)||e.Month==="\u25bc Total ".concat(nl+1))return e;n.setState({showNextYearRows:!0,showLastYearRows:!1})}else if(a===nl-1){if(e.Month==="Total ".concat(nl-1)&&(e.Month="\u25bc Total ".concat(nl-1)),e.Month==="Total ".concat(nl+1)&&(e.Month="\u25ba Total ".concat(nl+1)),e.Year<=nl||e.Month==="\u25bc Total ".concat(nl-1)||e.Month==="\u25ba Total ".concat(nl+1))return e;n.setState({showLastYearRows:!0,showNextYearRows:!1})}}))}},{key:"getHighlightedRow",value:function(e,t){return e.map((function(e,t){var a=e.Month;return a==="\u25bc Total ".concat(nl-1)||a==="\u25ba Total ".concat(nl-1)?e.highlightMe=!0:a!=="\u25bc Total ".concat(nl+1)&&a!=="\u25ba Total ".concat(nl+1)||(e.highlightMe=!0),e}))}},{key:"getLastYearClubbedData",value:function(e,t){if(e){var a=ol.filter((function(e){if(e.Month==="\u25ba Total ".concat(nl-1)&&(e.Month="\u25bc Total ".concat(nl-1)),e.Month==="\u25bc Total ".concat(nl+1)&&(e.Month="\u25ba Total ".concat(nl+1)),e.Year<=nl||e.Month==="\u25bc Total ".concat(nl-1)||e.Month==="\u25ba Total ".concat(nl+1))return e}));this.setState({posMonthDetails:this.getHighlightedRow(a,t)})}else{var n=ol.filter((function(e){if(e.Month==="\u25bc Total ".concat(nl-1)&&(e.Month="\u25ba Total ".concat(nl-1)),e.Month==="\u25bc Total ".concat(nl+1)&&(e.Month="\u25ba Total ".concat(nl+1)),e.Year===nl||e.Month==="\u25ba Total ".concat(nl-1)||e.Month==="\u25ba Total ".concat(nl+1))return e}));this.setState({posMonthDetails:this.getHighlightedRow(n,t)})}}},{key:"getNextYearClubbedData",value:function(e,t){if(e){var a=ol.filter((function(e){if(e.Month==="\u25ba Total ".concat(nl+1)&&(e.Month="\u25bc Total ".concat(nl+1)),e.Month==="\u25bc Total ".concat(nl-1)&&(e.Month="\u25ba Total ".concat(nl-1)),e.Year>=nl||e.Month==="\u25bc Total ".concat(nl+1)||e.Month==="\u25ba Total ".concat(nl-1))return e}));this.setState({posMonthDetails:this.getHighlightedRow(a,t)})}else{var n=ol.filter((function(e){if(e.Month==="\u25bc Total ".concat(nl+1)&&(e.Month="\u25ba Total ".concat(nl+1)),e.Month==="\u25bc Total ".concat(nl-1)&&(e.Month="\u25ba Total ".concat(nl-1)),e.Year===nl||e.Month==="\u25ba Total ".concat(nl+1)||e.Month==="\u25ba Total ".concat(nl-1))return e}));this.setState({posMonthDetails:this.getHighlightedRow(n,t)})}}},{key:"getAvailabilityData",value:function(e,t,a,n,o,r,l){var i=this,c=this.state,s=c.gettingYear,u=c.gettingMonth;this.showLoader(),al.getAvailabilityDetails(s,u,e,t,a,n,o,r,l).then((function(e){i.hideLoader(),e&&i.setState({availModalVisible:!0,availModalColumn:e[0].columnName,availModalData:e[0].rowData})}))}},{key:"rectifyURLValues",value:function(e,t,a,n,o,r,l,i,c,s){Array.isArray(e)?this.selectedRegion=e.join(","):e.includes("','")?(this.selectedRegion=e.split("','").join(","),this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)):(this.selectedRegion=e,this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)),Array.isArray(t)?this.selectedCountry=t.join(","):e.includes("','")?(this.selectedCountry=t.split("','").join(","),this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)):(this.selectedCountry=t,this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)),this.selectedServiceGroup=a,this.selectedServiceGroup=this.selectedServiceGroup.substring(1,this.selectedServiceGroup.length-1),this.selectedPromoType=n,this.selectedPromoType=this.selectedPromoType.substring(1,this.selectedPromoType.length-1),this.selectedPromoTitle=o,this.selectedPromoTitle=this.selectedPromoTitle.substring(1,this.selectedPromoTitle.length-1),this.selectedAgencyGroup=r,this.selectedAgencyGroup=this.selectedAgencyGroup.substring(1,this.selectedAgencyGroup.length-1),this.selectedAgents=l,this.selectedAgents=this.selectedAgents.substring(1,this.selectedAgents.length-1),this.selectedOD=i,this.selectedOD=this.selectedOD.substring(1,this.selectedOD.length-1)}},{key:"storeValuesToLS",value:function(e,t,a,n,o,r,l,i,c,s){var u=[],d=[];this.rectifyURLValues(e,t,a,n,o,r,l,i,c,s),"*"===e?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(s))),u.push(s),window.localStorage.setItem("RegionSelected",JSON.stringify(u))):"*"===t?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(s)),d.push(s),window.localStorage.setItem("CountrySelected",JSON.stringify(d))):"*"===a?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&serviceGroup=").concat(s)),window.localStorage.setItem("ServiceGroupSelected",s)):"*"===n?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&serviceGroup=").concat(this.selectedServiceGroup,"&promoType=").concat(s)),window.localStorage.setItem("PromoTypeSelected",s)):"*"===o?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&serviceGroup=").concat(this.selectedServiceGroup,"&promoType=").concat(this.selectedPromoType,"&promoTitle=").concat(s)),window.localStorage.setItem("PromoTitleSelected",s)):"*"===r?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&serviceGroup=").concat(this.selectedServiceGroup,"&promoType=").concat(this.selectedPromoType,"&promoTitle=").concat(this.selectedPromoTitle,"&agencyGroup=").concat(s)),window.localStorage.setItem("AgencyGroupSelected",s)):"*"===l?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&serviceGroup=").concat(this.selectedServiceGroup,"&promoType=").concat(this.selectedPromoType,"&promoTitle=").concat(this.selectedPromoTitle,"&agencyGroup=").concat(this.selectedAgencyGroup,"&agents=").concat(s)),window.localStorage.setItem("AgentsSelected",s)):"*"===i&&(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&serviceGroup=").concat(this.selectedServiceGroup,"&promoType=").concat(this.selectedPromoType,"&promoTitle=").concat(this.selectedPromoTitle,"&agencyGroup=").concat(this.selectedAgencyGroup,"&agents=").concat(this.selectedAgents,"&").concat(encodeURIComponent("O&D"),"=").concat(s)),window.localStorage.setItem("PromoODSelected",s))}},{key:"changeURLOnListClick",value:function(e,t,a,n,o,r,l,i,c,s,u){this.rectifyURLValues(e,t,a,n,o,r,l,i,c,s),"Region"===u?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(s))),window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("ServiceGroupSelected","Null"),window.localStorage.setItem("PromoTypeSelected","Null"),window.localStorage.setItem("PromoTitleSelected","Null"),window.localStorage.setItem("AgencyGroupSelected","Null"),window.localStorage.setItem("AgentsSelected","Null"),window.localStorage.setItem("PromoODSelected","Null"),window.localStorage.setItem("CabinSelected","Null")):"Country"===u?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(s)),window.localStorage.setItem("ServiceGroupSelected","Null"),window.localStorage.setItem("PromoTypeSelected","Null"),window.localStorage.setItem("PromoTitleSelected","Null"),window.localStorage.setItem("AgencyGroupSelected","Null"),window.localStorage.setItem("AgentsSelected","Null"),window.localStorage.setItem("PromoODSelected","Null"),window.localStorage.setItem("CabinSelected","Null")):"Service Group"===u?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&ServiceGroup=").concat(s)),window.localStorage.setItem("PromoTypeSelected","Null"),window.localStorage.setItem("PromoTitleSelected","Null"),window.localStorage.setItem("AgencyGroupSelected","Null"),window.localStorage.setItem("AgentsSelected","Null"),window.localStorage.setItem("PromoODSelected","Null"),window.localStorage.setItem("CabinSelected","Null")):"Promo Type"===u?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&ServiceGroup=").concat(this.selectedServiceGroup,"&PromoType=").concat(s)),window.localStorage.setItem("PromoTitleSelected","Null"),window.localStorage.setItem("AgencyGroupSelected","Null"),window.localStorage.setItem("AgentsSelected","Null"),window.localStorage.setItem("PromoODSelected","Null"),window.localStorage.setItem("CabinSelected","Null")):"Promo Title"===u?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&ServiceGroup=").concat(this.selectedServiceGroup,"&PromoType=").concat(this.selectedPromoType,"&PromoTitle=").concat(s)),window.localStorage.setItem("AgencyGroupSelected","Null"),window.localStorage.setItem("AgentsSelected","Null"),window.localStorage.setItem("PromoODSelected","Null"),window.localStorage.setItem("CabinSelected","Null")):"Agency Group"===u?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&ServiceGroup=").concat(this.selectedServiceGroup,"&PromoType=").concat(this.selectedPromoType,"&PromoTitle=").concat(this.selectedPromoTitle,"&AgencyGroup=").concat(s)),window.localStorage.setItem("AgentsSelected","Null"),window.localStorage.setItem("PromoODSelected","Null"),window.localStorage.setItem("CabinSelected","Null")):"Agents"===u?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&ServiceGroup=").concat(this.selectedServiceGroup,"&PromoType=").concat(this.selectedPromoType,"&PromoTitle=").concat(this.selectedPromoTitle,"&AgencyGroup=").concat(this.selectedAgencyGroup,"&Agents=").concat(s)),window.localStorage.setItem("PromoODSelected","Null"),window.localStorage.setItem("CabinSelected","Null")):"O&D"===u?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&ServiceGroup=").concat(this.selectedServiceGroup,"&PromoType=").concat(this.selectedPromoType,"&PromoTitle=").concat(this.selectedPromoTitle,"&AgencyGroup=").concat(this.selectedAgencyGroup,"&Agents=").concat(this.selectedAgents,"&").concat(encodeURIComponent("O&D"),"=").concat(s)),window.localStorage.setItem("CabinSelected","Null")):"Cabin"===u&&this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&ServiceGroup=").concat(this.selectedServiceGroup,"&PromoType=").concat(this.selectedPromoType,"&PromoTitle=").concat(this.selectedPromoTitle,"&AgencyGroup=").concat(this.selectedAgencyGroup,"&Agents=").concat(this.selectedAgents,"&").concat(encodeURIComponent("O&D"),"=").concat(this.selectedOD,"&Cabin=").concat(s))}},{key:"onBackPressClearLS",value:function(e){"Region"===e?(window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ServiceGroupSelected","Null"),window.localStorage.setItem("PromoTypeSelected","Null"),window.localStorage.setItem("PromoTitleSelected","Null"),window.localStorage.setItem("AgencyGroupSelected","Null"),window.localStorage.setItem("AgentsSelected","Null"),window.localStorage.setItem("PromoODSelected","Null"),window.localStorage.setItem("CabinSelected","Null")):"Country"===e?(window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ServiceGroupSelected","Null"),window.localStorage.setItem("PromoTypeSelected","Null"),window.localStorage.setItem("PromoTitleSelected","Null"),window.localStorage.setItem("AgencyGroupSelected","Null"),window.localStorage.setItem("AgentsSelected","Null"),window.localStorage.setItem("PromoODSelected","Null"),window.localStorage.setItem("CabinSelected","Null")):"serviceGroup"===e?(window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("PromoTypeSelected","Null"),window.localStorage.setItem("PromoTitleSelected","Null"),window.localStorage.setItem("AgencyGroupSelected","Null"),window.localStorage.setItem("AgentsSelected","Null"),window.localStorage.setItem("PromoODSelected","Null"),window.localStorage.setItem("CabinSelected","Null")):"Promo Type"===e?(window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("PromoTitleSelected","Null"),window.localStorage.setItem("AgencyGroupSelected","Null"),window.localStorage.setItem("AgentsSelected","Null"),window.localStorage.setItem("PromoODSelected","Null"),window.localStorage.setItem("CabinSelected","Null")):"Promo Title"===e?(window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("AgencyGroupSelected","Null"),window.localStorage.setItem("AgentsSelected","Null"),window.localStorage.setItem("PromoODSelected","Null"),window.localStorage.setItem("CabinSelected","Null")):"Agency Group"===e?(window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("AgentsSelected","Null"),window.localStorage.setItem("PromoODSelected","Null"),window.localStorage.setItem("CabinSelected","Null")):"Agents"===e?(window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("PromoODSelected","Null"),window.localStorage.setItem("CabinSelected","Null")):"O&D"===e&&(window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("CabinSelected","Null"))}},{key:"onCabinClose",value:function(){var e=this;this.sendEvent("2","clicked on Cabin drop down","pos","Pos Page"),this.state.cabinSelectedDropDown.length>0?this.getDataOnCabinChange():(this.setState({getCabinValue:"Null"},(function(){return e.getDataOnCabinChange()})),window.localStorage.setItem("CabinSelected","Null"))}},{key:"getDataOnCabinChange",value:function(){this.setState({loading:!0,loading2:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var e=this.state,t=e.regionId,a=e.countryId,n=e.serviceGroupId,o=e.promoType,r=e.promoTitle,l=e.agencyGroup,i=e.agents,c=e.commonOD,s=e.getCabinValue;this.getMonthDrillDownData(t,a,n,o,r,l,i,c,s)}},{key:"addCellRender",value:function(e){var t=this;return e.map((function(e){return"firstColumnName"===e.field&&(e.cellRenderer=t.alerts),e.children&&(e.children=t.addCellRender(e.children)),e}))}},{key:"renderInfareGraphModal",value:function(){var e=this;return o.a.createElement(Oe.a,{show:this.state.infareModalVisible,onHide:function(){return e.setState({infareModalVisible:!1})},"aria-labelledby":"ModalHeader"},o.a.createElement(Oe.a.Header,{closeButton:!0},o.a.createElement(Oe.a.Title,{id:"ModalHeader"},"Infare Graph of ".concat(this.state.infareGraphHeading))),o.a.createElement(Oe.a.Body,null,o.a.createElement(hr,{infareData:this.state.infareData,currency:this.state.infareCurrency})))}},{key:"renderAvailModal",value:function(){return o.a.createElement(pr,{tableModalVisible:this.state.availModalVisible,rowData:this.state.availModalData,columns:this.state.availModalColumn,header:"Availability Details",loading:this.state.loading3})}},{key:"render",value:function(){var e=this,t=this.state,a=t.cabinOption,n=t.cabinSelectedDropDown,r=t.cabinDisable,l=t.accessLevelDisable,i=(t.outerTab,t.ancillary);return o.a.createElement("div",{className:"promotionTracking"},o.a.createElement(Dr,null),o.a.createElement(ta,this.props),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top"},o.a.createElement("div",{className:"navdesign",style:{marginTop:"0px"}},o.a.createElement("div",{className:"col-md-7 col-sm-7 col-xs-7 toggle1"},o.a.createElement("section",null,o.a.createElement("h2",null," Promotion Tracking ")),o.a.createElement("section",null,o.a.createElement("nav",null,o.a.createElement("ol",{className:"cd-breadcrumb"},o.a.createElement("div",{style:{cursor:l?"not-allowed":"pointer"}},o.a.createElement("li",{className:"".concat(l?"breadcrumb-disable":""),onClick:function(){return e.homeHandleClick()}}," ","Network"," ")),this.state.firstLoadList?"":rl.map((function(t){return o.a.createElement("div",{style:{cursor:t.disable?"not-allowed":"pointer"}},o.a.createElement("li",{className:"".concat(t.disable?"breadcrumb-disable":""),onClick:function(a){return e.listHandleClick(a.target.id,t.title,"List")},id:t.val,title:"".concat(t.title," : ").concat(t.val)}," > ".concat(t.val)))})))))),o.a.createElement("div",{className:"col-md-5 col-sm-5 col-xs-5 toggle2"},o.a.createElement("div",{className:"cabin-selection"},o.a.createElement("h4",null,"Select Cabin :"),o.a.createElement(gt.a,{className:"select-group"},o.a.createElement(mt.a,{id:"demo-mutiple-checkbox-label"},"All"),o.a.createElement(ft.a,{labelId:"demo-mutiple-checkbox-label",className:"".concat(r?"disable":""),id:"demo-mutiple-checkbox",multiple:!0,value:n,onChange:function(t){return e.cabinSelectChange(t)},input:o.a.createElement(dt.a,null),renderValue:function(e){return e.join(",")},onClose:function(){return e.onCabinClose()},MenuProps:{classes:"disable"}},a.map((function(e){return o.a.createElement(ht.a,{key:e.ClassValue,value:e.ClassValue},o.a.createElement(vt.a,{checked:n.indexOf(e.ClassText)>-1}),o.a.createElement(pt.a,{primary:e.ClassText}))}))))),o.a.createElement("h4",null,"Select Currency :"),o.a.createElement("select",{className:"form-control cabinselect currency-dropdown",onChange:function(t){return e.toggle(t)},disabled:"*"===this.state.countryId},o.a.createElement("option",{value:"bc",selected:"*"===this.state.countryId||"bc"===this.state.toggle},"BC"),o.a.createElement("option",{value:"lc"},"LC")))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},o.a.createElement("div",{className:"x_panel",style:{marginTop:"10px",height:"calc(100vh - 130px)"}},o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.posMonthDetails,columnDefs:this.state.monthcolumns,loading:this.state.loading,onCellClicked:function(t){return e.monthWiseCellClick(t)},frameworkComponents:{customHeaderGroupComponent:Hr},rowClassRules:this.state.posMonthRowClassRule,pos:!0,ensureIndexVisible:this.state.ensureIndexVisible}),o.a.createElement(ba,{rowData:this.state.monthTotalData,columnDefs:this.state.monthcolumns,frameworkComponents:{customHeaderGroupComponent:Hr},loading:this.state.loading,responsive:!0,reducingPadding:!0}),o.a.createElement("div",{className:"tab",id:"posTableTab",role:"tabpanel",style:{marginTop:"10px"}},this.renderTabs(),o.a.createElement("div",{className:"tab-content tabs"},o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in ".concat(i?"":"active"),id:"Section1"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.regionCellClick(t)},loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section2"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section3"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section4"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section5"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section6"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section7"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})))))))),o.a.createElement("div",null,o.a.createElement(pr,{tableModalVisible:this.state.tableModalVisible,rowData:this.state.modaldrillDownData,columns:this.state.modaldrillDownColumn,header:"".concat(this.state.gettingMonth," ").concat(this.state.gettingYear),loading:this.state.loading3}),o.a.createElement(mr,{alertVisible:this.state.alertVisible,alertData:this.state.alertData,closeAlertModal:function(){return e.setState({alertVisible:!1})}}),this.renderAvailModal(),this.renderInfareGraphModal(),o.a.createElement(_r,{chartVisible:this.state.chartVisible,displayName:this.state.forecastChartHeader,gettingYear:this.state.gettingYear,gettingMonth:this.state.gettingMonth,forecast:!0,closeChartModal:function(){return e.setState({chartVisible:!1})}}),o.a.createElement(tl,{graphVisible:this.state.graphVisible,gettingYear:this.state.gettingYear,gettingMonth:this.state.gettingMonth,regionId:this.state.regionId,countryId:this.state.countryId,serviceGroupId:this.state.serviceGroupId,promoType:this.state.promoType,promoTitle:this.state.promoTitle,agencyGroup:this.state.agencyGroup,agents:this.state.agents,commonOD:this.state.commonOD,getCabinValue:this.state.getCabinValue,type:this.state.type,clicked:this.state.clicked,closeChartModal:function(){return e.setState({graphVisible:!1})}})))}}]),a}(n.Component),il=Object(Nr.a)(ll),cl=(a(1011),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={chartVisible:!1},n}return Object(c.a)(a,[{key:"closeChartModal",value:function(){this.setState({chartVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props.displayName,a=localStorage.getItem("routeDownloadURL");return o.a.createElement("div",null,"Load Factor"===t?o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},t),o.a.createElement(Sr,{url:a,name:"Route DRILLDOWN",path:"/route",page:"Route Page"})):o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},this.props.displayName),o.a.createElement("i",{class:"fa fa-bar-chart-o",style:{marginLeft:"10px",cursor:"pointer"},onClick:function(){return e.setState({chartVisible:!0})}})),o.a.createElement(_r,{chartVisible:this.state.chartVisible,displayName:this.props.displayName,route:!0,closeChartModal:function(){return e.closeChartModal()}}))}}]),a}(n.Component)),sl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.paginationStart,a=e.paginationEnd,n=e.totalRecords,r=e.gotoFirstPage,l=e.gotoPreviousPage,i=e.currentPage,c=e.TotalPages,s=e.gotoNexttPage,u=e.gotoLastPage;return o.a.createElement("div",{className:"pagination-main"},o.a.createElement("span",null,"".concat(t," to ").concat(a," of ").concat(n)),o.a.createElement("div",null,o.a.createElement("span",{title:"First",className:"button-span ".concat(1===i?"disabled":""),onClick:r},"<<"),o.a.createElement("span",{title:"Previous",className:"button-span ".concat(1===i?"disabled":""),onClick:l},"<"),o.a.createElement("span",null,"Page ".concat(i," of ").concat(c)),o.a.createElement("span",{title:"Next",className:"button-span ".concat(i===c?"disabled":""),onClick:s},">"),o.a.createElement("span",{title:"Last",className:"button-span ".concat(i===c?"disabled":""),onClick:u},">>")))}}]),a}(n.Component),ul=new Te,dl=(new Date).getFullYear(),ml=[],hl=[],gl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n,o;return Object(i.a)(this,a),(o=t.call(this,e)).sendEvent=function(e,t,a,n){var o={event_id:e,description:t,where_path:a,page_name:n};R.sendEvent(o)},o.getFiltersValue=function(){hl=[];var e=window.localStorage.getItem("RouteGroupSelected"),t=window.localStorage.getItem("RouteRegionSelected"),a=window.localStorage.getItem("RouteCountrySelected"),n=window.localStorage.getItem("RouteSelected"),r=JSON.parse(window.localStorage.getItem("rangeValue")),l=window.localStorage.getItem("CabinSelected"),i=window.localStorage.getItem("LegSelected"),c=window.localStorage.getItem("FlightSelected");e=null===e||""===e||"Null"===e?Object.keys(o.userDetails.route_access).length>0?o.userDetails.route_access.selectedRouteGroup:["Network"]:JSON.parse(e);var s=null===l||"Null"===l?[]:JSON.parse(l);l=s.length>0?s:"Null",o.setState({routeGroup:e.join("','"),regionId:null===t||"Null"===t||""===t?"*":JSON.parse(t),countryId:null===a||"Null"===a||""===a?"*":JSON.parse(a),routeId:null===n||"Null"===n||""===n?"*":JSON.parse(n),leg:null===i||"Null"===i||""===i?"*":"'".concat(i,"'"),flight:null===c||"Null"===c||""===c?"*":"'".concat(c,"'"),gettingMonth:window.monthNumToName(r.from.month),gettingYear:r.from.year,getCabinValue:l,cabinSelectedDropDown:s},(function(){return o.getInitialData()}))},o.getInitialListData=function(e,t,a,n,r){var l=Object(je.a)(o),i=o.userDetails.route_access,c=n.substring(1,n.length-1),s=r.substring(1,r.length-1);Object.keys(i).length>0&&l.setState({accessLevelDisable:!0});var u=i.hasOwnProperty("selectedRouteRegion");l.setState({regionLevelAccess:u});var d=i.hasOwnProperty("selectedRouteCountry"),m=i.hasOwnProperty("selectedRoute");"*"!==e&&(hl.push({val:e,title:"Region",disable:d}),l.setState({selectedData:e})),"*"!==t&&(hl.push({val:t,title:"Country",disable:m}),l.setState({selectedData:t})),"*"!==a&&(hl.push({val:a,title:"Route"}),l.setState({selectedData:a})),"*"!==c&&(hl.push({val:c,flight:s,title:"Leg"}),l.setState({selectedData:n})),"*"!==s&&(hl.push({val:s,title:"Flight"}),l.setState({selectedData:r}))},o.getMonthDrillDownData=function(e,t,a,n,r,l){var i=Object(je.a)(o),c=o.state,s=c.currency,u=c.gettingMonth,d=c.getCabinValue,m=c.type,h=c.gettingYear;i.setState({loading:!0,loading2:!0,routeMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),ul.getRouteMonthTables(s,e,t,a,n,r,l,d).then((function(e){if(i.setState({loading:!1}),e){var t=e[0].totalData,a=e[0].columnName,n=e[0].routemonthtableDatas;ml=n,i.setState({routeMonthDetails:i.getHighlightedMonth(n,u,h),routeMonthColumns:a,monthTotalData:t})}})),ul.getRouteDrillDownData(h,s,u,e,t,a,n,r,l,d,m).then((function(e){i.setState({loading2:!1}),e&&i.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].routeRegionTableDatas,drillDownColumn:e[0].columnName,tabName:"Null"===m?e[0].tabName:e[0].firstTabName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,routeId:e[0].currentAccess.routeId,leg:e[0].currentAccess.leg,flight:e[0].currentAccess.flight})}))},o.getDrillDownData=function(e,t,a,n,r,l,i){var c=Object(je.a)(o),s=o.state,u=s.gettingYear,d=s.gettingMonth,m=s.getCabinValue,h=s.currency;ul.getRouteDrillDownData(u,h,d,e,t,a,n,r,l,m,i).then((function(e){c.setState({loading2:!1}),e&&c.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].routeRegionTableDatas,drillDownColumn:e[0].columnName,tabName:"Null"===i?e[0].tabName:e[0].firstTabName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,routeId:e[0].currentAccess.routeId,leg:e[0].currentAccess.leg,flight:e[0].currentAccess.flight})}))},o.monthWiseCellClick=function(e){var t=Object(je.a)(o),a=o.state,n=a.routeGroup,r=(a.currency,a.gettingMonth,a.regionId),l=a.countryId,i=a.routeId,c=a.leg,s=a.flight,u=a.getCabinValue,d=a.type,m=(a.gettingYear,e.data.Month),h=e.colDef.field,g=e.data.isUnderline,p=o.state.routeMonthDetails.map((function(e){return e.highlightMe=!1,e}));if(e.api.updateRowData({update:p}),m.includes("Total ".concat(dl-1)))o.setState({showLastYearRows:!o.state.showLastYearRows,showNextYearRows:!1},(function(){return o.getLastYearClubbedData(o.state.showLastYearRows,m)}));else if(m.includes("Total ".concat(dl+1)))o.setState({showNextYearRows:!o.state.showNextYearRows,showLastYearRows:!1},(function(){return o.getNextYearClubbedData(o.state.showNextYearRows,m)}));else{o.setState({gettingMonth:e.data.MonthName,gettingYear:e.data.Year});var f={from:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)},to:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)}};window.localStorage.setItem("rangeValue",JSON.stringify(f))}"CY_B"!==h||m.includes("Total")?"FRCT/Act_P"===h&&g?(e.event.stopPropagation(),t.setState({chartVisible:!0,forecastChartHeader:"Passenger Forecast"})):"FRCT/Act_A"===h&&g?(e.event.stopPropagation(),t.setState({chartVisible:!0,forecastChartHeader:"Average fare Forecast"})):"FRCT/Act_R"===h&&g?(e.event.stopPropagation(),t.setState({chartVisible:!0,forecastChartHeader:"Revenue Forecast"})):"Month"!==h||m.includes("Total")||(t.setState({loading2:!0,drillDownData:[],drillDownTotalData:[]}),t.getDrillDownData(n,r,l,i,c,s,d)):(e.event.stopPropagation(),t.showLoader(),ul.getRouteCabinDetails(e.data.Year,e.data.MonthName,n,r,l,i,c,s,u).then((function(e){if(t.hideLoader(),e){var a=e[0].columnName,n=e[0].cabinData;t.setState({tableModalVisible:!0,modalCompartmentData:n,modalCompartmentColumn:a})}})))},o.regionCellClick=function(e){var t,a=Object(je.a)(o),n=o.state,r=n.routeGroup,l=n.regionId,i=n.countryId,c=n.routeId,s=n.leg,u=n.flight,d=n.getCabinValue,m=e.colDef.field,h="'".concat(e.data.firstColumnName,"'"),g=e.data.firstColumnName,p=e.colDef.headerName;hl.map((function(e,a){return t=e.title===p})),"firstColumnName"===m&&(t||(o.storeValuesToLS(l,i,c,s,u,d,g),"Cabin"!==p&&(a.setState({selectedData:h}),hl.push({val:e.data.firstColumnName,title:p})),"*"===l?a.getMonthDrillDownData(r,h,i,c,s,u):"*"===i?a.getMonthDrillDownData(r,l,h,c,s,u):"*"===c?a.getMonthDrillDownData(r,l,i,h,s,u):"*"===s?a.getMonthDrillDownData(r,l,i,c,h,u):"*"===u&&a.getMonthDrillDownData(r,l,i,c,s,h)))},o.tabClick=function(e,t){var a=Object(je.a)(o);a.sendEvent("2","clicked on ".concat(e," tab"),"route","Route Page");var n=o.state,r=n.routeGroup,l=n.regionId,i=n.countryId,c=n.routeId,s=n.leg,u=n.flight;a.setState({type:e,loading2:!0,drillDownData:[],drillDownTotalData:[]}),t?o.setState({outerTab:t}):o.setState({outerTab:""}),a.getDrillDownData(r,l,i,c,s,u,e)},o.posContributionClick=function(){var e=Object(je.a)(o),t=o.state,a=t.currency,n=t.gettingMonth,r=t.regionId,l=t.countryId,i=t.routeId,c=t.getCabinValue,s=t.gettingYear,u=t.posContributionTable,d=(t.posContributionTableHeader,t.loading,t.count),m=t.leg,h=t.flight;e.setState({odData:[],segmentData:[]}),o.showLoader(),ul.getPOSContributionData(s,a,n,r,l,i,c,u,d,m,h).then((function(t){o.hideLoader(),t&&void 0!==t?"OD"==u?e.setState({posContributionModal:!0,odData:t[0].rowDataOD,odColumn:t[0].columnNameOD,posContributionTableHeader:"OD Wise",currentPage:t[0].currentPage,totalPages:t[0].totalPages,totalRecords:t[0].totalRecords,paginationSize:t[0].paginationSize,paginationEnd:o.state.paginationEnd<=0?t[0].paginationSize:o.state.paginationEnd}):e.setState({posContributionModal:!0,odData:t[0].rowDataOD,odColumn:t[0].columnNameOD,posContributionTableHeader:"Segment Wise",currentPage:t[0].currentPage,totalPages:t[0].totalPages,totalRecords:t[0].totalRecords,paginationSize:t[0].paginationSize,paginationEnd:o.state.paginationEnd<=0?t[0].paginationSize:o.state.paginationEnd}):o.setState({posContributionModal:!0,currentPage:"",totalPages:"",totalRecords:"",paginationStart:1,paginationEnd:"",paginationSize:""})}))},o.cabinSelectChange=function(e){e.preventDefault();var t=e.target.value;o.setState({getCabinValue:t,cabinSelectedDropDown:t},(function(){window.localStorage.setItem("CabinSelected",JSON.stringify(t))}))},o.homeHandleClick=function(e){var t=Object(je.a)(o),a=o.state.routeGroup;t.setState({loading:!0,loading2:!0,firstHome:!1,routeMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[],odData:[],segmentData:[],currency:"bc"}),window.localStorage.setItem("RouteRegionSelected","Null"),window.localStorage.setItem("RouteCountrySelected","Null"),window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null"),t.getMonthDrillDownData(a,"*","*","*","*","*"),hl=[],o.props.history.push("".concat(o.pathName,"?RouteGroup=").concat(a))},o.listHandleClick=function(e,t,a){var n=Object(je.a)(o),r=o.state,l=r.routeGroup,i=r.regionId,c=r.countryId,s=r.routeId,u=r.leg,d=(r.flight,e);"'"!==d.charAt(0)&&"'"!==d.charAt(d.length-1)&&(d="'".concat(e,"'")),e.includes(",")&&(d="'".concat(e.split(",").join("','"),"'")),n.setState({selectedData:d,loading:!0,loading2:!0,routeMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var m=decodeURIComponent(t);if("List"===a){var h=hl.findIndex((function(e){return e.title==t})),g=hl.slice(0,h+1);hl=g,o.changeURLOnListClick(i,c,s,u,e,m)}else"browserBack"===a&&o.onBackPressClearLS(m);"Region"===m?n.getMonthDrillDownData(l,d,"*","*","*","*"):"Country"===m?n.getMonthDrillDownData(l,i,d,"*","*","*"):"Route"===m?n.getMonthDrillDownData(l,i,c,d,"*","*"):"Leg"===m?n.getMonthDrillDownData(l,i,c,s,d,"*"):"Flight"===m?n.getMonthDrillDownData(l,i,c,s,u,d):"RouteGroup"===m&&n.setState({routeGroup:e},(function(){return o.homeHandleClick()}))},o.currency=function(e){var t=e.target.value,a=o.state,n=a.routeGroup,r=a.regionId,l=a.countryId,i=a.routeId,c=a.leg,s=a.flight;o.setState({currency:t},(function(){return o.getMonthDrillDownData(n,r,l,i,c,s)}))},o.redirection=function(e){o.sendEvent("2","clicked on POS/Route drop down","/route","Route Page");var t=e.target.value;o.url="/pos";var a=window.localStorage.getItem("RegionSelected"),n=window.localStorage.getItem("CountrySelected"),r=window.localStorage.getItem("CitySelected"),l=window.localStorage.getItem("ODSelected");null!==a&&"Null"!==a&&(a=JSON.parse(a),o.url="/pos?Region=".concat(H(a))),null!==n&&"Null"!==n&&(n=JSON.parse(n),o.url="/pos?Region=".concat(H(a),"&Country=").concat(H(n))),null!==r&&"Null"!==r&&(r=JSON.parse(r),o.url="/pos?Region=".concat(H(a),"&Country=").concat(H(n),"&POS=").concat(H(r))),null!==l&&"Null"!==l&&""!==l&&(o.url="/pos?Region=".concat(H(a),"&Country=").concat(H(n),"&POS=").concat(H(r),"&").concat(encodeURIComponent("O&D"),"=").concat(H(l))),"POS"===t?(o.props.history.push(o.url),hl=[]):(o.props.history.push("/route"),hl=[])},o.showLoader=function(){w()("#loaderImage").addClass("loader-visible")},o.hideLoader=function(){w()("#loaderImage").removeClass("loader-visible"),w()(".x_panel").addClass("opacity-fade"),w()(".top-buttons").addClass("opacity-fade")},o.gotoFirstPage=function(){var e=o.state,t=(e.totalPages,e.paginationSize),a=e.totalRecords,n=a%t,r=n<t&&a<t?n:t;o.setState({count:1,paginationStart:1,paginationEnd:r},(function(){o.paginationClick()}))},o.gotoLastPage=function(){var e=o.state,t=e.totalPages,a=e.paginationSize,n=e.totalRecords,r=a*(t-1);console.log("Updating paginationEnd gotoLstPage"),o.setState({count:t,paginationStart:r+1,paginationEnd:n},(function(){return o.paginationClick()}))},o.gotoPreviousPage=function(){var e=o.state,t=e.count,a=e.currentPage,n=e.totalPages,r=e.paginationSize,l=e.paginationStart,i=e.paginationEnd,c=e.totalRecords%r,s=a===n&&c>0?c:r;o.setState({count:t-1,paginationStart:l-r,paginationEnd:i-s},(function(){return o.paginationClick()}))},o.paginationClick=function(){o.setState({odData:""},(function(){return o.posContributionClick()}))},o.gotoNextPage=function(){var e=o.state,t=e.count,a=e.currentPage,n=e.totalPages,r=e.paginationSize,l=e.paginationStart,i=e.paginationEnd,c=e.totalRecords%r,s=a===n-1&&c>0?c:r;o.setState({count:t+1,paginationStart:l+r,paginationEnd:i+s},(function(){return o.paginationClick()}))},o.onChangePosContri=function(e){e.stopPropagation(),o.setState({posContributionTable:e.target.value,currentPage:"",totalPages:"",totalRecords:"",paginationStart:1,paginationEnd:"",paginationSize:"",count:1},(function(){o.posContributionClick()}))},o.pathName=window.location.pathname,o.userDetails=JSON.parse(b.getCookie("userDetails")),o.selectedRegion=null,o.selectedCountry=null,o.selectedRoute=null,o.state=(n={showLastYearRows:!1,showNextYearRows:!1,routeMonthRowClassRule:{"highlight-row":"data.highlightMe"},routeMonthDetails:[],routeMonthColumns:[],monthTotalData:[],drillDownTotalData:[],drillDownData:[],drillDownColumn:[],segmentData:[],segmentColumn:[],odData:[],odColumn:[],modelRegionDatas:[],modelregioncolumn:[],modalData:[],modalCompartmentColumn:[],modalCompartmentData:[],tableDatas:!0,gettingMonth:null,gettingYear:null,monthTableTitle:"",tableTitle:"",tabLevel:"",cabinOption:[],getCabinValue:[],cabinSelectedDropDown:[],cabinDisable:!0,currency:"bc",chartVisible:!1,tableModalVisible:!1,tabName:"Region",regionId:"*",countryId:"*",routeId:"*",leg:"*",flight:"*",type:"Null",baseAccess:"",routeGroup:"",accessLevelDisable:!1,selectedData:"Null",loading:!1,loading2:!1,loading3:!1,firstLoadList:!1,firstHome:!0,posContributionModal:!1,outerTab:"",ancillaryParam:!1,routeParam:!1,ensureIndexVisible:null,posContributionTable:"OD",posContributionTableHeader:"",currentPage:"",totalPages:"",totalRecords:"",paginationStart:1,paginationEnd:"",paginationSize:"",count:1},Object(p.a)(n,"loading",!1),Object(p.a)(n,"regionLevelAccess",!1),Object(p.a)(n,"forecastChartHeader",""),Object(p.a)(n,"startMonth",""),Object(p.a)(n,"lastMonth",""),n),o.sendEvent("1","User viewed Route Page","/route","Route Page"),o}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=J("ancillaryRoute",window.location.href),a=J("route",window.location.href);this.setState({ancillaryParam:t||!1,routeParam:a||!1}),e.getFiltersValue(),ul.getClassNameDetails().then((function(t){if(t){var a=t[0].classDatas;e.setState({cabinOption:a,cabinDisable:!1})}}))}},{key:"componentDidUpdate",value:function(){var e=this;window.onpopstate=function(t){var a=e.props.browserToProps.queryParams,n=Object.values(a),o=Object.keys(a),r=o.length-1;"undefined"!==n[0]?(e.pushURLToBcData(a,o,n,r),e.setState({firstHome:!0})):e.state.firstHome&&e.homeHandleClick()}}},{key:"pushURLToBcData",value:function(e,t,a,n){var o=e.RouteGroup;if(this.setState({routeGroup:o}),window.localStorage.setItem("RouteGroupSelected",JSON.stringify([].concat([o]))),e.hasOwnProperty("Region")&&!hl.some((function(e){return"Region"===e.title}))){var r,l,i=e.Region,c=e.Region;i.includes(",")?i="'".concat(i.split(",").join("','"),"'"):"'"!==i.charAt(0)&&"'"!==i.charAt(i.length-1)&&(i="'".concat(i,"'")),"'"===c.charAt(0)&&"'"===c.charAt(c.length-1)?l=c.substring(1,c.length-1):c.includes(",")?(r=c.split(","),l=c):l=c,hl.push({val:l,title:"Region"}),this.setState({regionId:i});var s=c.includes(",")?r:[].concat([l]);window.localStorage.setItem("RouteRegionSelected",JSON.stringify(s))}if(e.hasOwnProperty("Country")&&!hl.some((function(e){return"Country"===e.title}))){var u,d,m=e.Country,h=e.Country;m.includes(",")?m="'".concat(m.split(",").join("','"),"'"):"'"!==m.charAt(0)&&"'"!==m.charAt(m.length-1)&&(m="'".concat(m,"'")),"'"===h.charAt(0)&&"'"===h.charAt(h.length-1)?d=h.substring(1,h.length-1):h.includes(",")?(u=h.split(","),d=h):d=h,hl.push({val:d,title:"Country"}),this.setState({countryId:m});var g=h.includes(",")?u:[].concat([d]);window.localStorage.setItem("RouteCountrySelected",JSON.stringify(g)),console.log("rahul Country",d,m)}if(e.hasOwnProperty("Route")&&!hl.some((function(e){return"Route"===e.title}))){var p,f,v=e.Route,C=e.Route;v.includes(",")?v="'".concat(v.split(",").join("','"),"'"):"'"!==v.charAt(0)&&"'"!==v.charAt(v.length-1)&&(v="'".concat(v,"'")),"'"===C.charAt(0)&&"'"===C.charAt(C.length-1)?f=C.substring(1,C.length-1):C.includes(",")?(p=C.split(","),f=C):f=C,hl.push({val:f,title:"Route"}),this.setState({routeId:v});var w=C.includes(",")?p:[].concat([f]);window.localStorage.setItem("RouteSelected",JSON.stringify(w)),console.log("rahul Route",f,v)}if(e.hasOwnProperty("Leg")&&!hl.some((function(e){return"Leg"===e.title}))&&(hl.push({val:e.Leg,title:"Leg"}),console.log("rahul Leg",e.Leg),this.setState({leg:"'".concat(e.Leg,"'")}),window.localStorage.setItem("LegSelected",e.Leg)),e.hasOwnProperty("Flight")&&!hl.some((function(e){return"Flight"===e.title}))&&(hl.push({val:e.Flight,title:"Flight"}),console.log("rahul Flight",e.Flight),this.setState({flight:e.Flight}),window.localStorage.setItem("FlightSelected",e.Flight)),console.log("rahul bcData before",hl,n),hl.length>0){var _=hl.slice(0,n);hl=_}console.log("rahul bcData after",hl),this.listHandleClick(a[n],t[n],"browserBack")}},{key:"getInitialData",value:function(){var e=this,t=this.state,a=t.routeGroup,n=t.currency,o=t.gettingMonth,r=t.gettingYear,l=t.regionId,i=t.countryId,c=t.routeId,s=t.leg,u=t.flight,d=t.getCabinValue,m=t.ancillaryParam,h=t.routeParam;e.setState({loading:!0,loading2:!0,firstLoadList:!0,routeMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),e.getInitialListData(l,i,c,s,u),ul.getRouteMonthTables(n,a,l,i,c,s,u,d).then((function(t){if(e.setState({loading:!1,firstLoadList:!1}),t){var n=t[0].totalData,d=t[0].columnName,g=t[0].routemonthtableDatas,p=t[0].currentAccess.base_access,f=(ml=g)[1].Month,v=ml[ml.length-2].Month;e.setState({routeMonthDetails:e.getHighlightedMonth(g,o,r),routeMonthColumns:d,baseAccess:p,monthTotalData:n,startMonth:f,lastMonth:v})}m?(e.getDrillDownData(a,l,i,c,s,u,"Ancillary"),e.setState({type:"Ancillary"})):h?(e.getDrillDownData(a,l,i,c,s,u,"OD"),e.setState({type:"OD"})):e.getDrillDownData(a,l,i,c,s,u,"Null")}))}},{key:"getHighlightedMonth",value:function(e,t,a){var n=this,o=window.monthNameToNum(t),r=0;return e.filter((function(e,t){var l=e.Month,i="".concat(window.shortMonthNumToName(o)," ").concat(a);if(a!==dl-1&&e.Year===dl-1&&(r+=1),i===l&&(n.setState({ensureIndexVisible:t-r}),e.highlightMe=!0),a===dl){if(e.Month==="Total ".concat(dl-1)&&(e.Month="\u25ba Total ".concat(dl-1)),e.Month==="Total ".concat(dl+1)&&(e.Month="\u25ba Total ".concat(dl+1)),e.Year===dl||e.Month==="\u25ba Total ".concat(dl-1)||e.Month==="\u25ba Total ".concat(dl+1))return e}else if(a===dl+1){if(e.Month==="Total ".concat(dl-1)&&(e.Month="\u25ba Total ".concat(dl-1)),e.Month==="Total ".concat(dl+1)&&(e.Month="\u25bc Total ".concat(dl+1)),e.Year>=dl||e.Month==="\u25ba Total ".concat(dl-1)||e.Month==="\u25bc Total ".concat(dl+1))return e;n.setState({showNextYearRows:!0,showLastYearRows:!1})}else if(a===dl-1){if(e.Month==="Total ".concat(dl-1)&&(e.Month="\u25bc Total ".concat(dl-1)),e.Month==="Total ".concat(dl+1)&&(e.Month="\u25ba Total ".concat(dl+1)),e.Year<=dl||e.Month==="\u25bc Total ".concat(dl-1)||e.Month==="\u25ba Total ".concat(dl+1))return e;n.setState({showLastYearRows:!0,showNextYearRows:!1})}}))}},{key:"getHighlightedRow",value:function(e,t){return e.map((function(e,t){var a=e.Month;return a==="\u25bc Total ".concat(dl-1)||a==="\u25ba Total ".concat(dl-1)?e.highlightMe=!0:a!=="\u25bc Total ".concat(dl+1)&&a!=="\u25ba Total ".concat(dl+1)||(e.highlightMe=!0),e}))}},{key:"getLastYearClubbedData",value:function(e,t){if(e){var a=ml.filter((function(e){if(e.Month==="\u25ba Total ".concat(dl-1)&&(e.Month="\u25bc Total ".concat(dl-1)),e.Month==="\u25bc Total ".concat(dl+1)&&(e.Month="\u25ba Total ".concat(dl+1)),e.Year<=dl||e.Month==="\u25bc Total ".concat(dl-1)||e.Month==="\u25ba Total ".concat(dl+1))return e}));this.setState({routeMonthDetails:this.getHighlightedRow(a,t)})}else{var n=ml.filter((function(e){if(e.Month==="\u25bc Total ".concat(dl-1)&&(e.Month="\u25ba Total ".concat(dl-1)),e.Month==="\u25bc Total ".concat(dl+1)&&(e.Month="\u25ba Total ".concat(dl+1)),e.Year===dl||e.Month==="\u25ba Total ".concat(dl-1)||e.Month==="\u25ba Total ".concat(dl+1))return e}));this.setState({routeMonthDetails:this.getHighlightedRow(n,t)})}}},{key:"getNextYearClubbedData",value:function(e,t){if(e){var a=ml.filter((function(e){if(e.Month==="\u25ba Total ".concat(dl+1)&&(e.Month="\u25bc Total ".concat(dl+1)),e.Month==="\u25bc Total ".concat(dl-1)&&(e.Month="\u25ba Total ".concat(dl-1)),e.Year>=dl||e.Month==="\u25bc Total ".concat(dl+1)||e.Month==="\u25ba Total ".concat(dl-1))return e}));this.setState({routeMonthDetails:this.getHighlightedRow(a,t)})}else{var n=ml.filter((function(e){if(e.Month==="\u25bc Total ".concat(dl+1)&&(e.Month="\u25ba Total ".concat(dl+1)),e.Month==="\u25bc Total ".concat(dl-1)&&(e.Month="\u25ba Total ".concat(dl-1)),e.Year===dl||e.Month==="\u25ba Total ".concat(dl+1)||e.Month==="\u25ba Total ".concat(dl-1))return e}));this.setState({routeMonthDetails:this.getHighlightedRow(n,t)})}}},{key:"rectifyURLValues",value:function(e,t,a,n){Array.isArray(e)?this.selectedRegion=e.join(","):e.includes("','")?(this.selectedRegion=e.split("','").join(","),this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)):(this.selectedRegion=e,this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)),Array.isArray(t)?this.selectedCountry=t.join(","):e.includes("','")?(this.selectedCountry=t.split("','").join(","),this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)):(this.selectedCountry=t,this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)),Array.isArray(a)?this.selectedRoute=a.join(","):e.includes("','")?(this.selectedRoute=a.split("','").join(","),this.selectedRoute=this.selectedRoute.substring(1,this.selectedRoute.length-1)):(this.selectedRoute=a,this.selectedRoute=this.selectedRoute.substring(1,this.selectedRoute.length-1)),this.selectedLeg=n,this.selectedLeg=this.selectedLeg.substring(1,this.selectedLeg.length-1)}},{key:"storeValuesToLS",value:function(e,t,a,n,o,r,l){var i=[],c=[],s=[],u=[];this.rectifyURLValues(e,t,a,n),"*"===e?(this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(l))),i.push(l),window.localStorage.setItem("RouteRegionSelected",JSON.stringify(i))):"*"===t?(this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(l)),c.push(l),window.localStorage.setItem("RouteCountrySelected",JSON.stringify(c))):"*"===a?(this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&Route=").concat(l)),s.push(l),window.localStorage.setItem("RouteSelected",JSON.stringify(s))):"*"===n?(this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&Route=").concat(this.selectedRoute,"&Leg=").concat(l)),window.localStorage.setItem("LegSelected",l)):"*"===o?(this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&Route=").concat(this.selectedRoute,"&Leg=").concat(this.selectedLeg,"&Flight=").concat(l)),window.localStorage.setItem("FlightSelected",l)):"Null"===r&&(u.push(l),window.localStorage.setItem("CabinSelected",JSON.stringify(u)))}},{key:"onCabinClose",value:function(){var e=this;this.sendEvent("2","clicked on Cabin drop down","/route","Route Page"),this.state.cabinSelectedDropDown.length>0?this.getDataOnCabinChange():(this.setState({getCabinValue:"Null"},(function(){return e.getDataOnCabinChange()})),window.localStorage.setItem("CabinSelected","Null"))}},{key:"getDataOnCabinChange",value:function(){this.setState({loading:!0,loading2:!0,routeMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var e=this.state,t=e.routeGroup,a=e.regionId,n=e.countryId,o=e.routeId,r=e.leg,l=e.flight;this.getMonthDrillDownData(t,a,n,o,r,l)}},{key:"changeURLOnListClick",value:function(e,t,a,n,o,r){this.rectifyURLValues(e,t,a,n),"Region"===r?(this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(o))),window.localStorage.setItem("RouteCountrySelected","Null"),window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null")):"Country"===r?(this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(o)),window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null")):"Route"===r?(this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&Route=").concat(o)),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null")):"Leg"===r?(window.localStorage.setItem("FlightSelected","Null"),this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&Route=").concat(this.selectedRoute,"&Leg=").concat(o))):"Flight"===r&&this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&Route=").concat(this.selectedRoute,"&Leg=").concat(this.selectedLeg,"&Flight=").concat(o))}},{key:"onBackPressClearLS",value:function(e){"Region"===e?(window.localStorage.setItem("RouteCountrySelected","Null"),window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null")):"Country"===e?(window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null")):"Route"===e?(window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null")):"Leg"===e&&window.localStorage.setItem("FlightSelected","Null")}},{key:"closeChartModal",value:function(){this.setState({chartVisible:!1})}},{key:"closeTableModal",value:function(){this.setState({tableModalVisible:!1})}},{key:"callAccess",value:function(e){var t=this,a=[];a.push(e),window.localStorage.setItem("RouteGroupSelected",JSON.stringify(a)),this.setState({routeGroup:e},(function(){return t.homeHandleClick()}))}},{key:"renderTabs",value:function(){var e=this,t=this.state,a=t.tabName,n=t.gettingMonth,r=t.regionId,l=t.countryId,i=t.routeId,c=t.leg,s=t.flight,u=t.getCabinValue,d=t.routeGroup,m=t.gettingYear,h=t.type,g=t.outerTab,p=t.ancillaryParam,f=t.routeParam;ul.exportCSVRouteDrillDownURL(m,n,d,r,l,i,c,s,u,h),ul.exportCSVRouteMonthlyURL(d,r,l,i,c,s,u);return o.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},"Cabin"===a||"Flight"===a||"Leg"===a?o.a.createElement("li",{role:"presentation",className:"".concat(f?"active":""),onClick:function(){return e.tabClick("OD","outertab")}},o.a.createElement("a",{href:"#Section5","aria-controls":"profile",role:"tab","data-toggle":"tab"},"Route")):"","Cabin"===a?o.a.createElement("li",{role:"presentation",onClick:function(){return e.tabClick("Flights","outertab")}},o.a.createElement("a",{href:"#Section7","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Flight")):"",o.a.createElement("li",{id:"regionTab",role:"presentation",className:"".concat(p||f?"":"active"),onClick:function(){return e.tabClick("Null")}},o.a.createElement("a",{href:"#Section2","aria-controls":"profile",role:"tab","data-toggle":"tab"},a)),"Route"===a||"Cabin"===a||"Flight"===a||"Leg"===a?"":o.a.createElement("li",{role:"presentation",className:"".concat(f||g?"active":""),onClick:function(){return e.tabClick("OD")}},o.a.createElement("a",{href:"#Section5","aria-controls":"profile",role:"tab","data-toggle":"tab"},"Route")),"Cabin"===a||"Flight"===a?"":o.a.createElement("li",{role:"presentation",onClick:function(){return e.tabClick("Flights")},className:"".concat(g?"active":"")},o.a.createElement("a",{href:"#Section7","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Flight")),"Cabin"===a?"":o.a.createElement("li",{role:"presentation",onClick:function(){return e.tabClick("Cabin")}},o.a.createElement("a",{href:"#Section8","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Cabin")),o.a.createElement("li",{role:"presentation",className:"".concat(p?"active":""),onClick:function(){return e.tabClick("Ancillary")}},o.a.createElement("a",{href:"#Section9","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Ancillary")),"*"!==i?o.a.createElement("button",{className:"btn download",style:{backgroundColor:"#ff5847",float:"right"},onClick:this.posContributionClick},"POS Contribution"):"")}},{key:"renderPosContributionModal",value:function(){var e=this,t=localStorage.getItem("posContributionDownloadURL");return o.a.createElement(Oe.a,{show:this.state.posContributionModal,onHide:function(){return e.setState({posContributionModal:!1,posContributionTable:"OD",currentPage:"",totalPages:"",totalRecords:"",paginationStart:1,paginationEnd:"",paginationSize:"",count:1})},"aria-labelledby":"ModalHeader",className:"posContri"},o.a.createElement(Oe.a.Header,{closeButton:!0},o.a.createElement(Oe.a.Title,{id:"ModalHeader",title:"POS Contribution for ".concat(H(this.state.routeId))},"POS Contribution for ".concat(H(this.state.routeId)))),o.a.createElement(Oe.a.Body,null,o.a.createElement("div",{style:{width:"100%"}},o.a.createElement("div",{className:"posContriBodyTop"},o.a.createElement("h3",{className:"headingPOS"},this.state.posContributionTableHeader),o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement("select",{className:"form-control cabinselect pos-route-dropdown",onChange:function(t){return e.onChangePosContri(t)}},o.a.createElement("option",{value:"OD",selected:!0},"OD Wise"),o.a.createElement("option",{value:"Segment"},"Segment Wise")),o.a.createElement(Sr,{changeColor:!0,url:t,name:"POS Contribution",path:"/route",page:"Route Page"}))),o.a.createElement(Da,{rowData:this.state.odData,columnDefs:this.state.odColumn,route:!0})),o.a.createElement(sl,{paginationStart:this.state.paginationStart,paginationEnd:this.state.paginationEnd,totalRecords:this.state.totalRecords,currentPage:this.state.currentPage,TotalPages:this.state.totalPages,gotoFirstPage:function(){return e.gotoFirstPage()},gotoLastPage:function(){return e.gotoLastPage()},gotoPreviousPage:function(){return e.gotoPreviousPage()},gotoNexttPage:function(){return e.gotoNextPage()}})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.ancillaryParam,n=t.routeParam,r=t.cabinOption,l=t.cabinSelectedDropDown,i=t.cabinDisable,c=t.routeGroup,s=t.accessLevelDisable,u=t.firstLoadList,d=t.regionLevelAccess,m=t.startMonth,h=t.lastMonth;return o.a.createElement("div",{className:"route"},o.a.createElement(ta,Object.assign({dashboardPath:"/routeDashboard"},this.props)),o.a.createElement(Dr,null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top"},o.a.createElement("div",{className:"navdesign",style:{marginTop:"0px"}},o.a.createElement("div",{className:"col-md-7 col-sm-7 col-xs-12 toggle1"},o.a.createElement("select",{className:"form-control cabinselect pos-route-dropdown",onChange:function(t){return e.redirection(t)}},o.a.createElement("option",{value:"POS"},"POS"),o.a.createElement("option",{value:"Route",selected:!0},"Route")),u?"":o.a.createElement("div",{className:"route-access"},c,o.a.createElement("div",{className:"triangle-up"}),o.a.createElement("div",{className:"route-groups"},o.a.createElement("div",{className:"route-main ".concat(s?" route-main-disable":"")},o.a.createElement("span",{className:"".concat(s?" route-access-disable":""),onClick:function(){return e.callAccess("Network")}},"Network")),o.a.createElement("div",{className:"route-main ".concat(s?d?"route-main-disable":"Domestic"===c?"":"route-main-disable":"")},o.a.createElement("span",{className:"".concat(s?d?"route-access-disable":"Domestic"===c?"":"route-access-disable":""),onClick:function(){return e.callAccess("Domestic")}},"Domestic")),o.a.createElement("div",{className:"route-main international ".concat(s?d?"route-main-disable":"International"===c?"":"route-main-disable":"")},o.a.createElement("span",{className:"".concat(s?d?"route-access-disable":"International"===c?"":"route-access-disable":""),onClick:function(){return e.callAccess("International")}},"International")))),o.a.createElement("section",null,o.a.createElement("nav",null,o.a.createElement("ol",{className:"cd-breadcrumb"},this.state.firstLoadList?"":hl.map((function(t){return o.a.createElement("div",{style:{cursor:t.disable?"not-allowed":"pointer"}},o.a.createElement("li",{className:"".concat(t.disable?"breadcrumb-disable":""),onClick:function(a){return e.listHandleClick(a.target.id,t.title,"List")},id:t.val,title:"".concat(t.title," : ").concat(t.val)}," > ".concat(t.val)))})))))),o.a.createElement("div",null,o.a.createElement("p",null," Data Available from ",m," to ",h," ")),o.a.createElement("div",{className:"col-md-5 col-sm-5 col-xs-12 toggle2"},o.a.createElement("div",{className:"cabin-selection"},o.a.createElement("h4",null,"Select Cabin :"),o.a.createElement(gt.a,{className:"select-group"},o.a.createElement(mt.a,{id:"demo-mutiple-checkbox-label"},"All"),o.a.createElement(ft.a,{labelId:"demo-mutiple-checkbox-label",className:"".concat(i?"disable":""),id:"demo-mutiple-checkbox",multiple:!0,value:l,onChange:function(t){return e.cabinSelectChange(t)},input:o.a.createElement(dt.a,null),renderValue:function(e){return e.join(",")},onClose:function(){return e.onCabinClose()},MenuProps:{classes:"disable"}},r.map((function(e){return o.a.createElement(ht.a,{key:e.ClassValue,value:e.ClassValue},o.a.createElement(vt.a,{checked:l.indexOf(e.ClassText)>-1}),o.a.createElement(pt.a,{primary:e.ClassText}))}))))),o.a.createElement("h4",null,"Select Currency :"),o.a.createElement("select",{className:"form-control cabinselect currency-dropdown",onChange:function(t){return e.currency(t)},disabled:"*"===this.state.countryId},o.a.createElement("option",{value:"bc",selected:"*"===this.state.countryId||"bc"===this.state.toggle},"BC"),o.a.createElement("option",{value:"lc"},"LC")))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},o.a.createElement("div",{className:"x_panel",style:{marginTop:"10px",height:"calc(100vh - 130px)"}},o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.routeMonthDetails,columnDefs:this.state.routeMonthColumns,onCellClicked:function(t){return e.monthWiseCellClick(t)},loading:this.state.loading,rowClassRules:this.state.routeMonthRowClassRule,frameworkComponents:{customHeaderGroupComponent:cl},route:!0,ensureIndexVisible:this.state.ensureIndexVisible}),o.a.createElement(ba,{rowData:this.state.monthTotalData,columnDefs:this.state.routeMonthColumns,loading:this.state.loading,frameworkComponents:{customHeaderGroupComponent:cl},responsive:!0,reducingPadding:!0}),o.a.createElement("div",{className:"tab",id:"posTableTab",role:"tabpanel",style:{marginTop:"10px"}},this.renderTabs(),o.a.createElement("div",{className:"tab-content tabs"},o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in ".concat(a||n?"":"active"),id:"Section2"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.regionCellClick(t)},loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section4"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in ".concat(n?"active":""),id:"Section5"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section7"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section7"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section8"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in ".concat(a?"active":""),id:"Section9"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})))))))),o.a.createElement("div",null,o.a.createElement(pr,{tableModalVisible:this.state.tableModalVisible,rowData:this.state.modalCompartmentData,columns:this.state.modalCompartmentColumn,header:"".concat(this.state.gettingMonth," ").concat(this.state.gettingYear)}),o.a.createElement(_r,{chartVisible:this.state.chartVisible,displayName:this.state.forecastChartHeader,forecast:!0,route:!0,gettingYear:this.state.gettingYear,gettingMonth:this.state.gettingMonth,closeChartModal:function(){return e.closeChartModal()}}),this.renderPosContributionModal()))}}]),a}(n.Component),pl=Object(Nr.a)(gl),fl=(a(1012),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={chartVisible:!1},n}return Object(c.a)(a,[{key:"closeChartModal",value:function(){this.setState({chartVisible:!1})}},{key:"render",value:function(){var e=this.props.displayName,t=localStorage.getItem("topMarketDownloadURL");return o.a.createElement("div",null,o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},e),o.a.createElement(Sr,{url:t,name:"Top Market",path:"/topMarkets",page:"Top Market Page"})))}}]),a}(n.Component)),vl=new Te,Cl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e,t,a,n){var o={event_id:"".concat(e),description:"User ".concat(t),where_path:"/".concat(a),page_name:"".concat(n," Page")};R.sendEvent(o)},n.getFilterValues=function(e){n.setState({regionSelected:"All"===e.regionSelected?"Null":e.regionSelected,countrySelected:e.countrySelected,citySelected:e.citySelected,ODSelected:e.ODSelected,endDate:e.endDate,startDate:e.startDate,getCabinValue:e.getCabinValue},(function(){return n.gotoFirstPage()}))},n.getTopMarketData=function(){var e=Object(je.a)(n),t=n.state,a=t.startDate,o=t.endDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.getCabinValue,s=t.ODSelected,u=t.selectedOD,d=t.count;e.setState({loading:!0,loading2:!0,loading3:!0,topMarketData:[],topMarketTotal:[]}),vl.getTopMarkets(d,a,o,r,l,i,c,s).then((function(t){if(e.setState({loading:!1}),t){var a=t[0].rowData;a=a.map((function(e,t){return u?e.highlightMe=u===e.OD:0===t&&(e.highlightMe=!0),e})),e.state.searchClicked&&(a.length<t[0].paginationSize?e.setState({paginationEnd:t[0].totalRecords},(function(){return e.setState({searchClicked:!1})})):e.setState({paginationEnd:t[0].paginationSize},(function(){return e.setState({searchClicked:!1})}))),e.setState({topMarketData:a,topMarketTotal:t[0].totalData,topMarketColumn:t[0].columnName,currentPage:t[0].currentPage,totalPages:t[0].totalPages,totalRecords:t[0].totalRecords,paginationSize:t[0].paginationSize,odName:u||"",tableTitle1:u?"Top Competitors for ".concat(u):""},(function(){return e.getCompetitorsData()}))}}))},n.getCompetitorsData=function(){var e=Object(je.a)(n);e.setState({loading2:!0,loading3:!0});var t=n.state,a=t.startDate,o=t.endDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.getCabinValue,s=t.topMarketData,u=t.odName;if(!u){var d=s.length>0?s[0].OD:"Null";e.setState({tableTitle1:"Top Competitors for ".concat(d),odName:d||"Null"})}vl.getTopCompetitors(a,o,r,l,i,c,u||d,"Null").then((function(t){if(e.setState({loading2:!1}),t){var a=t[0].columnName,n=t[0].rowData,o=t[0].totalData;n=n.map((function(e,t){return 0===t&&(e.highlightMe=!0),e})),e.setState({topCompetitorData:n,topCompetitorTotal:o,topCompetitorColumn:a},(function(){return e.getAgentsData()}))}}))},n.getAgentsData=function(){var e=Object(je.a)(n);e.setState({loading3:!0});var t=n.state,a=t.startDate,o=t.endDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.getCabinValue,s=t.topCompetitorData,u=t.odName,d=s.length>0?s[0].Airline:"Null";e.setState({tableTitle2:"Top Agents for ".concat(u," & ").concat(d),competitorName:d}),vl.getTopAgents(a,o,r,l,i,c,u,d).then((function(t){if(e.setState({loading3:!1}),t){var a=t[0].columnName,n=t[0].rowData,o=t[0].totalData;e.setState({topAgentData:n,topAgentTotal:o,topAgentColumn:a})}}))},n.getAgentsDataOnClick=function(){var e=Object(je.a)(n);e.setState({loading3:!0});var t=n.state,a=t.startDate,o=t.endDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.getCabinValue,s=t.odName,u=t.competitorName;vl.getTopAgents(a,o,r,l,i,c,s,u).then((function(t){if(e.setState({loading3:!1}),t){var a=t[0].columnName,n=t[0].rowData,o=t[0].totalData;e.setState({topAgentData:n,topAgentTotal:o,topAgentColumn:a})}}))},n.getSwappedTopMarketData=function(){var e=Object(je.a)(n),t=n.state,a=t.startDate,o=t.endDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.ODSelected,s=t.getCabinValue,u=t.count;e.setState({loading:!0,loading2:!0,loading3:!0,topMarketData:[],topMarketTotal:[]}),vl.getTopMarkets(u,a,o,r,l,i,s,c).then((function(t){if(e.setState({loading:!1}),t){var a=t[0].rowData;a=a.map((function(e,t){return 0===t&&(e.highlightMe=!0),e})),e.state.searchClicked&&(a.length<t[0].paginationSize?e.setState({paginationEnd:t[0].totalRecords},(function(){return e.setState({searchClicked:!1})})):e.setState({paginationEnd:t[0].paginationSize},(function(){return e.setState({searchClicked:!1})}))),e.setState({topMarketData:a,topMarketTotal:t[0].totalData,topMarketColumn:t[0].columnName,currentPage:t[0].currentPage,totalPages:t[0].totalPages,totalRecords:t[0].totalRecords,paginationSize:t[0].paginationSize},(function(){return e.getSwappedAgentsData()}))}}))},n.getSwappedAgentsData=function(){var e=Object(je.a)(n);e.setState({loading2:!0,loading3:!0});var t=n.state,a=t.startDate,o=t.endDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.getCabinValue,s=t.odName;vl.getTopAgents(a,o,r,l,i,c,s,"Null").then((function(t){if(e.setState({loading3:!1}),t){var a=t[0].columnName,n=t[0].rowData,o=t[0].totalData;n=n.map((function(e,t){return 0===t&&(e.highlightMe=!0),e})),e.setState({topAgentData:n,topAgentTotal:o,topAgentColumn:a},(function(){return e.getSwappedCompetitorsData()}))}}))},n.getSwappedCompetitorsData=function(){var e=Object(je.a)(n);e.setState({loading2:!0});var t=n.state,a=t.startDate,o=t.endDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.getCabinValue,s=t.topAgentData,u=t.odName,d=s.length>0?s[0].Name:"";e.setState({tableTitle1:"Top Competitors for ".concat(u," & ").concat(d),agentName:d}),vl.getTopCompetitors(a,o,r,l,i,c,u,d).then((function(t){if(e.setState({loading2:!1}),t){var a=t[0].columnName,n=t[0].rowData,o=t[0].totalData;e.setState({topCompetitorData:n,topCompetitorTotal:o,topCompetitorColumn:a})}}))},n.getSwappedCompetitorsDataOnClick=function(){var e=Object(je.a)(n);e.setState({loading2:!0});var t=n.state,a=t.startDate,o=t.endDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.getCabinValue,s=t.odName,u=t.agentName;vl.getTopCompetitors(a,o,r,l,i,c,s,u).then((function(t){if(e.setState({loading2:!1}),t){var a=t[0].columnName,n=t[0].rowData,o=t[0].totalData;e.setState({topCompetitorData:n,topCompetitorTotal:o,topCompetitorColumn:a})}}))},n.odRowClick=function(e){n.sendEvent("2","clicked on OD","topMarkets","Top Markets");var t=e.colDef.field,a=e.api.getSelectedRows(),o=a.length>0?a[0].OD:"",r=n.state.topCompetitorData.length>0?n.state.topCompetitorData[0].Airline:"",l=n.state.topAgentData.length>0?n.state.topAgentData[0].Name:"",i=n.state.topMarketData.map((function(e){return e.highlightMe=!1,e}));e.api.updateRowData({update:i}),"OD"===t&&(n.state.toggleChange?n.setState({tableTitle1:"Top Competitors for ".concat(o," & ").concat(l),tableTitle2:"Top Agents for ".concat(o),odName:o,competitorName:r,agentName:l},(function(){return n.getSwappedAgentsData()})):n.setState({tableTitle1:"Top Competitors for ".concat(o),tableTitle2:"Top Agents for ".concat(o," & ").concat(r),odName:o,competitorName:r},(function(){return n.getCompetitorsData()}))),window.localStorage.setItem("ODSelected","Null"),n.setState({selectedOD:""})},n.competitorCellClick=function(e){n.sendEvent("2","clicked on Competitor","topMarkets","Top Markets");var t=e.colDef.field,a=n.state.topCompetitorData.map((function(e){return e.highlightMe=!1,e}));if(e.api.updateRowData({update:a}),"Airline"===t)window.localStorage.setItem("Competitor",e.value),n.props.history.push("/competitorAnalysis");else if("CY_MIDTA"===t&&!n.state.toggleChange){var o=e.data.Airline;n.setState({competitorName:o,tableTitle2:"Top Agents for ".concat(n.state.odName," & ").concat(o)},(function(){return n.getAgentsDataOnClick()}))}},n.agentCellClick=function(e){n.sendEvent("2","clicked on Agent","topMarkets","Top Markets");var t=e.colDef.field,a=e.data.Name,o=n.state.topAgentData.map((function(e){return e.highlightMe=!1,e}));e.api.updateRowData({update:o}),"Name"===t?(window.localStorage.setItem("Agent",e.value),n.props.history.push("/agentAnalysis")):"CY_MIDT"===t&&n.state.toggleChange&&n.setState({agentName:a,tableTitle1:"Top Competitors for ".concat(n.state.odName," & ").concat(a)},(function(){return n.getSwappedCompetitorsDataOnClick()}))},n.toggleChecked=function(){n.sendEvent("2","clicked on Swap button","topMarkets","Top Markets"),n.setState({toggleChange:!n.state.toggleChange},(function(){return n.toggleChange()}))},n.toggleChange=function(){var e=n.state.topAgentData[0].Name,t=n.state.topCompetitorData[0].Airline;n.state.toggleChange?n.setState({tableTitle1:"Top Competitors for ".concat(n.state.odName),tableTitle2:"Top Agents for ".concat(n.state.odName),agentName:e,competitorName:t},(function(){return n.getSwappedAgentsData()})):n.setState({tableTitle1:"Top Competitors for ".concat(n.state.odName," "),tableTitle2:"Top Agents for ".concat(n.state.odName," & ").concat(t),agentName:e,competitorName:t},(function(){return n.getCompetitorsData()}))},n.search=function(){n.sendEvent("2","clicked on Search button","topMarkets","Top Markets"),n.state.toggleChange?n.setState({searchClicked:!0},(function(){return n.getSwappedTopMarketData()})):n.setState({odName:"",searchClicked:!0},(function(){return n.getTopMarketData()}))},n.paginationClick=function(){n.state.toggleChange?n.getSwappedTopMarketData():n.setState({odName:""},(function(){return n.getTopMarketData()}))},n.renderTopSection=function(){return o.a.createElement("div",{className:"navdesign"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},o.a.createElement("section",null,o.a.createElement("h2",null,"Top Markets"))),o.a.createElement(Bt,Object.assign({pageName:"top_markets",getFilterValues:n.getFilterValues},n.props)))},n.gotoFirstPage=function(){n.setState({count:1,paginationStart:1},(function(){n.search()}))},n.gotoLastPage=function(){var e=n.state,t=e.totalPages,a=e.paginationSize,o=e.totalRecords,r=a*(t-1);n.setState({count:t,paginationStart:r+1,paginationEnd:o},(function(){return n.paginationClick()}))},n.gotoPreviousPage=function(){var e=n.state,t=e.count,a=e.currentPage,o=e.totalPages,r=e.paginationSize,l=e.paginationStart,i=e.paginationEnd,c=e.totalRecords%r,s=a===o;n.setState({count:t-1,paginationStart:l-r,paginationEnd:i-(s?c:r)},(function(){return n.paginationClick()}))},n.gotoNextPage=function(){var e=n.state,t=e.count,a=e.currentPage,o=e.totalPages,r=e.paginationSize,l=e.paginationStart,i=e.paginationEnd,c=e.totalRecords%r,s=a===o-1;n.setState({count:t+1,paginationStart:l+r,paginationEnd:i+(s?c:r)},(function(){return n.paginationClick()}))},n.state={startDate:null,endDate:null,regionSelected:"Null",countrySelected:"Null",citySelected:"Null",selectedOD:"",ODSelected:"",topMarketColumn:[],topMarketData:[],topMarketTotal:[],topCompetitorColumn:[],topAgentColumn:[],topCompetitorData:[],topCompetitorTotal:[],topAgentData:[],topAgentTotal:[],odName:"",competitorName:"",agentName:"",modelRegionDatas:[],modelregioncolumn:[],tableDatas:!0,tableTitle1:"",tableTitle2:"",top5ODTitle:"TOP 5 ODs",tabLevel:"Null",posFlowData:"Null",posAgentFlowDatas:[],posAgentFlowcolumn:[],getCabinValue:[],toggleChange:!1,loading:!1,loading2:!1,loading3:!1,topMarketRowHighlighted:{"highlight-row":"data.highlightMe"},competitorRowHighlighted:{"highlight-row":"data.highlightMe"},agentRowHighlighted:{"highlight-row":"data.highlightMe"},currentPage:"",totalPages:"",totalRecords:"",paginationStart:1,paginationEnd:"",paginationSize:"",count:1,searchClicked:!1},n.sendEvent("1","viewed Top Markets Page","topMarkets","Top Markets"),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this;vl.getClassNameDetails().then((function(t){if(t){var a=t[0].classDatas;e.setState({cabinOption:a})}}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.loading2,r=t.loading3,l=t.topMarketData,i=t.topMarketTotal,c=t.topMarketColumn,s=t.topCompetitorData,u=t.topCompetitorTotal,d=t.topCompetitorColumn,m=t.topAgentData,h=t.topAgentTotal,g=t.topAgentColumn,p=t.tableTitle1,f=t.tableTitle2,v=t.toggleChange;t.cabinOption;return o.a.createElement("div",{className:"top-market"},o.a.createElement(ta,Object.assign({},this.props,{swap:v})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top-market-main"},this.renderTopSection(),o.a.createElement("div",{className:"x_panel",style:{marginTop:"10px"}},o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:l,columnDefs:c,onCellClicked:function(t){return e.odRowClick(t)},frameworkComponents:{customHeaderGroupComponent:fl},topMarket:!0,loading:a,rowClassRules:this.state.topMarketRowHighlighted}),o.a.createElement(ba,{rowData:i,columnDefs:c,frameworkComponents:{customHeaderGroupComponent:fl},loading:a}),a?"":o.a.createElement(sl,{paginationStart:this.state.paginationStart,paginationEnd:this.state.paginationEnd,totalRecords:this.state.totalRecords,currentPage:this.state.currentPage,TotalPages:this.state.totalPages,gotoFirstPage:function(){return e.gotoFirstPage()},gotoLastPage:function(){return e.gotoLastPage()},gotoPreviousPage:function(){return e.gotoPreviousPage()},gotoNexttPage:function(){return e.gotoNextPage()}}),o.a.createElement("div",{className:"tab",id:"posTableTab",role:"tabpanel",style:{padding:"0px"}},o.a.createElement("div",{className:"tab-content tabs"},o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in active",id:"Section1"},v?o.a.createElement("div",{className:"row",style:{display:"flex"}},o.a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},o.a.createElement("div",{className:"toggle-agent-competitor",style:{display:m.length>0?"flex":"block"}},r?"":m.length>0?o.a.createElement("h2",{className:"table-name"},f):o.a.createElement("h2",null)),o.a.createElement(Da,{rowData:m,columnDefs:g,onCellClicked:function(t){return e.agentCellClick(t)},topMarket:!0,loading:r,rowClassRules:this.state.agentRowHighlighted}),o.a.createElement(ba,{rowData:h,columnDefs:g,loading:r})),r?"":m.length>0?o.a.createElement("span",{className:"swap",onClick:function(){return e.toggleChecked()}},o.a.createElement("i",{class:"fa fa-exchange transition rotate","aria-hidden":"true"})):"",o.a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},n?"":s.length>0?o.a.createElement("h2",{className:"table-name"},p):o.a.createElement("h2",null),o.a.createElement(Da,{rowData:s,columnDefs:d,onCellClicked:function(t){return e.competitorCellClick(t)},topMarket:!0,loading:n}),o.a.createElement(ba,{rowData:u,columnDefs:d,loading:n}))):o.a.createElement("div",{className:"row",style:{display:"flex"}},o.a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},o.a.createElement("div",{className:"toggle-agent-competitor",style:{display:s.length>0?"flex":"block"}},n?"":s.length>0?o.a.createElement("h2",{className:"table-name"},p):o.a.createElement("h2",null)),o.a.createElement(Da,{rowData:s,columnDefs:d,onCellClicked:function(t){return e.competitorCellClick(t)},topMarket:!0,loading:n,rowClassRules:this.state.competitorRowHighlighted}),o.a.createElement(ba,{rowData:u,columnDefs:d,loading:n})),n?"":s.length>0?o.a.createElement("span",{className:"swap",onClick:function(){return e.toggleChecked()}},o.a.createElement("i",{class:"fa fa-exchange transition rotate","aria-hidden":"true"})):"",o.a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},r?"":m.length>0?o.a.createElement("h2",{className:"table-name"},f):o.a.createElement("h2",null),o.a.createElement(Da,{rowData:m,columnDefs:g,onCellClicked:function(t){return e.agentCellClick(t)},topMarket:!0,loading:r}),o.a.createElement(ba,{rowData:h,columnDefs:g,loading:r})))))))))))}}]),a}(n.Component),wl=a(162),_l=a.n(wl),Dl=a(224),bl=(a(1013),a(648)),Sl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).defaultAdditional={page:1},n.loadPageOptions=function(){var e=Object(Dl.a)(_l.a.mark((function e(t,a,o){var r,l,i,c;return _l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.page,e.next=3,n.props.loadOptions(t,r);case 3:return l=e.sent,i=l.options,c=l.hasMore,e.abrupt("return",{options:i,hasMore:c,additional:{page:r+1}});case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.state={defaultAdditional:{page:1}},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.value,e.onChange);return o.a.createElement("div",{className:"auto-select"},o.a.createElement(bl.a,{debounceTimeout:600,additional:this.state.defaultAdditional,value:this.props.value,loadOptions:this.loadPageOptions,onChange:t}))}}]),a}(o.a.Component),yl=new Te,Nl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n,o;return Object(i.a)(this,a),(o=t.call(this,e)).sendEvent=function(e,t,a,n){var o={event_id:"".concat(e),description:"User ".concat(t),where_path:"/".concat(a),page_name:"".concat(n," Page")};R.sendEvent(o)},o.getFilterValues=function(e){o.setState({regionSelected:"All"===e.regionSelected?"Null":e.regionSelected,countrySelected:e.countrySelected,citySelected:e.citySelected,startDate:e.startDate,endDate:e.endDate,getCabinValue:e.getCabinValue},(function(){o.getCompetitorAnalysis(),o.getTopMarketData()}))},o.getCompetitorAnalysis=function(){var e=Object(je.a)(o),t=o.state,a=t.endDate,n=t.startDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.getCabinValue,s=t.competitorName;e.setState({loading:!0});var u=s.substring(0,2);yl.getCompetitorAnalysis(a,n,r,l,i,c,u).then((function(t){e.setState({loading:!1}),t&&e.setState({competitorColumn:t[0].columnName,competitorData:t[0].rowData,total:t[0].totalData})}))},o.getTopMarketData=function(){var e=Object(je.a)(o),t=o.state,a=t.endDate,n=t.startDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.getCabinValue,s=t.competitorName,u=t.selectedTopMarketNum;e.setState({loading2:!0,loading3:!0});var d=s.substring(0,2);yl.getTopMarketsForCompetitors(a,n,r,l,i,c,d,u).then((function(t){if(e.setState({loading2:!1}),t){var a=t[0].columnName,n=t[0].rowData,o=t[0].totalData,r=n.length>0?n[0].OD:"";n=n.map((function(e,t){return 0===t&&(e.highlightMe=!0),e})),e.setState({topMarketData:n,topMarketTotal:o,topMarketColumn:a,odName:r,tableTitle1:"Top Markets for ".concat(s),tableTitle2:"Top 5 Agents for ".concat(s," & ").concat(r)},(function(){return e.getAgentsData()}))}}))},o.getAgentsData=function(){var e=Object(je.a)(o);e.setState({loading3:!0});var t=e.state,a=t.endDate,n=t.startDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.getCabinValue,s=t.competitorName,u=t.selectedTopMarketNum,d=t.odName,m=s.substring(0,2);yl.getTopAgentsForCompetitors(a,n,r,l,i,c,m,u,d).then((function(t){if(e.setState({loading3:!1}),t){var a=t[0].columnName,n=t[0].rowData,o=t[0].totalData;e.setState({topAgentData:n,topAgentTotal:o,topAgentColumn:a})}}))},o.callAirline=function(e){o.sendEvent("2","clicked on Airlines Dropdown","competitorAnalysis","Competitor Analysis"),o.setState({competitorName:e.label,competitorValue:e},(function(){o.getCompetitorAnalysis(),o.getTopMarketData()}))},o.callTopMarket=function(e){o.sendEvent("2","clicked on Top Markets Dropdown","competitorAnalysis","Competitor Analysis"),o.setState({loading:!1,selectedTopMarketNum:e.target.value},(function(){return o.getTopMarketData()}))},o.topMarketRowClick=function(e){o.sendEvent("2","clicked on OD","competitorAnalysis","Competitor Analysis");var t=e.api.getSelectedRows()[0].OD,a=e.colDef.field,n=o.state.topMarketData.map((function(e){return e.highlightMe=!1,e}));e.api.updateRowData({update:n}),"OD"===a&&o.setState({topMarketRowHighlighted:null,odName:t,tableTitle2:"Top 5 Agents for ".concat(o.state.competitorName," & ").concat(t)},(function(){return o.getAgentsData()}))},o.agentCellClick=function(e){o.sendEvent("2","clicked on Agent","competitorAnalysis","Competitor Analysis"),"Name"===e.colDef.field&&(window.localStorage.setItem("Agent",e.value),o.props.history.push("/agentAnalysis"))},o.search=function(){o.sendEvent("2","clicked on Search button","competitorAnalysis","Competitor Analysis"),o.getCompetitorAnalysis(),o.getTopMarketData()},o.serialize=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")},o.getAirlines=function(e,t){return new Promise((function(a,n){var r={};e&&(r.competitor_name=e),t&&(r.page_number=t),L.get("getcompetitor?".concat(o.serialize(r))).then((function(e){if(e&&e.data.response){var t=e.data.response;a({airlines:t.events,totalRecords:t.totalAgents,paginationSize:t.paginationLimit,totalPages:t.totalPages})}})).catch((function(e){a(null)}))}))},o.loadOptions=function(){var e=Object(Dl.a)(_l.a.mark((function e(t,a){var n,r,l;return _l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getAirlines(t,a);case 2:if(null!==(n=e.sent)){e.next=5;break}return e.abrupt("return");case 5:if(r=n.airlines,n.totalRecords,l=n.totalPages,!(r.length>0)){e.next=9;break}return r.map((function(e){if(e.label){var t=e.label.trim().toLowerCase();e.label=t.charAt(0).toUpperCase()+t.slice(1)}return e})),e.abrupt("return",{options:r,hasMore:l>a+1});case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),o.state=(n={startDate:null,endDate:null,regionSelected:"Null",countrySelected:"Null",citySelected:"Null",airline:[],competitorName:"",competitorValue:[],topMarketNum:["5","10","15","20"],selectedTopMarketNum:"5",competitorColumn:[],competitorData:[],total:[],topMarketColumn:[],topMarketData:[],topMarketTotal:[],topAgentColumn:[],topAgentData:[],topAgentTotal:[],odName:"",modelRegionDatas:[],modelregioncolumn:[],tableDatas:!0,tableTitle1:"",tableTitle2:"",top5ODTitle:"TOP 5 ODs",tabLevel:"Null",posFlowData:"Null",posAgentFlowDatas:[],posAgentFlowcolumn:[],getCabinValue:[]},Object(p.a)(n,"odName",""),Object(p.a)(n,"loading",!1),Object(p.a)(n,"loading2",!1),Object(p.a)(n,"loading3",!1),Object(p.a)(n,"topMarketRowHighlighted",{"highlight-row":"data.highlightMe"}),n),o.sendEvent("1","viewed Competitor Analysis Page","competitorAnalysis","Competitor Analysis"),o}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.localStorage.getItem("Competitor");this.setState({competitorName:null!==t?t:"",competitorValue:[{value:"1",label:t}],tableTitle1:"Top Markets for ".concat(t)}),yl.getClassNameDetails().then((function(t){if(t){var a=t[0].classDatas;e.setState({cabinOption:a})}}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.loading2,r=t.loading3,l=t.topMarketData,i=t.topMarketColumn,c=t.competitorData,s=t.topMarketTotal,u=t.competitorColumn,d=t.total,m=t.topAgentData,h=t.topAgentTotal,g=t.topAgentColumn,p=t.tableTitle1,f=t.tableTitle2,v=t.topMarketNum.map((function(e){return o.a.createElement("option",{value:e},e)}));return o.a.createElement("div",{className:"competitor-analysis"},o.a.createElement(ta,this.props),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 competitor-analysis-main"},o.a.createElement("div",{className:"navdesign"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top-heading"},o.a.createElement("section",null,o.a.createElement("h2",null,"Competitor Analysis")),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{className:""},o.a.createElement("div",{className:"form-group",style:{maxWidth:"300px"}},o.a.createElement("h4",null,"Airline :"),o.a.createElement(Sl,{value:this.state.competitorValue,onChange:function(t){return e.callAirline(t)},loadOptions:this.loadOptions}))),o.a.createElement("div",{className:""},o.a.createElement("div",{className:"form-group",style:{maxWidth:"155px"}},o.a.createElement("h4",{style:{width:"280px"}},"Top Markets:"),o.a.createElement("select",{className:"form-control cabinselect",onChange:function(t){return e.callTopMarket(t)}},v))))),o.a.createElement("div",{className:"drop-down-main"},o.a.createElement(Bt,Object.assign({getFilterValues:this.getFilterValues},this.props))),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:c,columnDefs:u,loading:a,topMarket:!0}),o.a.createElement(ba,{rowData:d,columnDefs:u,loading:a}),o.a.createElement("div",{className:"row",style:{marginTop:"10px"}},o.a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},n?"":l.length>0?o.a.createElement("h2",{className:"table-name"},p):o.a.createElement("h2",null),o.a.createElement(Da,{rowData:l,columnDefs:i,onCellClicked:function(t){return e.topMarketRowClick(t)},topMarket:!0,loading:n,rowClassRules:this.state.topMarketRowHighlighted}),o.a.createElement(ba,{rowData:s,columnDefs:i,loading:n})),o.a.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},r?"":m.length>0?o.a.createElement("h2",{className:"table-name"},f):o.a.createElement("h2",null),o.a.createElement(Da,{rowData:m,columnDefs:g,onCellClicked:function(t){return e.agentCellClick(t)},topMarket:!0,loading:r}),o.a.createElement(ba,{rowData:h,columnDefs:g,loading:r}))))))))}}]),a}(n.Component),Tl=(a(1024),new Te),Al=[],Rl=0;Rl<50;++Rl)Al.push({value:Rl+1,label:"Option ".concat(Rl+1)});var Vl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e,t,a,n){var o={event_id:"".concat(e),description:"User ".concat(t),where_path:"/".concat(a),page_name:"".concat(n," Page")};R.sendEvent(o)},n.getFilterValues=function(e){n.setState({regionSelected:"All"===e.regionSelected?"Null":e.regionSelected,countrySelected:e.countrySelected,citySelected:e.citySelected,startDate:e.startDate,endDate:e.endDate,getCabinValue:e.getCabinValue},(function(){n.getTopMarketData(),n.getAgentAnalysisReport()}))},n.getAgentAnalysisReport=function(){var e=Object(je.a)(n),t=n.state,a=t.endDate,o=t.startDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.getCabinValue,s=t.agentName;e.setState({loading:!0}),Tl.getAgentAnalysis(a,o,r,l,i,c,s).then((function(t){if(e.setState({loading:!1}),t){var a=t[0].columnName,n=t[0].rowData;e.setState({agentData:n,agentColumn:a,tableTitle1:"Top Markets for ".concat(s)})}}))},n.getTopMarketData=function(){var e=Object(je.a)(n),t=n.state,a=t.endDate,o=t.startDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.getCabinValue,s=t.selectedTopMarketNum,u=t.agentName;e.setState({loading2:!0}),Tl.getTopMarketsForAgent(a,o,r,l,i,c,s,u).then((function(t){if(e.setState({loading2:!1}),t){var a=t[0].columnName,n=t[0].rowData,o=t[0].totalData;e.setState({topMarketData:n,topMarketTotal:o,topMarketColumn:a})}}))},n.callAgents=function(e){n.sendEvent("2","clicked on Agents Dropdown","agentAnalysis","Agent Analysis"),n.setState({agentValue:e,agentName:e.label},(function(){n.getTopMarketData(),n.getAgentAnalysisReport()}))},n.callTopMarket=function(e){n.sendEvent("2","clicked on Top Markets Dropdown","agentAnalysis","Agent Analysis"),n.setState({selectedTopMarketNum:e.target.value},(function(){return n.getTopMarketData()}))},n.search=function(){n.sendEvent("2","clicked on Search button","agentAnalysis","Agent Analysis"),n.getAgentAnalysisReport(),n.getTopMarketData()},n.serialize=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")},n.getAgents=function(e,t){return new Promise((function(a,o){var r={};e&&(r.agent_name=e),t&&(r.page_number=t),L.get("getagent?".concat(n.serialize(r))).then((function(e){if(e&&e.data.response){var t=e.data.response;a({agents:t.agents,totalRecords:t.totalAgents,paginationSize:t.paginationLimit,totalPages:t.totalPages})}})).catch((function(e){a(null)}))}))},n.loadOptions=function(){var e=Object(Dl.a)(_l.a.mark((function e(t,a){var o,r,l;return _l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 10,e.next=3,n.getAgents(t,a);case 3:if(null!==(o=e.sent)){e.next=6;break}return e.abrupt("return");case 6:if(r=o.agents,o.totalRecords,l=o.totalPages,!(r.length>0)){e.next=10;break}return r.map((function(e){if(e.label){var t=e.label.trim().toLowerCase();e.label=t.charAt(0).toUpperCase()+t.slice(1)}return e})),e.abrupt("return",{options:r,hasMore:l>a+1});case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.state={startDate:null,endDate:null,regionSelected:"Null",countrySelected:"Null",citySelected:"Null",topMarketNum:["5","10","15","20"],selectedTopMarketNum:"5",agentColumn:[],agentData:[],topMarketColumn:[],topMarketData:[],topMarketTotal:[],odName:"",modelRegionDatas:[],modelregioncolumn:[],tableDatas:!0,tableTitle1:"",top5ODTitle:"TOP 5 ODs",tabLevel:"Null",posFlowData:"Null",posAgentFlowDatas:[],posAgentFlowcolumn:[],getCabinValue:[],agents:[],agentValue:[],agentName:"",pageNumber:"",totalRecords:"",paginationSize:"",loading:!1,loading2:!1},n.sendEvent("1","viewed Agent Analysis Page","agentAnalysis","Agent Analysis"),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=window.localStorage.getItem("Agent");this.setState({agentValue:[{value:"1",label:t}],agentName:t,tableTitle1:"Top Markets for ".concat(t)}),Tl.getClassNameDetails().then((function(t){if(t){var a=t[0].classDatas;e.setState({cabinOption:a})}}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.loading2,r=t.agentData,l=t.agentColumn,i=t.topMarketData,c=t.topMarketTotal,s=t.topMarketColumn,u=(t.startDate,t.tableTitle1),d=(t.agentName,t.cabinOption,t.topMarketNum.map((function(e){return o.a.createElement("option",{value:e},e)})));return o.a.createElement("div",{className:"agent-analysis"},o.a.createElement(ta,this.props),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 agent-analysis-main"},o.a.createElement("div",{className:"navdesign"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top-heading"},o.a.createElement("section",null,o.a.createElement("h2",null,"Agent Analysis")),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{className:""},o.a.createElement("div",{className:"form-group",style:{maxWidth:"300px"}},o.a.createElement("h4",null,"Agents :"),o.a.createElement(Sl,{value:this.state.agentValue,onChange:function(t){return e.callAgents(t)},loadOptions:this.loadOptions}))),o.a.createElement("div",{className:""},o.a.createElement("div",{className:"form-group",style:{maxWidth:"155px"}},o.a.createElement("h4",{style:{width:"280px"}},"Top Markets:"),o.a.createElement("select",{className:"form-control cabinselect",onChange:function(t){return e.callTopMarket(t)}},d))))),o.a.createElement("div",{className:"drop-down-main"},o.a.createElement(Bt,Object.assign({getFilterValues:this.getFilterValues},this.props))),o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:r,columnDefs:l,autoHeight:"autoHeight",loading:a}))),o.a.createElement("div",{className:"x_content"},n?"":i.length>0?o.a.createElement("h2",{className:"table-name"},u):o.a.createElement("h2",null),o.a.createElement(Da,{rowData:i,columnDefs:s,topMarket:!0,loading:n}),o.a.createElement(ba,{rowData:c,columnDefs:s,loading:n})))))}}]),a}(n.Component),Yl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={chartVisible:!1},n}return Object(c.a)(a,[{key:"closeChartModal",value:function(){this.setState({chartVisible:!1})}},{key:"render",value:function(){var e=this.props.displayName,t=localStorage.getItem("channelDownloadURL");return o.a.createElement("div",null,o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},e),o.a.createElement(Sr,{url:t,name:"Channel Page",path:"/channelPerformance",page:"Channel Page"})))}}]),a}(n.Component),El=(a(1025),new Te),Ll=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n,o;return Object(i.a)(this,a),(o=t.call(this,e)).sendEvent=function(e,t,a,n){var o={event_id:"".concat(e),description:"User ".concat(t),where_path:"/".concat(a),page_name:"".concat(n," Page")};R.sendEvent(o)},o.getFilterValues=function(e){o.setState({regionSelected:"All"===e.regionSelected?"Null":e.regionSelected,countrySelected:e.countrySelected,citySelected:e.citySelected,startDate:e.startDate,endDate:e.endDate,getCabinValue:e.getCabinValue},(function(){return o.getChannelPerformanceData()}))},o.getChannelPerformanceData=function(){var e=Object(je.a)(o),t=o.state,a=t.endDate,n=t.startDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.getCabinValue;e.setState({loading:!0}),El.getChannelPerformance(a,n,r,l,i,c).then((function(t){if(e.setState({loading:!1}),t){var a=t[0].columnName,n=t[0].rowData,o=t[0].totalData;e.setState({channelData:n,totalData:o,channelColumn:a})}}))},o.channelRowClick=function(e){var t=e.api.getSelectedRows()[0].Channel;"Channel"===e.colDef.field&&o.props.history.push("/subChannelPerformance?channel=".concat(t))},o.state=(n={startDate:null,endDate:null},Object(p.a)(n,"startDate",null),Object(p.a)(n,"getCabinValue",null),Object(p.a)(n,"regionSelected",null),Object(p.a)(n,"countrySelected",null),Object(p.a)(n,"citySelected",null),Object(p.a)(n,"channelColumn",[]),Object(p.a)(n,"channelData",[]),Object(p.a)(n,"totalData",[]),Object(p.a)(n,"loading",!1),n),o.sendEvent("1","viewed Channel Performance Page","channelPerformance","Channel Performance"),o}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.loading;return o.a.createElement("div",{className:"channel-performance"},o.a.createElement(ta,this.props),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 channel-performance-main"},o.a.createElement("div",{className:"navdesign"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top-heading"},o.a.createElement("section",null,o.a.createElement("h2",null,"Channel Performance"))),o.a.createElement(Bt,Object.assign({getFilterValues:this.getFilterValues,hideCabin:!0},this.props)),o.a.createElement("div",{className:"x_content",style:{marginTop:"15px",padding:"10px"}},o.a.createElement(Da,{rowData:this.state.channelData,columnDefs:this.state.channelColumn,frameworkComponents:{customHeaderGroupComponent:Yl},onCellClicked:function(t){return e.channelRowClick(t)},loading:t,channel:!0}),o.a.createElement(ba,{rowData:this.state.totalData,columnDefs:this.state.channelColumn,frameworkComponents:{customHeaderGroupComponent:Yl},loading:t,reducingPadding:!0}))))))}}]),a}(n.Component),kl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={chartVisible:!1},n}return Object(c.a)(a,[{key:"closeChartModal",value:function(){this.setState({chartVisible:!1})}},{key:"render",value:function(){var e=this.props.displayName,t=localStorage.getItem("subChannelDownloadURL");return o.a.createElement("div",null,o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},e),o.a.createElement(Sr,{url:t,name:"Channel Page",path:"/channelPerformance",page:"Channel Page"})))}}]),a}(n.Component),Bl=(a(1026),new Te),Il=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n,o;return Object(i.a)(this,a),(o=t.call(this,e)).sendEvent=function(e,t,a,n){var o={event_id:"".concat(e),description:"User ".concat(t),where_path:"/".concat(a),page_name:"".concat(n," Page")};R.sendEvent(o)},o.getFilterValues=function(e){o.setState({regionSelected:"All"===e.regionSelected?"Null":e.regionSelected,countrySelected:e.countrySelected,citySelected:e.citySelected,startDate:e.startDate,endDate:e.endDate,getCabinValue:e.getCabinValue},(function(){return o.getSubChannelPerformanceData()}))},o.getSubChannelPerformanceData=function(){var e=Object(je.a)(o),t=o.state,a=t.endDate,n=t.startDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.getCabinValue,s=t.channel,u=t.getAgent;e.setState({loading:!0});var d="Null"===o.state.getAgent?"Sub Channel Performance of ".concat(s):"Top OD's for ".concat(s," & ").concat(u);Bl.getSubChannelPerformance(a,n,r,l,i,c,s,u).then((function(t){if(e.setState({loading:!1}),t){var a=t[0].columnName,n=t[0].rowData,o=t[0].totalData;e.setState({subChannelData:n,totalData:o,subChannelColumn:a,title:d})}}))},o.channelRowClick=function(e){var t=e.api.getSelectedRows()[0].Agents,a=e.colDef.field,n=o.state.channel;"Agents"===a&&o.props.history.push("/subChannelODPerformance?channel=".concat(n,"&subchannel=").concat(encodeURIComponent(t)))},o.state=(n={startDate:null,endDate:null},Object(p.a)(n,"startDate",null),Object(p.a)(n,"getCabinValue",null),Object(p.a)(n,"regionSelected",null),Object(p.a)(n,"countrySelected",null),Object(p.a)(n,"citySelected",null),Object(p.a)(n,"channel",null),Object(p.a)(n,"subChannelColumn",[]),Object(p.a)(n,"subChannelData",[]),Object(p.a)(n,"totalData",[]),Object(p.a)(n,"loading",!1),Object(p.a)(n,"getAgent","Null"),Object(p.a)(n,"title","Sub Channel Performance of"),n),o.sendEvent("1","viewed Sub Channel Performance Page","subChannelPerformance","Sub Channel Performance"),o}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=J("subchannel",window.location.href);this.setState({channel:J("channel",window.location.href),getAgent:null===e?this.state.getAgent:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.title;return o.a.createElement("div",{className:"sub-channel-performance"},o.a.createElement(ta,this.props),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 sub-channel-performance-main"},o.a.createElement("div",{className:"navdesign"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top-heading"},o.a.createElement("section",null,o.a.createElement("h2",null,n))),o.a.createElement(Bt,Object.assign({getFilterValues:this.getFilterValues,hideCabin:!0},this.props)),o.a.createElement("div",{className:"x_content",style:{marginTop:"15px",padding:"10px"}},o.a.createElement(Da,{rowData:this.state.subChannelData,columnDefs:this.state.subChannelColumn,onCellClicked:function(t){return e.channelRowClick(t)},frameworkComponents:{customHeaderGroupComponent:kl},loading:a,channel:!0}),o.a.createElement(ba,{rowData:this.state.totalData,columnDefs:this.state.subChannelColumn,frameworkComponents:{customHeaderGroupComponent:kl},loading:a,reducingPadding:!0}))))))}}]),a}(n.Component),Ol=(a(1027),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={chartVisible:!1},n}return Object(c.a)(a,[{key:"closeChartModal",value:function(){this.setState({chartVisible:!1})}},{key:"render",value:function(){var e=this.props.displayName,t=localStorage.getItem("segmentationDownloadurl");return o.a.createElement("div",null,o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},e),o.a.createElement(Sr,{url:t,name:"Segmentation",path:"/segmentation",page:"Segmentation Page"})))}}]),a}(n.Component)),Pl=new Te,Ml=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e,t,a,n){var o={event_id:"".concat(e),description:"User ".concat(t),where_path:"/".concat(a),page_name:"".concat(n," Page")};R.sendEvent(o)},n.getFilterValues=function(e){n.setState({regionSelected:"All"===e.regionSelected?"Null":e.regionSelected,countrySelected:e.countrySelected,citySelected:e.citySelected,startDate:e.startDate,endDate:e.endDate,getCabinValue:e.getCabinValue},(function(){return n.getSegmentationData()}))},n.getSegmentationData=function(){var e=Object(je.a)(n),t=n.state,a=t.endDate,o=t.startDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.getCabinValue;e.setState({loading:!0}),Pl.getSegmentationData(a,o,r,l,i,c).then((function(t){if(e.setState({loading:!1}),t){var a=t[0].columnName,n=t[0].rowData,o=t[0].totalData;e.setState({segmentData:n,totalData:o,segmentColumn:a})}}))},n.segmentRowClick=function(e){var t=e.api.getSelectedRows()[0].Segment;"Segment"===e.colDef.field&&n.props.history.push("/subSegmentation?segment=".concat(t))},n.state={startDate:null,endDate:null,regions:[],regionSelected:"Null",countrySelected:"Null",citySelected:"Null",segmentColumn:[],segmentData:[],totalData:[],getCabinValue:null,loading:!1},n.sendEvent("1","viewed Segmentation Page","segmentation","Segmentation"),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.loading;return o.a.createElement("div",{className:"segmentation"},o.a.createElement(ta,this.props),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 segmentation-main"},o.a.createElement("div",{className:"navdesign"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top-heading"},o.a.createElement("section",null,o.a.createElement("h2",null,"Segmentation Report"))),o.a.createElement(Bt,Object.assign({getFilterValues:this.getFilterValues,hideCabin:!0},this.props)),o.a.createElement("div",{className:"x_content",style:{marginTop:"15px",padding:"10px"}},o.a.createElement(Da,{rowData:this.state.segmentData,columnDefs:this.state.segmentColumn,frameworkComponents:{customHeaderGroupComponent:Ol},onCellClicked:function(t){return e.segmentRowClick(t)},loading:t,channel:!0}),o.a.createElement(ba,{rowData:this.state.totalData,columnDefs:this.state.segmentColumn,frameworkComponents:{customHeaderGroupComponent:Ol},loading:t,reducingPadding:!0}))))))}}]),a}(n.Component),Fl=(a(1028),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={chartVisible:!1},n}return Object(c.a)(a,[{key:"closeChartModal",value:function(){this.setState({chartVisible:!1})}},{key:"render",value:function(){var e=this.props.displayName,t=localStorage.getItem("segmentationReportDownloadURL");return o.a.createElement("div",null,o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},e),o.a.createElement(Sr,{url:t,name:"Segmentation",path:"/segmentation",page:"Segmentation Page"})))}}]),a}(n.Component)),Gl=new Te,xl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e,t,a,n){var o={event_id:"".concat(e),description:"User ".concat(t),where_path:"/".concat(a),page_name:"".concat(n," Page")};R.sendEvent(o)},n.getFilterValues=function(e){n.setState({regionSelected:"All"===e.regionSelected?"Null":e.regionSelected,countrySelected:e.countrySelected,citySelected:e.citySelected,startDate:e.startDate,endDate:e.endDate,getCabinValue:e.getCabinValue},(function(){return n.getSubSegmentationData()}))},n.getSubSegmentationData=function(){var e=Object(je.a)(n),t=n.state,a=t.endDate,o=t.startDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.getCabinValue;e.setState({loading:!0}),Gl.getSubSegmentationData(a,o,r,l,i,c,n.segment).then((function(t){if(e.setState({loading:!1}),t){var a=t[0].columnName,n=t[0].rowData,o=t[0].totalData;e.setState({subSegmentData:n,totalData:o,subSegmentColumn:a})}}))},n.state={startDate:null,endDate:null,regions:[],regionSelected:"Null",countrySelected:"Null",citySelected:"Null",subSegmentColumn:[],subSegmentData:[],totalData:[],getCabinValue:null,loading:!1},n.sendEvent("1","viewed Segmentation Page","segmentation","Segmentation"),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.segment=J("segment",window.location.href)}},{key:"render",value:function(){var e=this.state.loading;return o.a.createElement("div",{className:"subSegmentation"},o.a.createElement(ta,this.props),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 subSegmentation-main"},o.a.createElement("div",{className:"navdesign"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top-heading"},o.a.createElement("section",null,o.a.createElement("h2",null,"Sub Segmentation Report of ".concat(this.segment)))),o.a.createElement(Bt,Object.assign({getFilterValues:this.getFilterValues,hideCabin:!0},this.props)),o.a.createElement("div",{className:"x_content",style:{marginTop:"15px",padding:"10px"}},o.a.createElement(Da,{rowData:this.state.subSegmentData,columnDefs:this.state.subSegmentColumn,frameworkComponents:{customHeaderGroupComponent:Fl},loading:e,channel:!0}),o.a.createElement(ba,{rowData:this.state.totalData,columnDefs:this.state.subSegmentColumn,frameworkComponents:{customHeaderGroupComponent:Fl},loading:e,reducingPadding:!0}))))))}}]),a}(n.Component),jl=(a(1029),new Te),Wl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e,t,a,n){var o={event_id:"".concat(e),description:"User ".concat(t),where_path:"/".concat(a),page_name:"".concat(n," Page")};R.sendEvent(o)},n.getFilterValues=function(e){n.setState({regionSelected:"All"===e.regionSelected?"Null":e.regionSelected,countrySelected:e.countrySelected,citySelected:e.citySelected,startDate:e.startDate,endDate:e.endDate,getCabinValue:e.getCabinValue},(function(){return n.getDemographydropoutData()}))},n.getDemographydropoutData=function(){var e=Object(je.a)(n),t=n.state,a=t.endDate,o=t.startDate,r=t.regionSelected,l=t.countrySelected,i=t.citySelected,c=t.getCabinValue;e.setState({loading:!0}),jl.getDemographyReportData(a,o,r,l,i,c).then((function(t){if(e.setState({loading:!1}),t){var a=t[0].columnName,n=t[0].rowData,o=t[0].totalData;e.setState({segmentData:n,totalData:o,segmentColumn:a})}}))},n.state={startDate:null,endDate:null,regions:[],regionSelected:"Null",countrySelected:"Null",citySelected:"Null",segmentColumn:[],segmentData:[],totalData:[],getCabinValue:null,loading:!1},n.sendEvent("1","viewed Segmentation Page","segmentation","Segmentation"),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state.loading;return o.a.createElement("div",{className:"segmentation"},o.a.createElement(ta,Object.assign({dashboardPath:"/demographyDashboard"},this.props)),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 segmentation-main"},o.a.createElement("div",{className:"navdesign"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top-heading"},o.a.createElement("section",null,o.a.createElement("h2",null," Demographic Report Page"))),o.a.createElement(Bt,Object.assign({getFilterValues:this.getFilterValues,hideCabin:!0,BoughtDropout:!0},this.props)),o.a.createElement("div",{className:"x_content",style:{marginTop:"15px",padding:"10px"}},o.a.createElement(Da,{rowData:this.state.segmentData,columnDefs:this.state.segmentColumn,loading:e,channel:!0}),o.a.createElement(ba,{rowData:this.state.totalData,columnDefs:this.state.segmentColumn,loading:e,reducingPadding:!0}))))))}}]),a}(n.Component),Zl=a(641),Hl=a.n(Zl);Ma.a.fcRoot(Ba.a,Oa.a,Hl.a);var Ul=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=n.state.chartConfigs;t.dataSource.chart.yaxisname=e.yaxisname,t.dataSource.categories=e.categories,t.dataSource.dataset=e.dataset,n.setState({chartConfigs:t})},n.state={chartConfigs:{type:"mscolumn2d",renderAt:"chart-container",width:"100%",height:"90%",dataFormat:"json",dataSource:{chart:{caption:"Year on Year Growth",yaxisname:"Passenger",subcaption:"(by Travel Period)",yaxismaxvalue:"100",yaxisminvalue:"-100",numberSuffix:"%",showsum:"1",plottooltext:"$seriesName in $label : <b>$dataValue</b>",decimals:"1",theme:"candy",animation:"0"},categories:[],dataset:[]}}},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this.props,t=this.state.chartConfigs;t.dataSource.chart.yaxisname=e.yaxisname,t.dataSource.categories=e.categories,t.dataSource.dataset=e.dataset,this.setState({chartConfigs:t})}},{key:"render",value:function(){return o.a.createElement(Ma.a,this.state.chartConfigs)}}]),a}(o.a.Component),Jl=a(1122),Kl=a(610),zl=a(609),ql=(a(1030),new Te),Xl=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e){R.sendEventWithHeader({event_id:"1",description:"User viewed DDS Chart Page",where_path:"/DDSChart",page_name:"DDS Chart Page"},e)},n.getPOSSelectedGeographicalDetails=function(e){console.log(e,"mymy"),n.setState({regionId:e.regionSelected,countryId:e.countrySelected,cityId:e.citySelected,startDate:e.startDate,endDate:e.endDate},(function(){return n.getDDSChartData()}))},n.getDDSChartData=function(){var e=Object(je.a)(n),t=n.state,a=t.startDate,o=t.endDate,r=t.regionId,l=t.countryId,i=t.cityId,c=t.yaxisname;e.showLoader(),ql.getDDSChartData(a,o,r,l,i,c).then((function(t){if(e.hideLoader(),t){var a=t.categories,n=t.dataset.filter((function(e,t){return e.priority=t+1e4,"MH"===e.seriesname&&(e.priority=1),"Industry"===e.seriesname&&(e.priority=2),e})).sort((function(e,t){return e.priority-t.priority}));e.setState({dataset:n,categories:a})}}))},n.showLoader=function(){n.setState({loading:!0}),w()("#loaderImage").addClass("loader-visible")},n.hideLoader=function(){n.setState({loading:!1}),w()("#loaderImage").removeClass("loader-visible"),w()(".x_panel").addClass("opacity-fade"),w()(".top-buttons").addClass("opacity-fade")},n.state={revenue:!1,yaxisname:"Passenger",categories:[],dataset:[],regionId:null,cityId:null,countryId:null,startDate:null,endDate:null,loading:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=b.getCookie("Authorization");this.sendEvent(e)}},{key:"toggleChecked",value:function(e){var t=this;this.setState({revenue:e.target.checked}),e.target.checked?this.setState({yaxisname:"Revenue"},(function(){return t.getDDSChartData()})):this.setState({yaxisname:"Passenger"},(function(){return t.getDDSChartData()}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.revenue,n=t.yaxisname,r=t.categories,l=t.dataset,i=t.loading;return o.a.createElement("div",null,o.a.createElement(Dr,null),o.a.createElement(ta,Object.assign({dashboard:!0,getPOSSelectedGeographicalDetails:this.getPOSSelectedGeographicalDetails},this.props)),o.a.createElement("div",{className:"ddschart"},o.a.createElement("div",{className:"add"},o.a.createElement("h2",null,"DDS Chart"),o.a.createElement(Kl.a,null,"Passenger",o.a.createElement(zl.a,{control:o.a.createElement(Jl.a,{size:"small",checked:a,onChange:function(t){return e.toggleChecked(t)}})}),"Revenue")),o.a.createElement("div",{className:"ddschart-form"},i?"":0===l.length?o.a.createElement("h4",{style:{textAlign:"center"}},"No Data to Show"):o.a.createElement(Ul,{yaxisname:n,categories:r,dataset:l}),l.length>0?o.a.createElement("div",{className:"hide-watermark"}):"")))}}]),a}(n.Component),Ql=(a(1031),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={chartVisible:!1},n}return Object(c.a)(a,[{key:"closeChartModal",value:function(){this.setState({chartVisible:!1})}},{key:"render",value:function(){var e=this,t=this.props.displayName,a=localStorage.getItem("posDownloadURL"),n=localStorage.getItem("postype");console.log(a,"latest");var r=this.props.columnGroup.groupId;return o.a.createElement("div",null,"Agency"!==n&&"Ancillary"!==n||"5"!==r?"AL Market Share(%)"===t?o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},t),o.a.createElement(Sr,{url:a,name:"POS DRILLDOWN",path:"/pos",page:"Pos Page"})):o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},t),o.a.createElement("i",{class:"fa fa-bar-chart-o",style:{marginLeft:"10px",cursor:"pointer"},onClick:function(){return e.setState({chartVisible:!0})}})):o.a.createElement("div",{className:"customHeaderLabel"},t),o.a.createElement(_r,{chartVisible:this.state.chartVisible,displayName:t,closeChartModal:function(){return e.closeChartModal()}}))}}]),a}(n.Component)),$l=new Te,ei=(new Date).getFullYear(),ti=((new Date).getMonth(),[]),ai=[],ni=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e,t,a,n){var o={event_id:"".concat(e),description:"User ".concat(t),where_path:"/".concat(a),page_name:"".concat(n)};R.sendEvent(o)},n.getFiltersValue=function(){ai=[];var e=window.localStorage.getItem("PartnerSelected"),t=window.localStorage.getItem("InterlineRegionSelected"),a=window.localStorage.getItem("InterlineCountrySelected"),o=window.localStorage.getItem("InterlineCitySelected"),r=JSON.parse(window.localStorage.getItem("rangeValue")),l=window.localStorage.getItem("CabinSelected"),i=window.localStorage.getItem("SegmentSelected"),c=window.localStorage.getItem("ChannelSelected"),s=(window.monthNumToName(r.from.month),null===l||"Null"===l?[]:JSON.parse(l));l=s.length>0?s:"Null",o=null===o||"Null"===o||""===o?"*":JSON.parse(o),n.setState({partnersId:null===e||"Null"===e||""===e?"*":JSON.parse(e),regionId:null===t||"Null"===t||""===t?"*":JSON.parse(t),countryId:null===a||"Null"===a||""===a?"*":JSON.parse(a),cityId:o,segmentId:null===i||"Null"===i||""===i||"*"===o?"*":JSON.parse(i),channelId:null===c||"Null"===c||""===c||"*"===c?"*":JSON.parse(c),gettingMonth:window.monthNumToName(r.from.month),gettingYear:r.from.year,getCabinValue:l,cabinSelectedDropDown:s},(function(){return n.getInitialData()}))},n.getInitialData=function(){var e=Object(je.a)(n),t=n.state,a=t.gettingMonth,o=t.gettingYear,r=t.partnersId,l=t.regionId,i=t.countryId,c=t.cityId,s=t.segmentId,u=t.channelId,d=t.getCabinValue,m=t.oneWorldValue,h=t.ancillary;e.setState({loading:!0,loading2:!0,firstLoadList:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),e.getInitialListData(r,l,i,c,s,u),$l.getInterlineMonthTables(n.state.toggle,r,l,i,c,s,u,d,m).then((function(t){if(e.setState({loading:!1,firstLoadList:!1}),t){var n=t[0].totalData,d=t[0].columnName,m=t[0].rowData;ti=m,e.setState({posMonthDetails:e.getHighlightedMonth(m,a,o),monthcolumns:d,monthTotalData:n})}h?(e.getDrillDownData(r,l,i,c,s,u,"Ancillary"),e.setState({type:"Ancillary"})):e.getDrillDownData(r,l,i,c,s,u,"Null")}))},n.getInitialListData=function(e,t,a,o,r,l){var i=Object(je.a)(n),c=JSON.parse(b.getCookie("userDetails")).access,s="*",u="*";if("#*"!==c){i.setState({accessLevelDisable:!0});var d=c.split("#");s=d[2],u="*"===d[2]?"*":d[3]}"*"!==e&&(ai.push({val:e,title:"Partners",disable:!1}),i.setState({selectedData:e})),"*"!==t&&(ai.push({val:t,title:"Region",disable:"*"!==s}),i.setState({selectedData:t})),"*"!==a&&(ai.push({val:a,title:"Country",disable:"*"!==u}),i.setState({selectedData:a})),"*"!==o&&(ai.push({val:o,title:"POS"}),i.setState({selectedData:o})),"*"!==r&&(ai.push({val:r,title:"Segment"}),i.setState({selectedData:r})),"*"!==l&&(ai.push({val:l,title:"Channel"}),i.setState({selectedData:l}))},n.getMonthDrillDownData=function(e,t,a,o,r,l){var i=Object(je.a)(n),c=n.state,s=c.gettingMonth,u=c.getCabinValue,d=c.type,m=c.gettingYear,h=c.toggle,g=c.oneWorldValue;i.setState({loading:!0,loading2:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),$l.getInterlineMonthTables(h,e,t,a,o,r,l,u,g).then((function(e){if(i.setState({loading:!1}),e){var t=e[0].totalData,a=e[0].columnName,n=e[0].rowData;ti=n,i.setState({posMonthDetails:i.getHighlightedMonth(n,s,m),monthcolumns:a,monthTotalData:t})}})),$l.getInterlineDrillDownData(m,h,s,e,t,a,o,r,l,u,g,d).then((function(e){i.setState({loading2:!1}),e&&i.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].rowData,drillDownColumn:i.addCellRender(e[0].columnName),tabName:"Null"===d?e[0].tabName:e[0].firstTabName,partnersId:e[0].currentAccess.partnersId,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,cityId:e[0].currentAccess.cityId,segmentId:e[0].currentAccess.segmentId,channelId:e[0].currentAccess.channelId})}))},n.getDrillDownData=function(e,t,a,o,r,l,i){var c=Object(je.a)(n),s=n.state,u=s.gettingYear,d=s.gettingMonth,m=s.getCabinValue,h=s.toggle,g=s.oneWorldValue;$l.getInterlineDrillDownData(u,h,d,e,t,a,o,r,l,m,g,i).then((function(e){c.setState({loading2:!1}),e&&(console.log(e,"result2"),c.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].rowData,drillDownColumn:c.addCellRender(e[0].columnName),tabName:"Null"===i?e[0].tabName:e[0].firstTabName,partnersId:e[0].currentAccess.partnersId,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,cityId:e[0].currentAccess.cityId,segmentId:e[0].currentAccess.segmentId,channelId:e[0].currentAccess.channelId}))}))},n.monthWiseCellClick=function(e){var t=Object(je.a)(n);t.sendEvent("2","clicked on Months row","Interline","Interline Page");var a=n.state,o=(a.gettingMonth,a.partnersId),r=a.regionId,l=a.countryId,i=a.cityId,c=a.segmentId,s=a.channelId,u=a.getCabinValue,d=a.type,m=(a.gettingYear,a.oneWorldValue),h=e.data.Month,g=e.colDef.field,p=(e.data.isUnderline,n.state.posMonthDetails.map((function(e){return e.highlightMe=!1,e})));if(e.api.updateRowData({update:p}),h.includes("Total ".concat(ei-1)))n.setState({showLastYearRows:!n.state.showLastYearRows,showNextYearRows:!1},(function(){return n.getLastYearClubbedData(n.state.showLastYearRows,h)}));else if(h.includes("Total ".concat(ei+1)))n.setState({showNextYearRows:!n.state.showNextYearRows,showLastYearRows:!1},(function(){return n.getNextYearClubbedData(n.state.showNextYearRows,h)}));else{t.setState({gettingMonth:e.data.MonthName,gettingYear:e.data.Year});var f={from:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)},to:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)}};window.localStorage.setItem("rangeValue",JSON.stringify(f))}"CY_RR"!==g||h.includes("Total")?"CY_AL"===g?n.props.history.push("/topMarkets"):"Month"!==g||h.includes("Total")||(t.setState({loading2:!0,drillDownData:[],drillDownTotalData:[]}),t.getDrillDownData(o,r,l,i,c,s,d)):(e.event.stopPropagation(),t.showLoader(),$l.getInterlineDetails(e.data.Year,e.data.MonthName,o,r,l,i,c,s,u,m).then((function(e){if(t.hideLoader(),e){var a=e[0].columnName,n=e[0].cabinData;t.setState({tableModalVisible:!0,modaldrillDownData:n,modaldrillDownColumn:a})}})))},n.regionCellClick=function(e){var t=Object(je.a)(n);t.sendEvent("2","clicked on Region drill down","Interline","Interline Page");var a,o=n.state,r=o.partnersId,l=o.regionId,i=o.countryId,c=o.cityId,s=o.segmentId,u=o.channelId,d=o.getCabinValue,m=o.oneWorldValue,h=e.colDef.field,g="'".concat(e.data.firstColumnName,"'"),p=e.data.firstColumnName,f=e.colDef.headerName;ai.map((function(e,t){return a=e.title===f})),"firstColumnName"===h&&(a||(n.storeValuesToLS(r,l,i,c,s,u,d,m,p),"Cabin"!==f&&(t.setState({selectedData:g}),ai.push({val:p,title:f})),"*"===r?"*"===u&&t.getMonthDrillDownData(g,l,i,c,s,u):"*"===l?"*"===u&&t.getMonthDrillDownData(r,g,i,c,s,u):"*"===i?"*"===u&&t.getMonthDrillDownData(r,l,g,c,s,u):"*"===c?"*"===u&&t.getMonthDrillDownData(r,l,i,g,s,u):"*"===s&&"*"===u&&t.getMonthDrillDownData(r,l,i,c,g,u)))},n.tabClick=function(e,t){var a=Object(je.a)(n);a.sendEvent("2","clicked on ".concat(e," tab"),"Interline","Interline Page");var o=n.state,r=o.partnersId,l=o.regionId,i=o.countryId,c=o.cityId,s=o.segmentId,u=o.channelId;a.setState({type:e,drillDownData:[],drillDownTotalData:[],loading2:!0}),t?n.setState({outerTab:!0}):n.setState({outerTab:!1}),a.getDrillDownData(r,l,i,c,s,u,e)},n.ChannelCellClick=function(e){var t=n.state.channelId,a=e.data.firstColumnName;console.log(a,"before"),"*"===t&&n.setState({channelId:a},(function(){return n.AgencyDetails()})),console.log(t,"after")},n.AgencyDetails=function(){var e=Object(je.a)(n),t=n.state,a=t.currency,o=t.gettingYear,r=t.gettingMonth,l=t.partnersId,i=t.regionId,c=t.countryId,s=t.cityId,u=(t.commonOD,t.segmentId),d=t.channelId,m=t.type,h=t.getCabinValue,g=t.oneWorldValue,p=(t.AgentsModalVisible,t.count);e.showLoader(),$l.getInterlineChannelDetails(a,o,r,l,i,c,s,u,d,h,g,m,p).then((function(t){e.hideLoader(),t&&(console.log(t,"result"),e.setState({AgentsModalVisible:!0,modaldrillDownChannelTotalData:t[0].totalData,modaldrillDownChannelData:t[0].rowData,modaldrillDownChannelColumn:t[0].columnName,tabName:"Null"===m?t[0].tabName:t[0].firstTabName,currentPage:t[0].currentPage,totalPages:t[0].totalPages,totalRecords:t[0].totalRecords,paginationSize:t[0].paginationSize,paginationEnd:e.state.paginationEnd<=0?t[0].paginationSize:e.state.paginationEnd},(function(){return e.renderAvailModal()})))}))},n.compartmentCellClick=function(e){var t=n.state;t.gettingMonth,t.regionId,t.countryId,t.cityId,t.commonOD,t.getCabinValue,t.gettingYear,e.colDef.field,e.data.firstColumnName},n.homeHandleClick=function(e){var t=Object(je.a)(n);if("#*"===JSON.parse(b.getCookie("userDetails")).access){t.sendEvent("2","clicked on Network","Interline","Interline Page"),t.setState({loading:!0,loading2:!0,firstHome:!1,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[],toggle:"bc"}),window.localStorage.setItem("PartnerSelected","Null"),window.localStorage.setItem("InterlineRegionSelected","Null"),window.localStorage.setItem("InterlineCountrySelected","Null"),window.localStorage.setItem("InterlineCitySelected","Null"),window.localStorage.setItem("SegmentSelected","Null"),window.localStorage.setItem("ChannelSelected","Null"),t.getMonthDrillDownData("*","*","*","*","*","*"),ai=[];var a=window.location.href.split("?")[0];window.history.pushState("object",document.title,a)}},n.listHandleClick=function(e,t,a){var o=Object(je.a)(n);o.sendEvent("2","clicked on Drill down list","Interline","Interline Page");var r=n.state,l=r.partnersId,i=r.regionId,c=r.countryId,s=r.cityId,u=r.segmentId,d=r.channelId,m=e;"'"!==m.charAt(0)&&"'"!==m.charAt(m.length-1)&&(m="'".concat(e,"'")),e.includes(",")&&(m="'".concat(e.split(",").join("','"),"'")),o.setState({selectedData:m,loading:!0,loading2:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var h=decodeURIComponent(t);if("List"===a){var g=ai.findIndex((function(e){return e.title==t})),p=ai.slice(0,g+1);ai=p,n.changeURLOnListClick(l,i,c,s,u,d,e,h)}else"browserBack"===a&&n.onBackPressClearLS(h);"Partners"===h&&o.getMonthDrillDownData(m,"*","*","*","*","*"),"Sales Region"===h?o.getMonthDrillDownData(l,m,"*","*","*","*"):"Country"===h?o.getMonthDrillDownData(l,i,m,"*","*","*"):"POS"===h?o.getMonthDrillDownData(l,i,c,m,"*","*"):"Segment"===h&&o.getMonthDrillDownData(l,i,c,s,m,"*")},n.oneWorldChange=function(e){var t=e.target.value,a=n.state,o=a.partnersId,r=a.regionId,l=a.countryId,i=a.cityId,c=a.segmentId,s=a.channelId;n.sendEvent("2","clicked on OneWorld Filter","Interline","Interline Page"),n.setState({oneWorldValue:"*"==t?t:"'".concat(t,"'")},(function(){return n.getMonthDrillDownData(o,r,l,i,c,s)}))},n.cabinSelectChange=function(e){e.preventDefault();var t=e.target.value;n.setState({getCabinValue:t,cabinSelectedDropDown:t},(function(){window.localStorage.setItem("CabinSelected",JSON.stringify(t))}))},n.toggle=function(e){var t=e.target.value,a=n.state,o=a.partnersId,r=a.regionId,l=a.countryId,i=a.cityId,c=a.segmentId,s=a.channelId;n.sendEvent("2","clicked on Currency toggle","Interline","Interline Page"),n.setState({toggle:t},(function(){return n.getMonthDrillDownData(o,r,l,i,c,s)}))},n.redirection=function(e){n.sendEvent("2","clicked on POS/Route drop down","Interline","Interline Page");var t=e.target.value,a=window.localStorage.getItem("RouteGroupSelected");a=null!==a?JSON.parse(a).join(","):"Network",n.url="/route?RouteGroup=".concat(a);var o=window.localStorage.getItem("RouteRegionSelected"),r=window.localStorage.getItem("RouteCountrySelected"),l=window.localStorage.getItem("RouteSelected"),i=window.localStorage.getItem("LegSelected"),c=window.localStorage.getItem("FlightSelected");null!==o&&"Null"!==o&&(o=JSON.parse(o),n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o))),null!==r&&"Null"!==r&&(r=JSON.parse(r),n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r))),null!==l&&"Null"!==l&&(l=JSON.parse(l),n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r),"&Route=").concat(H(l))),null!==i&&"Null"!==i&&""!==i&&(n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r),"&Route=").concat(H(l),"&Leg=").concat(H(i))),null!==c&&"Null"!==c&&""!==c&&(n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r),"&Route=").concat(H(l),"&Leg=").concat(H(i),"&Flight=").concat(H(c))),"POS"===t?(n.props.history.push("/pos"),ai=[]):(n.props.history.push(n.url),ai=[])},n.alerts=function(e){var t=e.value,a=e.colDef.headerName,o=document.createElement("span"),r=e.data.isAlert;if("0"!==(r=void 0!==r?r.toString():null)&&null!==r){var l=document.createElement("i");l.className="fa fa-bell",l.onclick=function(e){e.stopPropagation(),n.getAlertCardsData(a,t)},o.appendChild(l)}return o.appendChild(document.createTextNode(e.value)),o},n.getAlertCardsData=function(e,t){var a=n.state,o=(a.gettingMonth,a.gettingYear,a.regionId),r=a.countryId,l=a.cityId,i=(a.commonOD,a.getCabinValue),c=JSON.parse(b.getCookie("userDetails")),s=U(o),u=U(r),d=U(l),m=(U(i),"");"Cabin"!==e&&(m="user_id=".concat(c.id)),"Region"===e&&(m="".concat(m,"&regionId='").concat(encodeURIComponent(t),"'")),"Country"===e&&(m="".concat(m,"&regionId=").concat(s,"&countryId='").concat(encodeURIComponent(t),"'")),"POS"===e&&(m="".concat(m,"&regionId=").concat(s,"&countryId=").concat(u,"&cityId='").concat(encodeURIComponent(t),"'")),"O&D"===e&&(m="".concat(m,"&regionId=").concat(s,"&countryId=").concat(u,"&cityId=").concat(d,"&commonOD='").concat(encodeURIComponent(t),"'")),"Cabin"!==e&&L.get("getallalerts?".concat(m,"&infare=low")).then((function(e){if(e)if(e.data.response.length>0){var t=e.data.response;n.setState({alertData:t,alertVisible:!0})}else n.setState({alertData:[],alertVisible:!0})})).catch((function(e){}))},n.serialize=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")},n.showLoader=function(){w()("#loaderImage").addClass("loader-visible")},n.hideLoader=function(){w()("#loaderImage").removeClass("loader-visible"),w()(".x_panel").addClass("opacity-fade"),w()(".top-buttons").addClass("opacity-fade")},n.gotoFirstPage=function(){var e=n.state,t=(e.totalPages,e.paginationSize),a=e.totalRecords,o=a%t,r=o<t&&a<t?o:t;n.setState({count:1,paginationStart:1,paginationEnd:r},(function(){n.AgencyDetails()}))},n.gotoLastPage=function(){var e=n.state,t=e.totalPages,a=e.paginationSize,o=e.totalRecords,r=a*(t-1);console.log("Updating paginationEnd gotoLstPage"),n.setState({count:t,paginationStart:r+1,paginationEnd:o},(function(){return n.AgencyDetails()}))},n.gotoPreviousPage=function(){var e=n.state,t=e.count,a=e.currentPage,o=e.totalPages,r=e.paginationSize,l=e.paginationStart,i=e.paginationEnd,c=e.totalRecords%r,s=a===o&&c>0?c:r;n.setState({count:t-1,paginationStart:l-r,paginationEnd:i-s},(function(){return n.AgencyDetails()}))},n.gotoNextPage=function(){var e=n.state,t=e.count,a=e.currentPage,o=e.totalPages,r=e.paginationSize,l=e.paginationStart,i=e.paginationEnd,c=e.totalRecords%r,s=a===o-1&&c>0?c:r;n.setState({count:t+1,paginationStart:l+r,paginationEnd:i+s},(function(){return n.AgencyDetails()}))},n.renderTabs=function(){var e=n.state,t=e.tabName,a=e.outerTab,r=e.ancillary;return o.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},"Agent"===t||"Channel"===t||"Sales Region"===t||"Country"===t||"POS"===t||"Segment"===t||"Cabin"===t?o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Partners","outerTab")}},o.a.createElement("a",{href:"#Section2","aria-controls":"profile",role:"tab","data-toggle":"tab"},"Partner")):"","Agent"===t||"Channel"===t||"Cabin"===t||"Segment"===t?o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Sales Region")}},o.a.createElement("a",{href:"#Section3","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Sales Region")):"","Agent"===t||"Channel"===t||"Cabin"===t?o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Segment")}},o.a.createElement("a",{href:"#Section4","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Segment")):"","Agent"===t||"Channel"===t?o.a.createElement("li",{role:"presentation",className:"".concat(r?"active":""),onClick:function(){return n.tabClick("Cabin")}},o.a.createElement("a",{href:"#Section5","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Cabin")):"","Agent"===t?o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Channel")},className:"".concat("Channel"===a||"Agent"===t?"active":"")},o.a.createElement("a",{href:"#Section6","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Channel")):"",o.a.createElement("li",{role:"presentation",className:"".concat(r?"":"active"),onClick:function(){return n.tabClick("Null")}},o.a.createElement("a",{href:"#Section1","aria-controls":"home",role:"tab","data-toggle":"tab"},t)),"Partners"===t||"Sales Region"===t||"Country"===t||"POS"===t||"Segment"===t||"Cabin"===t||"Agent"===t||"Channel"===t?"":o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Partners")},className:a?"active":""},o.a.createElement("a",{href:"#Section2","aria-controls":"profile",role:"tab","data-toggle":"tab"},"Partners")),"Sales Region"===t||"Country"===t||"POS"===t||"Segment"===t||"Cabin"===t||"Agent"===t||"Channel"===t?"":o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Sales Region")}},o.a.createElement("a",{href:"#Section3","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Sales Region")),"Segment"===t||"Cabin"===t||"Agent"===t||"Channel"===t?"":o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Segment")}},o.a.createElement("a",{href:"#Section4","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Segment")),"Cabin"===t||"Agent"===t||"Channel"===t?"":o.a.createElement("li",{role:"presentation",className:"".concat(r?"active":""),onClick:function(){return n.tabClick("Cabin")}},o.a.createElement("a",{href:"#Section5","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Cabin")),"Agent"===t||"Channel"===t?"":o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Channel")},className:"".concat("Channel"===a||"Agent"===t?"active":"")},o.a.createElement("a",{href:"#Section6","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Channel")))},n.gridApiMonthly=function(e){n.gridApiMonth=e},n.pathName=window.location.pathname,n.selectedPartner=null,n.selectedRegion=null,n.selectedCountry=null,n.selectedCity=null,n.selectedChannel=null,n.gridApiMonth=null,n.state={posMonthDetails:[],monthTotalData:[],drillDownTotalData:[],monthcolumns:[],drillDownColumn:[],drillDownData:[],modaldrillDownColumn:[],modaldrillDownData:[],modaldrillDownChannelColumn:[],modaldrillDownChannelData:[],modaldrillDownChannelTotalData:[],modalData:[],availModalData:[],availModalColumn:[],availTotalData:[],availModalVisible:!1,tableDatas:!0,gettingMonth:null,gettingYear:null,gettingRegion:"Null",monthTableTitle:"NETWORK",tabLevel:"Null",cabinOption:[],alertData:[],getCabinValue:[],cabinSelectedDropDown:[],cabinDisable:!0,toggle:"bc",alertVisible:!1,tableModalVisible:!1,tabName:"Region",partnersId:"*",regionId:"*",countryId:"*",cityId:"*",segmentId:"*",channelId:"*",oneWorldValue:"*",type:"Null",baseAccess:"",selectedData:"Null",infareData:[],infareModalVisible:!1,AgentsModalVisible:!1,infareGraphHeading:"",loading:!1,loading2:!1,loading3:!1,currentPage:"",totalPages:"",totalRecords:"",paginationStart:1,paginationEnd:"",paginationSize:"",count:1,firstLoadList:!1,showLastYearRows:!1,showNextYearRows:!1,accessLevelDisable:!1,chartVisible:!1,forecastChartHeader:"",posMonthRowClassRule:{"highlight-row":"data.highlightMe"},firstHome:!0,infareCurrency:"",outerTab:!1,ancillary:!1,ensureIndexVisible:null},n.sendEvent("1","viewed Interline Page","pos","Interline page"),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=J("ancillary",window.location.href);this.setState({ancillary:t||!1}),e.getFiltersValue(),$l.getClassNameDetails().then((function(t){if(t){var a=t[0].classDatas;e.setState({cabinOption:a,cabinDisable:!1})}}))}},{key:"componentDidUpdate",value:function(){var e=this;window.onpopstate=function(t){var a=e.props.browserToProps.queryParams,n=Object.values(a),o=Object.keys(a),r=o.length-1;"undefined"!==n[0]?(e.pushURLToBcData(a,o,n,r),e.setState({firstHome:!0})):e.state.firstHome&&e.homeHandleClick()}}},{key:"pushURLToBcData",value:function(e,t,a,n){if(e.hasOwnProperty("Region")&&!ai.some((function(e){return"Region"===e.title}))){var o,r,l=e.Region,i=e.Region;l.includes(",")?l="'".concat(l.split(",").join("','"),"'"):"'"!==l.charAt(0)&&"'"!==l.charAt(l.length-1)&&(l="'".concat(l,"'")),"'"===i.charAt(0)&&"'"===i.charAt(i.length-1)?r=i.substring(1,i.length-1):i.includes(",")?(o=i.split(","),r=i):r=i,console.log("rahul Region",o),ai.push({val:r,title:"Region"}),this.setState({regionId:l});var c=i.includes(",")?o:[].concat([r]);window.localStorage.setItem("InterlineRegionSelected",JSON.stringify(c))}if(e.hasOwnProperty("Country")&&!ai.some((function(e){return"Country"===e.title}))){var s,u,d=e.Country,m=e.Country;d.includes(",")?d="'".concat(d.split(",").join("','"),"'"):"'"!==d.charAt(0)&&"'"!==d.charAt(d.length-1)&&(d="'".concat(d,"'")),"'"===m.charAt(0)&&"'"===m.charAt(m.length-1)?u=m.substring(1,m.length-1):m.includes(",")?(s=m.split(","),u=m):u=m,ai.push({val:u,title:"Country"}),this.setState({countryId:d});var h=m.includes(",")?s:[].concat([u]);window.localStorage.setItem("InterlineCountrySelected",JSON.stringify(h)),console.log("rahul Country",u,d)}if(e.hasOwnProperty("POS")&&!ai.some((function(e){return"POS"===e.title}))){var g,p,f=e.POS,v=e.POS;f.includes(",")?f="'".concat(f.split(",").join("','"),"'"):"'"!==f.charAt(0)&&"'"!==f.charAt(f.length-1)&&(f="'".concat(f,"'")),"'"===v.charAt(0)&&"'"===v.charAt(v.length-1)?p=v.substring(1,v.length-1):v.includes(",")?(g=v.split(","),p=v):p=v,ai.push({val:p,title:"POS"}),this.setState({cityId:f});var C=v.includes(",")?g:[].concat([p]);window.localStorage.setItem("InterlineCitySelected",JSON.stringify(C)),console.log("rahul POS",p,f)}if(e.hasOwnProperty("O%26D")&&!ai.some((function(e){return"O&D"===e.title}))&&(ai.push({val:e["O%26D"],title:"O&D"}),console.log("rahul OD",e["O%26D"]),this.setState({commonOD:e["O%26D"]}),window.localStorage.setItem("ODSelected",e["O%26D"])),console.log("rahul bcData before",ai,n,a[n],e),ai.length>0){var w=ai.slice(0,n+1);ai=w}console.log("rahul bcData after",ai),this.listHandleClick(a[n],t[n],"browserBack")}},{key:"getHighlightedMonth",value:function(e,t,a){var n=this,o=window.monthNameToNum(t),r=0;return e.filter((function(e,t){var l=e.Month,i="".concat(window.shortMonthNumToName(o)," ").concat(a);if(a!==ei-1&&e.Year===ei-1&&(r+=1),i===l&&(e.highlightMe=!0,n.setState({ensureIndexVisible:t-r})),a===ei){if(e.Month==="Total ".concat(ei-1)&&(e.Month="\u25ba Total ".concat(ei-1)),e.Month==="Total ".concat(ei+1)&&(e.Month="\u25ba Total ".concat(ei+1)),e.Year===ei||e.Month==="\u25ba Total ".concat(ei-1)||e.Month==="\u25ba Total ".concat(ei+1))return e}else if(a===ei+1){if(e.Month==="Total ".concat(ei-1)&&(e.Month="\u25ba Total ".concat(ei-1)),e.Month==="Total ".concat(ei+1)&&(e.Month="\u25bc Total ".concat(ei+1)),e.Year>=ei||e.Month==="\u25ba Total ".concat(ei-1)||e.Month==="\u25bc Total ".concat(ei+1))return e;n.setState({showNextYearRows:!0,showLastYearRows:!1})}else if(a===ei-1){if(e.Month==="Total ".concat(ei-1)&&(e.Month="\u25bc Total ".concat(ei-1)),e.Month==="Total ".concat(ei+1)&&(e.Month="\u25ba Total ".concat(ei+1)),e.Year<=ei||e.Month==="\u25bc Total ".concat(ei-1)||e.Month==="\u25ba Total ".concat(ei+1))return e;n.setState({showLastYearRows:!0,showNextYearRows:!1})}}))}},{key:"getHighlightedRow",value:function(e,t){return e.map((function(e,t){var a=e.Month;return a==="\u25bc Total ".concat(ei-1)||a==="\u25ba Total ".concat(ei-1)?e.highlightMe=!0:a!=="\u25bc Total ".concat(ei+1)&&a!=="\u25ba Total ".concat(ei+1)||(e.highlightMe=!0),e}))}},{key:"getLastYearClubbedData",value:function(e,t){if(e){var a=ti.filter((function(e){if(e.Month==="\u25ba Total ".concat(ei-1)&&(e.Month="\u25bc Total ".concat(ei-1)),e.Month==="\u25bc Total ".concat(ei+1)&&(e.Month="\u25ba Total ".concat(ei+1)),e.Year<=ei||e.Month==="\u25bc Total ".concat(ei-1)||e.Month==="\u25ba Total ".concat(ei+1))return e}));this.setState({posMonthDetails:this.getHighlightedRow(a,t)})}else{var n=ti.filter((function(e){if(e.Month==="\u25bc Total ".concat(ei-1)&&(e.Month="\u25ba Total ".concat(ei-1)),e.Month==="\u25bc Total ".concat(ei+1)&&(e.Month="\u25ba Total ".concat(ei+1)),e.Year===ei||e.Month==="\u25ba Total ".concat(ei-1)||e.Month==="\u25ba Total ".concat(ei+1))return e}));this.setState({posMonthDetails:this.getHighlightedRow(n,t)})}}},{key:"getNextYearClubbedData",value:function(e,t){if(e){var a=ti.filter((function(e){if(e.Month==="\u25ba Total ".concat(ei+1)&&(e.Month="\u25bc Total ".concat(ei+1)),e.Month==="\u25bc Total ".concat(ei-1)&&(e.Month="\u25ba Total ".concat(ei-1)),e.Year>=ei||e.Month==="\u25bc Total ".concat(ei+1)||e.Month==="\u25ba Total ".concat(ei-1))return e}));this.setState({posMonthDetails:this.getHighlightedRow(a,t)})}else{var n=ti.filter((function(e){if(e.Month==="\u25bc Total ".concat(ei+1)&&(e.Month="\u25ba Total ".concat(ei+1)),e.Month==="\u25bc Total ".concat(ei-1)&&(e.Month="\u25ba Total ".concat(ei-1)),e.Year===ei||e.Month==="\u25ba Total ".concat(ei+1)||e.Month==="\u25ba Total ".concat(ei-1))return e}));this.setState({posMonthDetails:this.getHighlightedRow(n,t)})}}},{key:"rectifyURLValues",value:function(e,t,a,n,o,r){Array.isArray(e)?this.selectedPartner=e.join(","):e.includes("','")?(this.selectedPartner=e.split("','").join(","),this.selectedPartner=this.selectedPartner.substring(1,this.selectedPartner.length-1)):(this.selectedPartner=e,this.selectedPartner=this.selectedPartner.substring(1,this.selectedPartner.length-1)),Array.isArray(t)?this.selectedRegion=t.join(","):t.includes("','")?(this.selectedRegion=t.split("','").join(","),this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)):(this.selectedRegion=t,this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)),Array.isArray(a)?this.selectedCountry=a.join(","):t.includes("','")?(this.selectedCountry=a.split("','").join(","),this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)):(this.selectedCountry=a,this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)),Array.isArray(n)?this.selectedCity=n.join(","):t.includes("','")?(this.selectedCity=n.split("','").join(","),this.selectedCity=this.selectedCity.substring(1,this.selectedCity.length-1)):(this.selectedCity=n,this.selectedCity=this.selectedCity.substring(1,this.selectedCity.length-1)),this.selectedSegment=o,this.selectedSegment=this.selectedSegment.substring(1,this.selectedSegment.length-1),this.selectedChannel=r,this.selectedChannel=this.selectedChannel.substring(1,this.selectedChannel.length-1)}},{key:"storeValuesToLS",value:function(e,t,a,n,o,r,l,i,c){var s=[],u=[],d=[],m=[],h=[],g=[],p=[];this.rectifyURLValues(e,t,a,n,o,r),"*"===e?(this.props.history.push("".concat(this.pathName,"?Partner=").concat(encodeURIComponent(c))),s.push(c),window.localStorage.setItem("PartnerSelected",JSON.stringify(s))):"*"===t?(this.props.history.push("".concat(this.pathName,"?Partner=").concat(encodeURIComponent(this.selectedPartner),"&Region=").concat(encodeURIComponent(c))),u.push(c),window.localStorage.setItem("InterlineRegionSelected",JSON.stringify(u))):"*"===a?(this.props.history.push("".concat(this.pathName,"?Partner=").concat(encodeURIComponent(this.selectedPartner),"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(c)),d.push(c),window.localStorage.setItem("InterlineCountrySelected",JSON.stringify(d))):"*"===n?(this.props.history.push("".concat(this.pathName,"?Partner=").concat(encodeURIComponent(this.selectedPartner),"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&POS=").concat(c)),m.push(c),window.localStorage.setItem("InterlineCitySelected",JSON.stringify(m))):"*"===o?(this.props.history.push("".concat(this.pathName,"?Partner=").concat(encodeURIComponent(this.selectedPartner),"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&POS=").concat(this.selectedCity,"&").concat(encodeURIComponent("Segment"),"=").concat(c)),h.push(c),window.localStorage.setItem("SegmentSelected",JSON.stringify(h))):"*"===r?(this.props.history.push("".concat(this.pathName,"?Partner=").concat(encodeURIComponent(this.selectedPartner),"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&POS=").concat(this.selectedCity,"&").concat(encodeURIComponent("Segment"),"=").concat(this.selectedSegment,"&channel=").concat(encodeURIComponent(c))),p.push(c),window.localStorage.setItem("ChannelSelected",JSON.stringify(p))):"Null"===l?(g.push(c),window.localStorage.setItem("CabinSelected",JSON.stringify(g))):"*"===i&&window.localStorage.setItem("OneWorldSelected",JSON.stringify(c))}},{key:"changeURLOnListClick",value:function(e,t,a,n,o,r,l,i){this.rectifyURLValues(e,t,a,n,o,r),"Partners"===i?(this.props.history.push("".concat(this.pathName,"?Partner=").concat(encodeURIComponent(l))),window.localStorage.setItem("InterlineRegionSelected","Null"),window.localStorage.setItem("InterlineCountrySelected","Null"),window.localStorage.setItem("InterlineCitySelected","Null"),window.localStorage.setItem("SegmentSelected","Null"),window.localStorage.setItem("ChannelSelected","Null")):"Sales Region"===i?(this.props.history.push("".concat(this.pathName,"?Partner=").concat(this.selectedPartner,"&Region=").concat(encodeURIComponent(l))),window.localStorage.setItem("InterlineCountrySelected","Null"),window.localStorage.setItem("InterlineCitySelected","Null"),window.localStorage.setItem("SegmentSelected","Null"),window.localStorage.setItem("ChannelSelected","Null")):"Country"===i?(this.props.history.push("".concat(this.pathName,"?Partner=").concat(this.selectedPartner,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(l)),window.localStorage.setItem("InterlineCitySelected","Null"),window.localStorage.setItem("SegmentSelected","Null"),window.localStorage.setItem("ChannelSelected","Null")):"POS"===i?(this.props.history.push("".concat(this.pathName,"?Partner=").concat(this.selectedPartner,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&POS=").concat(l)),window.localStorage.setItem("SegmentSelected","Null"),window.localStorage.setItem("ChannelSelected","Null")):"Segment"===i&&(this.props.history.push("".concat(this.pathName,"?Partner=").concat(this.selectedPartner,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&POS=").concat(this.selectedCity,"&").concat(encodeURIComponent("Segment"),"=").concat(l)),window.localStorage.setItem("ChannelSelected","Null"))}},{key:"onBackPressClearLS",value:function(e){"Partners"===e?(window.localStorage.setItem("InterlineRegionSelected","Null"),window.localStorage.setItem("InterlineCountrySelected","Null"),window.localStorage.setItem("InterlineCitySelected","Null"),window.localStorage.setItem("SegmentSelected","Null"),window.localStorage.setItem("ChannelSelected","Null")):"Sales Region"===e?(window.localStorage.setItem("InterlineCountrySelected","Null"),window.localStorage.setItem("InterlineCitySelected","Null"),window.localStorage.setItem("SegmentSelected","Null"),window.localStorage.setItem("ChannelSelected","Null")):"Country"===e?(window.localStorage.setItem("InterlineCitySelected","Null"),window.localStorage.setItem("SegmentSelected","Null"),window.localStorage.setItem("ChannelSelected","Null")):"POS"===e?(window.localStorage.setItem("SegmentSelected","Null"),window.localStorage.setItem("ChannelSelected","Null")):"Segment"===e&&window.localStorage.setItem("ChannelSelected","Null")}},{key:"onCabinClose",value:function(){var e=this;this.sendEvent("2","clicked on Cabin drop down","Interline","Interline Page"),this.state.cabinSelectedDropDown.length>0?this.getDataOnCabinChange():(this.setState({getCabinValue:"Null"},(function(){return e.getDataOnCabinChange()})),window.localStorage.setItem("CabinSelected","Null"))}},{key:"getDataOnCabinChange",value:function(){this.setState({loading:!0,loading2:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var e=this.state,t=e.partnersId,a=e.regionId,n=e.countryId,o=e.cityId,r=e.segmentId,l=e.channelId;this.getMonthDrillDownData(t,a,n,o,r,l)}},{key:"addCellRender",value:function(e){var t=this;return e.map((function(e){return"firstColumnName"===e.field&&(e.cellRenderer=t.alerts),e.children&&(e.children=t.addCellRender(e.children)),e}))}},{key:"renderAvailModal",value:function(){var e=this;return console.log(this.state,"state"),o.a.createElement("div",null,o.a.createElement(Oe.a,{show:this.state.AgentsModalVisible,onHide:function(){return e.setState({AgentsModalVisible:!1,channelId:"*",currentPage:"",totalPages:"",totalRecords:"",paginationStart:1,paginationEnd:"",paginationSize:"",count:1})},"aria-labelledby":"ModalHeader",className:"InterlineChannelModal"},o.a.createElement(Oe.a.Header,{closeButton:!0},o.a.createElement(Oe.a.Title,{id:"ModalHeader"},"Agents Detail")),o.a.createElement(Oe.a.Body,null,o.a.createElement("div",{className:"root"},o.a.createElement(Da,{rowData:this.state.modaldrillDownChannelData,columnDefs:this.state.modaldrillDownChannelColumn,autoHeight:"autoHeight"}),o.a.createElement(ba,{rowData:this.state.modaldrillDownChannelTotalData,columnDefs:this.state.modaldrillDownChannelColumn,loading:this.state.loading,responsive:!0,reducingPadding:!0}),o.a.createElement(sl,{paginationStart:this.state.paginationStart,paginationEnd:this.state.paginationEnd,totalRecords:this.state.totalRecords,currentPage:this.state.currentPage,TotalPages:this.state.totalPages,gotoFirstPage:function(){return e.gotoFirstPage()},gotoLastPage:function(){return e.gotoLastPage()},gotoPreviousPage:function(){return e.gotoPreviousPage()},gotoNexttPage:function(){return e.gotoNextPage()}})))))}},{key:"render",value:function(){var e=this,t=this.state,a=t.cabinOption,n=t.cabinSelectedDropDown,r=t.cabinDisable,l=t.accessLevelDisable,i=(t.outerTab,t.ancillary);return o.a.createElement("div",{className:"interline-details"},o.a.createElement(Dr,null),o.a.createElement(ta,this.props),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top"},o.a.createElement("div",{className:"navdesign",style:{marginTop:"0px"}},o.a.createElement("div",{className:"col-md-7 col-sm-7 col-xs-7 toggle1"},o.a.createElement("h2",null," Interline Report Page "),o.a.createElement("section",null,o.a.createElement("nav",null,o.a.createElement("ol",{className:"cd-breadcrumb"},o.a.createElement("div",{style:{cursor:l?"not-allowed":"pointer"}},o.a.createElement("li",{className:"".concat(l?"breadcrumb-disable":""),onClick:function(){return e.homeHandleClick()}}," ","Network"," ")),this.state.firstLoadList?"":ai.map((function(t){return o.a.createElement("div",{style:{cursor:t.disable?"not-allowed":"pointer"}},o.a.createElement("li",{className:"".concat(t.disable?"breadcrumb-disable":""),onClick:function(a){return e.listHandleClick(a.target.id,t.title,"List")},id:t.val,title:"".concat(t.title," : ").concat(t.val)}," > ".concat(t.val)))})))))),o.a.createElement("div",{className:"col-md-5 col-sm-5 col-xs-5 toggle2"},o.a.createElement("h4",null,"One World"),o.a.createElement("select",{className:"form-control cabinselect currency-dropdown",onChange:function(t){return e.oneWorldChange(t)}},o.a.createElement("option",{value:"*",selected:"*"===this.state.countryId||"bc"===this.state.toggle}," All "),o.a.createElement("option",{value:"Yes"},"Yes"),o.a.createElement("option",{value:"No"},"No")),o.a.createElement("div",{className:"cabin-selection"},o.a.createElement("h4",null,"Select Cabin"),o.a.createElement(gt.a,{className:"select-group"},o.a.createElement(mt.a,{id:"demo-mutiple-checkbox-label"},"All"),o.a.createElement(ft.a,{labelId:"demo-mutiple-checkbox-label",className:"".concat(r?"disable":""),id:"demo-mutiple-checkbox",multiple:!0,value:n,onChange:function(t){return e.cabinSelectChange(t)},input:o.a.createElement(dt.a,null),renderValue:function(e){return e.join(",")},onClose:function(){return e.onCabinClose()},MenuProps:{classes:"disable"}},a.map((function(e){return o.a.createElement(ht.a,{key:e.ClassValue,value:e.ClassValue},o.a.createElement(vt.a,{checked:n.indexOf(e.ClassText)>-1}),o.a.createElement(pt.a,{primary:e.ClassText}))}))))),o.a.createElement("h4",null,"Select Currency"),o.a.createElement("select",{className:"form-control cabinselect currency-dropdown",onChange:function(t){return e.toggle(t)},disabled:"*"===this.state.countryId},o.a.createElement("option",{value:"bc",selected:"*"===this.state.countryId||"bc"===this.state.toggle},"BC"),o.a.createElement("option",{value:"lc"},"LC")))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},o.a.createElement("div",{className:"x_panel",style:{marginTop:"10px",height:"calc(100vh - 130px)"}},o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{gridApi:this.gridApiMonthly,rowData:this.state.posMonthDetails,columnDefs:this.state.monthcolumns,loading:this.state.loading,onCellClicked:function(t){return e.monthWiseCellClick(t)},frameworkComponents:{customHeaderGroupComponent:Ql},rowClassRules:this.state.posMonthRowClassRule,pos:!0,ensureIndexVisible:this.state.ensureIndexVisible}),o.a.createElement(ba,{rowData:this.state.monthTotalData,columnDefs:this.state.monthcolumns,loading:this.state.loading,frameworkComponents:{customHeaderGroupComponent:Ql},responsive:!0,reducingPadding:!0}),o.a.createElement("div",{className:"tab",id:"posTableTab",role:"tabpanel",style:{marginTop:"10px"}},this.renderTabs(),o.a.createElement("div",{className:"tab-content tabs"},o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in ".concat(i?"":"active"),id:"Section1"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.regionCellClick(t)},loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section2"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section3"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section4"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in ".concat(i?"active":""),id:"Section5"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in ".concat(i?"active":""),id:"Section6"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.ChannelCellClick(t)},loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})))))))),o.a.createElement("div",null,o.a.createElement(pr,{tableModalVisible:this.state.tableModalVisible,rowData:this.state.modaldrillDownData,columns:this.state.modaldrillDownColumn,header:"".concat(this.state.gettingMonth," ").concat(this.state.gettingYear," > Revenue Received"),loading:this.state.loading3,interline:!0}),o.a.createElement(mr,{alertVisible:this.state.alertVisible,alertData:this.state.alertData,closeAlertModal:function(){return e.setState({alertVisible:!1})}}),this.renderAvailModal(),o.a.createElement(_r,{chartVisible:this.state.chartVisible,displayName:this.state.forecastChartHeader,gettingYear:this.state.gettingYear,gettingMonth:this.state.gettingMonth,forecast:!0,closeChartModal:function(){return e.setState({chartVisible:!1})}})))}}]),a}(n.Component),oi=Object(Nr.a)(ni),ri=(a(1032),new Te),li=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e,t,a,n){var o={event_id:"".concat(e),description:"User ".concat(t),where_path:"/".concat(a),page_name:"".concat(n," Page")};R.sendEvent(o)},n.getDataLoadIndicator=function(){var e=Object(je.a)(n);e.setState({loading:!0}),ri.getDataLoadIndicator().then((function(t){if(e.setState({loading:!1}),t){var a=t[0].columnName,n=t[0].rowData;e.setState({rowData:n,column:a})}}))},n.state={rowData:[],column:[],loading:!1},n.sendEvent("1","viewed Data Load Indicator Page","dataLoadIndicator","Data Load Indicator"),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){Ze("Data Load Indicator","dataLoadIndicator")?this.getDataLoadIndicator():this.props.history.push("/404")}},{key:"render",value:function(){var e=this.state.loading;return o.a.createElement("div",{className:"DataLoadIndicator"},o.a.createElement(ta,this.props),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 DataLoadIndicator-main"},o.a.createElement("div",{className:"navdesign"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top-heading"},o.a.createElement("section",null,o.a.createElement("h2",null,"Data Load Indicator"))),o.a.createElement("div",{className:"x_content",style:{marginTop:"15px",padding:"10px"}},o.a.createElement(Da,{rowData:this.state.rowData,columnDefs:this.state.column,loading:e,channel:!0}))))))}}]),a}(n.Component),ii=a(1142),ci=a(1134),si=a(1143),ui=a(643),di=a.n(ui),mi=(a(308),a(1033),_),hi=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getDefaultHeader=function(){return{headers:{Authorization:b.getCookie("Authorization")}}},n.componentDidMount=function(){n.rpsChecks()},n.rpsChecks=function(){var e=window.localStorage.getItem("regionSelected");y.a.fire({title:"Processing",text:"Checking Data Availability",icon:"info",confirmButtonText:"Ok"}),y.a.showLoading(),v.a.get("".concat(mi,"/RPSDataAvailability?regionId=").concat(e),n.getDefaultHeader()).then((function(e){y.a.fire({title:"Completed",text:"Process has been Completed",icon:"success",confirmButtonText:"Ok"});var t=e.data.response;n.setState({dataAvailable:!0,YearsAvailable:t,CYear:t.CurrentYear_response[0].year,TYear:t.TargetYear_response[0].year,ChannelYear:t.channel_response[0].YearCalendar,SegmentationYear:t.segment_response[0].YearCalendar},(function(){return n.StoreValues()}))})).catch((function(e){console.log(e,"error"),n.setState({dataAvailable:!0},(function(){return n.StoreValues()}))}))},n.valuetext=function(e){return e},n.valuetextRight=function(e){return e},n.handleChange=function(e,t){var a=n.state,o=(a.value,a.flownValue);if(console.log(t[0],t[1],"check"),t[0]+4<t[1])alert("Cannot Select More Than 5 Years");else if(t[0]==t[1]){console.log("1Year");var r=[];r[0]=t[0],n.setState({value:t,flownValue:r,flownValueLength:r.length,firstInputValue:50,secondInputValue:50,thirdInputValue:0,fourthInputValue:0,sixthInputValue:25,seventhInputValue:25,eightthInputValue:0,ninthInputValue:0}),console.log(o.length,"length")}else if(t[0]+1==t[1]){console.log("2Year");var l=[];l[0]=t[0],l[1]=t[1],n.setState({value:t,flownValue:l,flownValueLength:l.length,secondInputValue:50,thirdInputValue:0,fourthInputValue:0,seventhInputValue:25,eightthInputValue:0,ninthInputValue:0,zeroInputValue:""}),console.log(o.length,"length")}else if(t[0]+2==t[1]){console.log("3Year");var i=[];i[0]=t[0],i[1]=t[0]+1,i[2]=t[1],n.setState({value:t,flownValue:i,flownValueLength:i.length,thirdInputValue:0,fourthInputValue:0,eightthInputValue:0,ninthInputValue:0,zeroInputValue:""}),console.log(o.length,"length")}else if(t[0]+3==t[1]){console.log("4Year");var c=[];c[0]=t[0],c[1]=t[0]+1,c[2]=t[0]+2,c[3]=t[1],n.setState({value:t,flownValue:c,flownValueLength:c.length,fourthInputValue:0,ninthInputValue:0,zeroInputValue:""}),console.log(o.length,"length")}else if(t[0]+4==t[1]){console.log("5Year");var s=[];s[0]=t[0],s[1]=t[0]+1,s[2]=t[0]+2,s[3]=t[0]+3,s[4]=t[1],n.setState({value:t,flownValue:s,flownValueLength:s.length,zeroInputValue:""}),console.log(o.length,"length")}else{alert("Cannot Select More Than 5 Years")}1==n.state.flownValue.length&&n.setState({zeroInputValue:"Null",WPGFFirstControlValue:0,WPGFLastControlValue:0})},n.handleWPGFControlChange=function(e,t){n.setState({WPGFControlvalue:t,WPGFFirstControlValue:t[0],WPGFLastControlValue:[1]})},n.handleCabinFChange=function(e,t){n.setState({CabinFValue:t,CabinFirstFValue:t[0],CabinLastFValue:t[1]})},n.handleCabinJChange=function(e,t){n.setState({CabinJValue:t,CabinFirstJValue:t[0],CabinLastJValue:t[1]})},n.handleCabinYChange=function(e,t){n.setState({CabinYValue:t,CabinFirstYValue:t[0],CabinLastYValue:t[1]})},n.CurrentYear=function(e){e.persist(),n.setState({CYear:e.target.value})},n.TargetYear=function(e){var t=e.target.value;n.setState({TYear:t})},n.ChannelYear=function(e){var t=e.target.value;n.setState({ChannelYear:t})},n.SegmentationYear=function(e){var t=e.target.value;n.setState({SegmentationYear:t})},n.firstInput=function(e){e.persist(),n.setState({firstInputValue:e.target.value})},n.secondInput=function(e){e.persist(),n.setState({secondInputValue:e.target.value})},n.thirdInut=function(e){e.persist(),n.setState({thirdInputValue:e.target.value})},n.fourthInput=function(e){e.persist(),n.setState({fourthInputValue:e.target.value})},n.fifthInput=function(e){e.persist(),n.setState({fifthInputValue:e.target.value})},n.sixthInput=function(e){e.persist(),n.setState({sixthInputValue:e.target.value})},n.seventhInput=function(e){e.persist(),n.setState({seventhInputValue:e.target.value})},n.eightthInput=function(e){e.persist(),n.setState({eightthInputValue:e.target.value})},n.ninthInput=function(e){e.persist(),n.setState({ninthInputValue:e.target.value})},n.tenthInput=function(e){e.persist(),n.setState({tenthInputValue:e.target.value})},n.eleventhInput=function(e){e.persist(),n.setState({eleventhInputValue:e.target.value})},n.twelthInput=function(e){e.persist(),n.setState({twelthInputValue:e.target.value})},n.thirteenthInput=function(e){e.persist(),n.setState({thirteenthInputValue:e.target.value})},n.StoreValues=function(){var e,t=n.state,a=t.flownValue,o=t.flownValueLength,r=t.WPGFFirstControlValue,l=t.WPGFLastControlValue,i=t.CabinFirstFValue,c=t.CabinLastFValue,s=t.CabinFirstJValue,u=t.CabinLastJValue,d=t.CabinFirstYValue,m=t.CabinLastYValue,h=t.CYear,g=t.TYear,f=t.zeroInputValue,v=t.firstInputValue,C=t.secondInputValue,w=t.thirdInputValue,_=t.fourthInputValue,D=t.fifthInputValue,b=t.sixthInputValue,S=t.seventhInputValue,y=t.eightthInputValue,N=t.ninthInputValue,T=t.tenthInputValue,A=t.eleventhInputValue,R=t.twelthInputValue,V=t.thirteenthInputValue,Y=t.ChannelYear,E=t.SegmentationYear,L=(e={FlownValue:a,FlownValueLength:o,WPGFFirstValue:r,WPGFLastValue:l,CabinFirstFValue:i,CabinLastFValue:c,CabinFirstJValue:s,CabinLastJValue:u,CabinFirstYValue:d,CabinLastYValue:m},Object(p.a)(e,"CabinLastYValue",m),Object(p.a)(e,"CYearValue",h),Object(p.a)(e,"TYearValue",g),Object(p.a)(e,"ZeroInputValue",f),Object(p.a)(e,"FirstInputValue",v),Object(p.a)(e,"SecondInputValue",C),Object(p.a)(e,"ThirdInputValue",w),Object(p.a)(e,"FourthInputValue",_),Object(p.a)(e,"FifthInputValue",D),Object(p.a)(e,"SixthInputValue",b),Object(p.a)(e,"SeventhInputValue",S),Object(p.a)(e,"EightthInputValue",y),Object(p.a)(e,"NinthInputValue",N),Object(p.a)(e,"TenthInputValue",T),Object(p.a)(e,"EleventhInputValue",A),Object(p.a)(e,"TwelthInputValue",R),Object(p.a)(e,"ThirteenthInputValue",V),Object(p.a)(e,"ChannelYearValue",Y),Object(p.a)(e,"SegmentationYearValue",E),e);window.localStorage.setItem("RPSAdminScreenValues",JSON.stringify(L))},n.SubmitValues=function(){var e=n.state,t=e.flownValue,a=e.flownValueLength,o=e.WPGFFirstControlValue,r=e.WPGFLastControlValue,l=e.CabinFirstFValue,i=e.CabinLastFValue,c=e.CabinFirstJValue,s=e.CabinLastJValue,u=e.CabinFirstYValue,d=e.CabinLastYValue,m=e.CYear,h=e.TYear,g=e.zeroInputValue,f=e.firstInputValue,C=e.secondInputValue,w=e.thirdInputValue,_=e.fourthInputValue,D=e.fifthInputValue,b=e.sixthInputValue,S=e.seventhInputValue,N=e.eightthInputValue,T=e.ninthInputValue,A=e.tenthInputValue,R=e.eleventhInputValue,V=e.twelthInputValue,Y=e.thirteenthInputValue,E=e.ChannelYear,L=e.SegmentationYear,k=parseInt(f)+parseInt(C)+parseInt(w)+parseInt(_),B=parseInt(D)+parseInt(b)+parseInt(S)+parseInt(N)+parseInt(T);if(console.log(k,B,g,"totalvalue"),100==k&&100==B||"Null"==g&&100==B){var I,O=(I={FlownValue:t,FlownValueLength:a,WPGFFirstValue:o,WPGFLastValue:r,CabinFirstFValue:l,CabinLastFValue:i,CabinFirstJValue:c,CabinLastJValue:s,CabinFirstYValue:u,CabinLastYValue:d},Object(p.a)(I,"CabinLastYValue",d),Object(p.a)(I,"CYearValue",m),Object(p.a)(I,"TYearValue",h),Object(p.a)(I,"ZeroInputValue",g),Object(p.a)(I,"FirstInputValue",f),Object(p.a)(I,"SecondInputValue",C),Object(p.a)(I,"ThirdInputValue",w),Object(p.a)(I,"FourthInputValue",_),Object(p.a)(I,"FifthInputValue",D),Object(p.a)(I,"SixthInputValue",b),Object(p.a)(I,"SeventhInputValue",S),Object(p.a)(I,"EightthInputValue",N),Object(p.a)(I,"NinthInputValue",T),Object(p.a)(I,"TenthInputValue",A),Object(p.a)(I,"EleventhInputValue",R),Object(p.a)(I,"TwelthInputValue",V),Object(p.a)(I,"ThirteenthInputValue",Y),Object(p.a)(I,"ChannelYearValue",E),Object(p.a)(I,"SegmentationYearValue",L),I);window.localStorage.setItem("RPSAdminScreenValues",JSON.stringify(O)),y.a.fire({title:"Processing",text:"Demand Estimation process has been started, once the process complete we will notify you.",icon:"info",confirmButtonText:"Ok"}),y.a.showLoading(),v.a.get("".concat(mi,"/RPSDECalculation?flownValue=").concat(t,"&flownValueLength=").concat(a,"&WPGFControlInitialValue=").concat(o,"&WPGFControlFinalValue=").concat(r,"&CabinFValueInitial=").concat(l,"&CabinFValueFinal=").concat(i,"&CabinJValueInitial=").concat(c,"&CabinJValueFinal=").concat(s,"&CabinYValueInitial=").concat(u,"&CabinYValueFinal=").concat(d,"&CurrentYear=").concat(m,"&TargetYear=").concat(h,"&WPGFfirstInput=").concat(f,"&WPGFsecondInput=").concat(C,"&WPGFthirdInput=").concat(w,"&WPGFfourthInput=").concat(_,"&WMSFfifthInput=").concat(D,"&WMSFsixthInput=").concat(b,"&WMSFseventhInput=").concat(S,"&WMSFeightthInput=").concat(N,"&WMSFninthInput=").concat(T,"&tenthInput=").concat(A,"&eleventhInput=").concat(R,"&twelthInput=").concat(V,"&thirteenthInput=").concat(Y,"&channelYear=").concat(E,"&segmentationYear=").concat(L),n.getDefaultHeader()).then((function(e){y.a.fire({title:"Completed",text:"Process has been Completed",icon:"success",confirmButtonText:"Ok"}),n.props.history.push("/rpsPos")})).catch((function(e){y.a.fire({title:"Failed",text:"Process has been failed Please Retry else Contact Revemax",icon:"error",confirmButtonText:"Ok"})}))}else alert("Growth Parameters Weightage Must Be Equal to 100 ! ")},n.showLoader=function(){w()("#loaderImage").addClass("loader-visible")},n.state={value:[2017,2019],flownValue:[2017,2018,2019],flownValueLength:3,WPGFControlvalue:[-100,100],WPGFFirstControlValue:-100,WPGFLastControlValue:100,CabinFValue:[500,155e3],CabinFirstFValue:500,CabinLastFValue:155e3,CabinJValue:[250,125e3],CabinFirstJValue:250,CabinLastJValue:125e3,CabinYValue:[100,6e4],CabinFirstYValue:100,CabinLastYValue:6e4,CYear:(new Date).getFullYear(),TYear:(new Date).getFullYear()+1,ChannelYear:(new Date).getFullYear(),SegmentationYear:(new Date).getFullYear(),YearsAvailable:[],dataAvailable:!1,zeroInputValue:"",firstInputValue:50,secondInputValue:50,thirdInputValue:0,fourthInputValue:0,fifthInputValue:50,sixthInputValue:25,seventhInputValue:25,eightthInputValue:0,ninthInputValue:0,tenthInputValue:"10",eleventhInputValue:"4",twelthInputValue:"6",thirteenthInputValue:"10"},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.value,o=t.WPGFControlvalue,r=t.dataAvailable,l=t.CabinFValue,i=t.CabinJValue,c=t.CabinYValue,s=t.flownValue,u=t.YearsAvailable,d=this.state,m=d.firstInputValue,h=d.secondInputValue,g=d.thirdInputValue,p=d.fourthInputValue,f=d.flownValueLength,v=d.fifthInputValue,C=d.sixthInputValue,w=d.seventhInputValue,_=d.eightthInputValue,D=d.ninthInputValue,b=d.zeroInputValue,S=parseInt(m)+parseInt(h)+parseInt(g)+parseInt(p);return console.log(b,m,h,g,p,S,f,v,C,w,_,D,"totalvalue"),n.createElement("div",{className:"pos-details"},n.createElement(ta,Object.assign({dashboardPath:"/posDashboard"},this.props)),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top"},n.createElement("div",{className:"navdesign",style:{marginTop:"0px"}},n.createElement("div",{className:"col-md-7 col-sm-7 col-xs-7 toggle1  rpsSelectionHeading "},n.createElement("h3",null,"RPS Selection Page"))))),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},n.createElement("div",{className:"x_panel MainPageBox",style:{marginTop:"10px",height:"calc(100vh - 130px)",display:"flex",flexWrap:"wrap"}},r?n.createElement("div",{className:"upperBoxes"},n.createElement("div",{className:"OuterContainer leftBox"},n.createElement("h2",null,"Data Loading "),n.createElement("div",null,n.createElement("div",{className:"Boxes1"},n.createElement("div",{style:{marginLeft:"1%"}},n.createElement(si.a,{style:{marginBottom:"6%",fontSize:"2vh"}},"Flown Data"),n.createElement(ii.a,{sx:{width:"100%",display:"flex",marginLeft:"4%","& .MuiSlider-thumb":{height:"12px",width:"10px"},"& .MuiSlider-track":{height:3}}},n.createElement(ci.a,{getAriaLabel:function(){return"Temperature range"},min:u.flown_response[0].yearCalendar,max:u.flown_response[u.flown_response.length-1].yearCalendar,value:a,onChange:function(t,a){return e.handleChange(t,a)},valueLabelDisplay:"on",getAriaValueText:this.valuetext})))),n.createElement("div",{className:"Boxes1"},n.createElement("div",{style:{marginLeft:"1%"}},n.createElement(si.a,{style:{marginBottom:"6%"}},n.createElement("p",{className:"MIDTReal"},"MIDT",n.createElement("p",{className:"MIDT"},"Marketing Information Data Tapes"))),n.createElement(ii.a,{sx:{width:"100%",marginLeft:"4%","& .MuiSlider-thumb":{height:"12px",width:"10px"}}},n.createElement(ci.a,{getAriaLabel:function(){return"Temperature range"},min:u.MIDT_response[0].yearCalendar,max:u.MIDT_response[u.MIDT_response.length-1].yearCalendar,value:a,onChange:this.handleChange,valueLabelDisplay:"on",getAriaValueText:this.valuetext}))))),n.createElement("p",{style:{marginLeft:"3%"}},"Capacity Data "),n.createElement("div",{className:"Boxes2"},n.createElement("div",{style:{marginRight:"8%"}},n.createElement("h4",null,"Current Year: "),n.createElement("select",{className:"form-control cabinselect currency-dropdown",onChange:function(t){return e.CurrentYear(t)}},u.CurrentYear_response.map((function(e){return n.createElement("option",{value:e.year},e.year)})))),n.createElement("div",null,n.createElement("h4",null,"Target Year: "),n.createElement("select",{className:"form-control cabinselect currency-dropdown",onChange:function(t){return e.TargetYear(t)}},u.TargetYear_response.map((function(e){return n.createElement("option",{value:e.year},e.year)})))))),n.createElement("div",{className:"rightBox"},n.createElement("h2",null,"Growth Parameters"),n.createElement("div",{className:"Box3-1 wpgf-style"},n.createElement("p",{className:"WPGFReal"},"WPGF",n.createElement("p",{className:"WPGF"},"Weighted Passenger Growth Factor")),n.createElement("div",{style:{display:"flex",marginTop:"-10px",marginLeft:"40px"}},1==s.length?n.createElement("div",{style:{marginLeft:"5%"}},n.createElement("div",{style:{display:"flex",borderColor:"#2e303f"}},n.createElement("input",{type:"text",className:"form-control",value:"No Selection",maxLength:"2",style:{backgroundColor:"#2e303f",width:"60%",height:"4vh"}}))):"",2==s.length||3==s.length||4==s.length||5==s.length?n.createElement("div",{style:{marginLeft:"5%"}},n.createElement("div",{style:{display:"flex"}},n.createElement("input",{type:"text",className:"form-control",defaultValue:50,onChange:function(t){return e.firstInput(t)},maxLength:"3",style:{backgroundColor:"#2e303f",width:"26%",height:"4vh"}}),n.createElement("span",{className:"percentSuffix"}," % ")),n.createElement("p",{style:{fontSize:"1.3rem",marginLeft:"8%"}},a[1])):"",3==s.length||4==s.length||5==s.length?n.createElement("div",null,n.createElement("div",{style:{display:"flex"}},n.createElement("input",{type:"text",className:"form-control",defaultValue:50,onChange:function(t){return e.secondInput(t)},maxLength:"2",style:{backgroundColor:"#2e303f",width:"26%",height:"4vh"}}),n.createElement("span",{className:"percentSuffix"}," % ")),n.createElement("p",{style:{fontSize:"1.3rem",marginLeft:"8%"}},a[1]-1)):"",4==s.length||5==s.length?n.createElement("div",null,n.createElement("div",{style:{display:"flex"}},n.createElement("input",{type:"text",className:"form-control",defaultValue:0,onChange:function(t){return e.thirdInut(t)},maxLength:"2",style:{backgroundColor:"#2e303f",width:"26%",height:"4vh"}}),n.createElement("span",{className:"percentSuffix"}," % ")),n.createElement("p",{style:{fontSize:"1.3rem",marginLeft:"8%"}},a[1]-2)):"",5==s.length?n.createElement("div",{style:{marginLeft:"5%"}},n.createElement("div",{style:{display:"flex"}},n.createElement("input",{type:"text",className:"form-control",defaultValue:0,onChange:function(t){return e.fourthInput(t)},maxLength:"2",style:{backgroundColor:"#2e303f",width:"26%",height:"4vh"}}),n.createElement("span",{className:"percentSuffix"}," % ")),n.createElement("p",{style:{fontSize:"1.3rem",marginLeft:"8%"}},a[1]-3)):"")),n.createElement("div",{className:"Box3-1 wpgf-style bordercolor"},n.createElement("p",{className:"WPGFReal ",style:{marginTop:"-7px"}},"WMSF",n.createElement("p",{className:"WPGF"},"Weighted Market Share Factor")),n.createElement("div",{style:{display:"flex",marginTop:"-10px",marginLeft:"40px"}},2==s.length||1==s.length||3==s.length||4==s.length||5==s.length?n.createElement("div",{style:{marginLeft:"3%"}},n.createElement("div",{style:{display:"flex"}},n.createElement("input",{type:"text",className:"form-control",defaultValue:50,onChange:function(t){return e.fifthInput(t)},maxLength:"3",style:{backgroundColor:"#2e303f",width:"26%",height:"4vh"}}),n.createElement("span",{className:"percentSuffix"}," % ")),n.createElement("p",{style:{fontSize:"1.3rem",marginLeft:"8%"}},a[1])):"",2==s.length||3==s.length||4==s.length||5==s.length?n.createElement("div",null,n.createElement("div",{style:{display:"flex"}},n.createElement("input",{type:"text",className:"form-control",defaultValue:25,onChange:function(t){return e.sixthInput(t)},maxLength:"2",style:{backgroundColor:"#2e303f",width:"26%",height:"4vh",marginLeft:"-2px"}}),n.createElement("span",{className:"percentSuffix"}," % ")),n.createElement("p",{style:{fontSize:"1.3rem",marginLeft:"8%"}},a[1]-1)):"",3==s.length||4==s.length||5==s.length?n.createElement("div",null,n.createElement("div",{style:{display:"flex"}},n.createElement("input",{type:"text",className:"form-control",defaultValue:25,onChange:function(t){return e.seventhInput(t)},maxLength:"2",style:{backgroundColor:"#2e303f",width:"26%",height:"4vh"}}),n.createElement("span",{className:"percentSuffix"}," % ")),n.createElement("p",{style:{fontSize:"1.3rem",marginLeft:"8%"}},a[1]-2)):"",4==s.length||5==s.length?n.createElement("div",{style:{marginLeft:"5%"}},n.createElement("div",{style:{display:"flex"}},n.createElement("input",{type:"text",className:"form-control",defaultValue:0,onChange:function(t){return e.eightthInput(t)},maxLength:"2",style:{backgroundColor:"#2e303f",width:"26%",height:"4vh"}}),n.createElement("span",{className:"percentSuffix"}," % ")),n.createElement("p",{style:{fontSize:"1.3rem",marginLeft:"8%"}},a[1]-3)):"",5==s.length?n.createElement("div",{style:{marginLeft:"5%"}},n.createElement("div",{style:{display:"flex"}},n.createElement("input",{type:"text",className:"form-control",defaultValue:0,onChange:function(t){return e.ninthInput(t)},maxLength:"2",style:{backgroundColor:"#2e303f",width:"26%",height:"4vh"}}),n.createElement("span",{className:"percentSuffix"}," % ")),n.createElement("p",{style:{fontSize:"1.3rem",marginLeft:"8%"}},a[1]-4)):"")),n.createElement("div",{className:"Box3",style:{marginTop:"-15px"}},n.createElement("p",{className:"WPGFReal"},"TMS :",n.createElement("p",{className:"WPGF"},"Target Market Share")),n.createElement("div",{style:{display:"flex"}},n.createElement("p",{className:"WPGFReal"},"WMSF",n.createElement("p",{className:"WPGF"},"Weighted Market Share Factor")),n.createElement(di.a,{fontSize:"large",color:"success"}),n.createElement("div",{style:{marginLeft:"4%"}},n.createElement("div",{style:{display:"flex"}},n.createElement("input",{type:"text",defaultValue:10,className:"form-control",onChange:function(t){return e.tenthInput(t)},maxLength:"2",style:{backgroundColor:"#2e303f",width:"30%",height:"4vh",color:"white"}}),n.createElement("span",{className:"percentSuffix"}," % ")),n.createElement("p",{style:{fontSize:"1.3rem",marginLeft:"10%"}},"0%")),n.createElement("div",null,n.createElement("div",{style:{display:"flex"}},n.createElement("input",{type:"text",defaultValue:"4",className:"form-control",onChange:function(t){return e.eleventhInput(t)},maxLength:"2",style:{backgroundColor:"#2e303f",width:"30%",height:"4vh"}}),n.createElement("span",{className:"percentSuffix"}," % ")),n.createElement("p",{style:{fontSize:"1.3rem",marginLeft:"4%"}},"1-15%")),n.createElement("div",null,n.createElement("div",{style:{display:"flex"}},n.createElement("input",{type:"text",defaultValue:"6",className:"form-control",onChange:function(t){return e.twelthInput(t)},maxLength:"2",style:{backgroundColor:"#2e303f",width:"30%",height:"4vh"}}),n.createElement("span",{className:"percentSuffix"}," % ")),n.createElement("p",{style:{fontSize:"1.3rem",marginLeft:"4%"}},"16-30%")),n.createElement("div",null,n.createElement("div",{style:{display:"flex"}},n.createElement("input",{type:"text",defaultValue:"10",className:"form-control",onChange:function(t){return e.thirteenthInput(t)},maxLength:"2",style:{backgroundColor:"#2e303f",width:"30%",height:"4vh"}}),n.createElement("span",{className:"percentSuffix"}," % ")),n.createElement("p",{style:{fontSize:"1.3rem",marginLeft:"0%"}},"above 30%")))),n.createElement("div",{className:"Box3-2",style:{marginTop:"5px"}},1!==s.length?n.createElement("div",{style:{marginLeft:"3%",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginTop:"35px"}},n.createElement(si.a,{style:{marginBottom:"0%",fontSize:"2vh"}},n.createElement("p",{className:"WPGFReal"},"WPGF Control",n.createElement("p",{className:"WPGF"},"Weighted Passenger Growth Factor Control"))),n.createElement(ii.a,{sx:{width:"50%",marginLeft:"10%",marginTop:"-2.5%","& .MuiSlider-thumb":{height:"12px",width:"10px"}}},n.createElement(ci.a,{getAriaLabel:function(){return"Temperature range"},min:-100,max:100,value:o,onChange:this.handleWPGFControlChange,valueLabelDisplay:"on",getAriaValueText:this.valuetextRight}))):""),n.createElement("div",{className:"Box3-3"},n.createElement("p",{style:{fontSize:"2rem",marginLeft:"3%",marginTop:"0%"}},"Outlier Control :"),n.createElement("div",{className:"Box5",style:{display:"flex",marginTop:"30px"}},n.createElement("div",{style:{marginLeft:"12%"}},n.createElement(si.a,{style:{marginBottom:"30%",marginTop:"-22%",fontSize:"2vh"}},"Cabin F"),n.createElement(ii.a,{sx:{width:"250%",marginLeft:"1%","& .MuiSlider-thumb":{height:"12px",width:"10px"}}},n.createElement(ci.a,{getAriaLabel:function(){return"Temperature range"},min:500,max:155e3,value:l,onChange:this.handleCabinFChange,valueLabelDisplay:"on",getAriaValueText:this.valuetextRight}))),n.createElement("div",{style:{marginLeft:"20%"}},n.createElement(si.a,{style:{marginBottom:"30%",marginTop:"-22%",fontSize:"2vh"}},"Cabin J"),n.createElement(ii.a,{sx:{width:"250%",marginLeft:"1%","& .MuiSlider-thumb":{height:"12px",width:"10px"}}},n.createElement(ci.a,{getAriaLabel:function(){return"Temperature range"},min:250,max:125e3,value:i,onChange:this.handleCabinJChange,valueLabelDisplay:"on",getAriaValueText:this.valuetextRight}))),n.createElement("div",{style:{marginLeft:"20%"}},n.createElement(si.a,{style:{marginBottom:"30%",marginTop:"-22%",fontSize:"2vh"}},"Cabin Y"),n.createElement(ii.a,{sx:{width:"250%",marginLeft:"1%","& .MuiSlider-thumb":{height:"12px",width:"10px"}}},n.createElement(ci.a,{getAriaLabel:function(){return"Temperature range"},min:100,max:6e4,value:c,onChange:this.handleCabinYChange,valueLabelDisplay:"on",getAriaValueText:this.valuetextRight}))))))):n.createElement(We,null),r?n.createElement("div",{className:"lowerBoxes"},n.createElement("div",{className:"lowerLeftBox"},n.createElement("h2",null,"Channel Proration Year "),n.createElement("div",{className:"lowerInsiderBox"},n.createElement("h4",{style:{fontSize:"2rem !important"}},"Year: "),n.createElement("select",{className:"form-control cabinselect currency-dropdown",onChange:function(t){return e.ChannelYear(t)}},u.channel_response.map((function(e){return n.createElement("option",{value:e.YearCalendar},e.YearCalendar)}))))),n.createElement("div",{className:"lowerRightBox"},n.createElement("h2",null,"Segmentation Proration Year "),n.createElement("div",{className:"lowerInsiderBox"},n.createElement("h4",null,"Year: "),n.createElement("select",{className:"form-control cabinselect currency-dropdown",onChange:function(t){return e.SegmentationYear(t)}},u.segment_response.map((function(e){return n.createElement("option",{value:e.YearCalendar},e.YearCalendar)})))))):n.createElement(We,null),n.createElement("button",{className:"submitBtn",onClick:this.SubmitValues}," ","Submit"," ")))))}}]),a}(n.Component),gi=a(644),pi=a(645),fi=a.n(pi),vi=(new Te,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).componentWillReceiveProps=function(e){var t=e.messageArray,a=e.msgResponseData,o=e.msgCount,r=e.msgCountVisible,l=e.hasMore;n.setState({messageArray:t,msgResponseData:a,msgCount:o,msgCountVisible:r,hasMore:l})},n.toggleDrawer=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&n.setState({right:e,msgCountVisible:!1})}},n.list=function(){return o.a.createElement("div",{className:"messageSideBar",role:"presentation"},o.a.createElement("h4",null,"Messages"),o.a.createElement("div",{className:"messages"},o.a.createElement(gi.a,{dataLength:n.state.messageArray.length,next:n.props.fetchMoreData,hasMore:n.state.hasMore,loader:o.a.createElement("div",{className:"msg-loader",style:{height:0==n.state.messageArray.length?"100%":"auto"}},0==n.state.messageArray.length?o.a.createElement("span",null,"No messages to show"):o.a.createElement("div",{className:"loading"},o.a.createElement("span",null,"Loading"),o.a.createElement("img",{src:Be.ellipsis_loader,alt:"loader"}))),height:"calc(100vh - 70px)",endMessage:o.a.createElement("p",{style:{textAlign:"center",color:"white",fontSize:"14px"}},o.a.createElement("b",null,"You have seen it all"))},n.state.messageArray.map((function(e,t){return o.a.createElement("div",{className:"message-box",key:t},o.a.createElement("p",{className:"information"},"".concat(e.userName,",  ").concat(n.convertDateTime(e.messageTime))),o.a.createElement("p",null,e.messageText," "),o.a.createElement("div",{class:"triangle-left"}))})))))},n.convertDateTime=function(e){return new Date("".concat(e)).toUTCString()},n.state={selectedId:null,right:!1,messageArray:[],count:1,hasMore:!0,responseData:[],msgCount:0,msgCountVisible:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.msgCountVisible,a=e.msgCount,n=a>10?"9+":a;return o.a.createElement("div",null,o.a.createElement(o.a.Fragment,{key:"right"},o.a.createElement(qe.a,{className:"messageIcon",color:"inherit","aria-label":"open drawer",onClick:this.toggleDrawer(!0),edge:"start"},o.a.createElement("div",{style:{position:"relative"}},t?o.a.createElement("div",{className:"circle-message"},o.a.createElement("span",{className:"count"},n)):"",o.a.createElement(fi.a,null))),o.a.createElement(Ut.a,{anchor:"right",open:this.state.right,onClose:this.toggleDrawer(!1)},this.list())))}}]),a}(o.a.Component)),Ci=(a(405),n.Component,new Te),wi=(new Date).getFullYear(),_i=[],Di=[],bi=[],Si=_,yi=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e,t,a,n){"".concat(e),"User ".concat(t),"/".concat(a),"".concat(n," Page")},n.localStorageValues=function(){var e=JSON.parse(window.localStorage.getItem("RPSAdminScreenValues"));console.log(e,"valuestwo"),null==e?(n.flownValue="Null",n.flownValueLength="Null",n.Cyear="Null",n.Tyear="Null",n.Channelyear="Null",n.Segmentationyear="Null"):(n.flownValue=e.FlownValue,n.flownValueLength=e.FlownValueLength,n.Cyear=e.CYearValue,n.Tyear=e.TYearValue,n.Channelyear=e.ChannelYearValue,n.Segmentationyear=e.SegmentationYearValue)},n.getDefaultHeader=function(){return{headers:{Authorization:b.getCookie("Authorization")}}},n.getFiltersValue=function(){_i=[];var e=window.localStorage.getItem("RegionSelected"),t=window.localStorage.getItem("CountrySelected"),a=window.localStorage.getItem("CitySelected"),o=(JSON.parse(window.localStorage.getItem("rangeValueNextYear")),window.localStorage.getItem("CabinSelected")),r=window.localStorage.getItem("ODSelected"),l=null===o||"Null"===o?[]:JSON.parse(o);o=l.length>0?l:"Null",a=null===a||"Null"===a||""===a?"*":JSON.parse(a),n.setState({regionId:null===e||"Null"===e||""===e?"*":JSON.parse(e),countryId:null===t||"Null"===t||""===t?"*":JSON.parse(t),cityId:a,commonOD:null===r||"Null"===r||""===r||"*"===a?"*":"'".concat(r,"'"),gettingMonth:window.monthNumToName(1),gettingYear:wi+1,getCabinValue:o,cabinSelectedDropDown:l},(function(){return n.getVersionList()}))},n.getInitialData=function(){var e=Object(je.a)(n),t=n.state,a=t.gettingMonth,o=t.gettingYear,r=t.regionId,l=t.countryId,i=t.cityId,c=t.commonOD,s=t.getCabinValue,u=t.selectedVersion;console.log(u,":::VERSION::"),e.setState({loading:!0,loading2:!0,firstLoadList:!0,monthData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),e.getInitialListData(r,l,i,c),Ci.getRPSMonthTables(r,l,i,c,s,u).then((function(t){if(e.setState({loading:!1,firstLoadList:!1}),t){var n=t[0].totalData,s=t[0].columnName,u=t[0].columnNameTotal,d=t[0].rowData;window.localStorage.setItem("RPS Monthly Data",JSON.stringify(d)),Di=d,n,e.setState({monthData:e.getHighlightedMonth(d,a,o),monthcolumns:s,monthcolumnsTotal:u,monthTotalData:n,apiMonthlyData:t[0].apiMonthlyData,isActionPerformed:t[0].isActionPerformed,isAllApproved:t[0].isAllApproved,gettingYear:d[0].Year})}e.getDrillDownData(r,l,i,c,"Null")}))},n.getInitialListData=function(e,t,a,o){var r=Object(je.a)(n),l=JSON.parse(b.getCookie("userDetails")),i=o.substring(1,o.length-1),c=l.access,s="*",u="*";if("#*"!==c){r.setState({accessLevelDisable:!0});var d=c.split("#");s=d[2],u="*"===d[2]?"*":d[3]}"*"!==e&&(_i.push({val:e,title:"Region",disable:"*"!==s}),r.setState({selectedData:e})),"*"!==t&&(_i.push({val:t,title:"Country",disable:"*"!==u}),r.setState({selectedData:t})),"*"!==a&&(_i.push({val:a,title:"POS"}),r.setState({selectedData:a})),"*"!==a&&"*"!==i&&(_i.push({val:i,title:"O&D"}),r.setState({selectedData:o}))},n.getMonthDrillDownData=function(e,t,a,o,r,l){var i=Object(je.a)(n),c=n.state,s=c.gettingMonth,u=c.getCabinValue,d=c.type,m=c.gettingYear,h=(c.toggle,c.odsearchvalue),g=l||"Null";"circle_loader"===r?i.showLoader():i.setState({loading:!0,loading2:!0,monthData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),Ci.getRPSMonthTables(e,t,a,o,u,g).then((function(e){if(i.hideLoader(),i.setState({loading:!1}),e){var t=e[0].totalData,a=e[0].columnName,n=e[0].columnNameTotal,o=e[0].rowData;window.localStorage.setItem("RPS Monthly Data",JSON.stringify(o)),Di=o,t,i.setState({monthData:i.getHighlightedMonth(o,s,m),monthcolumns:a,monthcolumnsTotal:n,monthTotalData:t,apiMonthlyData:e[0].apiMonthlyData,isActionPerformed:e[0].isActionPerformed,isAllApproved:e[0].isAllApproved})}})),"circle_loader"===r&&i.showLoader(),Ci.getRPSDrillDown(m,s,e,t,a,o,u,d,g,h).then((function(e){i.hideLoader(),i.setState({loading2:!1}),e&&(e[0].rowData,bi=e[0].totalData,i.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].rowData,drillDownColumn:e[0].columnName,tabName:"Null"===d?e[0].tabName:e[0].firstTabName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,cityId:e[0].currentAccess.cityId,commonOD:e[0].currentAccess.commonOD,apiDrilldownData:e[0].apiDrilldownData}))}))},n.getDrillDownData=function(e,t,a,o,r){var l=Object(je.a)(n),i=n.state,c=i.gettingYear,s=i.gettingMonth,u=i.getCabinValue,d=i.isEdited,m=i.editedField,h=i.editedRowIndex,g=i.editedvalue,p=i.selectedVersion,f=i.odsearchvalue;Ci.getRPSDrillDown(c,s,e,t,a,o,u,r,p,f).then((function(e){l.setState({loading2:!1}),e&&(e[0].rowData,bi=e[0].totalData,l.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].rowData,drillDownColumn:e[0].columnName,tabName:"Null"===r?e[0].tabName:e[0].firstTabName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,cityId:e[0].currentAccess.cityId,commonOD:e[0].currentAccess.commonOD,apiDrilldownData:e[0].apiDrilldownData},(function(){d&&n.getEditedData(m,h,g)})))}))},n.fetchMoreData=function(){var e=n.state,t=e.messageArray,a=e.msgResponseData,o=e.count;if(t.length>=a.totalMessages)n.setState({hasMore:!1});else{var r=o;r+=1,n.setState({count:r},(function(){setTimeout((function(){n.getMessages()}),1500)}))}},n.monthWiseCellClick=function(e){console.log(e.data.FRCT_R,"::::PARAMS:::::");var t=Object(je.a)(n);t.sendEvent("2","clicked on Months row","pos","Pos Page");var a=n.state,o=a.monthData,r=a.regionId,l=a.countryId,i=a.cityId,c=a.commonOD,s=(a.getCabinValue,a.type),u=a.isEdited,d=a.gettingMonth,m=a.selectedVersion,h=e.data.Month,g=parseInt(e.data.Year),p=e.colDef.field;if(n.setState({rowDataforChannel:e.data.FRCT_R}),!u||e.data.MonthName===d&&"Month"!==p){if(e.api.updateRowData({update:n.getHighlightedMonth(o,e.data.MonthName,g)}),h.includes("Total ".concat(wi-1)))n.setState({showLastYearRows:!n.state.showLastYearRows,showNextYearRows:!1},(function(){return n.getLastYearClubbedData(n.state.showLastYearRows,h)}));else if(h.includes("Total ".concat(wi+1)))n.setState({showNextYearRows:!n.state.showNextYearRows,showLastYearRows:!1},(function(){return n.getNextYearClubbedData(n.state.showNextYearRows,h)}));else{t.setState({gettingMonth:e.data.MonthName,gettingYear:e.data.Year});var f={from:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)},to:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)}};window.localStorage.setItem("rangeValueNextYear",JSON.stringify(f))}"Month"!==p||h.includes("Total")||(t.setState({loading2:!0,drillDownData:[],drillDownTotalData:[]}),t.getDrillDownData(r,l,i,c,s,m))}else y.a.fire({title:"Submit before you proceed!",text:"Before switching to the next month or editing the other field you have to submit the previously edited data",icon:"warning",showCancelButton:!0,confirmButtonText:"Submit",cancelButtonText:"Discard",cancelButtonColor:"#d33"}).then((function(a){if(a.value)t.openMessageModal("Submit");else if(a.dismiss===y.a.DismissReason.cancel){e.api.updateRowData({update:n.getHighlightedMonth(Di,e.data.MonthName,g)}),t.setState({isEdited:!1,gettingMonth:e.data.MonthName,gettingYear:e.data.Year});var o={from:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)},to:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)}};window.localStorage.setItem("rangeValueNextYear",JSON.stringify(o)),t.getMonthDrillDownData(r,l,i,c,"circle_loader",m)}}))},n.regionCellClick=function(e){var t=Object(je.a)(n);t.sendEvent("2","clicked on Region drill down","pos","Pos Page");var a=n.state,o=a.regionId,r=a.countryId,l=a.cityId,i=a.commonOD,c=a.getCabinValue,s=a.selectedVersion;t.setState({isEdited:!1});var u,d=e.colDef.field,m="'".concat(e.data.firstColumnName,"'"),h=e.data.firstColumnName,g=e.colDef.headerName;_i.map((function(e,t){return u=e.title===g})),"firstColumnName"===d&&(u||(n.storeValuesToLS(o,r,l,i,c,h),"O&D"!==!g&&(t.setState({selectedData:m}),_i.push({val:h,title:g})),"*"===o?t.getMonthDrillDownData(m,r,l,i,"",s):"*"===r?t.getMonthDrillDownData(o,m,l,i,"",s):"*"===l?t.getMonthDrillDownData(o,r,m,i,"",s):"*"===i&&t.getMonthDrillDownData(o,r,l,m,"",s)))},n.tabClick=function(e,t){var a=Object(je.a)(n);a.sendEvent("2","clicked on ".concat(e," tab"),"pos","Pos Page");var o=n.state,r=o.regionId,l=o.countryId,i=o.cityId,c=o.commonOD,s=o.monthcolumns;a.setState({type:e,drillDownData:[],drillDownTotalData:[],loading2:!0}),t?n.setState({outerTab:!0}):n.setState({outerTab:!1}),a.getDrillDownData(r,l,i,c,e),n.monthParams.setColumnDefs(s)},n.homeHandleClick=function(e){var t=Object(je.a)(n);t.sendEvent("2","clicked on Network","pos","Pos Page"),t.setState({loading:!0,loading2:!0,firstHome:!1,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[],toggle:"bc"}),window.localStorage.setItem("RegionSelected","Null"),window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null"),t.getMonthDrillDownData("*","*","*","*","",n.state.selectedVersion),_i=[];var a=window.location.href.split("?")[0];window.history.pushState("object",document.title,a)},n.listHandleClick=function(e,t,a){var o=Object(je.a)(n);o.sendEvent("2","clicked on Drill down list","pos","Pos Page");var r=n.state,l=r.regionId,i=r.countryId,c=r.cityId,s=r.selectedVersion,u=e;"'"!==u.charAt(0)&&"'"!==u.charAt(u.length-1)&&(u="'".concat(e,"'")),e.includes(",")&&(u="'".concat(e.split(",").join("','"),"'")),o.setState({selectedData:u,loading:!0,loading2:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var d=decodeURIComponent(t);if("List"===a){var m=_i.findIndex((function(e){return e.title==t})),h=_i.slice(0,m+1);_i=h,n.changeURLOnListClick(l,i,c,e,d)}else"browserBack"===a&&n.onBackPressClearLS(d);"Region"===d?o.getMonthDrillDownData(u,"*","*","*","",s):"Country"===d?o.getMonthDrillDownData(l,u,"*","*","",s):"POS"===d?o.getMonthDrillDownData(l,i,u,"*","",s):"O&D"===d&&o.getMonthDrillDownData(l,i,c,u,"",s)},n.cabinSelectChange=function(e){e.preventDefault();var t=e.target.value;n.setState({getCabinValue:t,cabinSelectedDropDown:t},(function(){window.localStorage.setItem("CabinSelected",JSON.stringify(t))}))},n.getSelectedRows=function(e){var t=[];e.api.getSelectedRows().filter((function(e){return t.push(window.monthNameToNum(e.MonthName))})),n.setState({selectedMonths:t})},n.onCellValueChanged=function(e){var t=n.state,a=t.gettingMonth,o=t.gettingYear,r=e.colDef.field,l=e.rowIndex,i=e.newValue.toString(),c=e.oldValue.toString();if(Di=JSON.parse(window.localStorage.getItem("RPS Monthly Data")),i!==c)if(Z(i)&&i){var s=parseFloat(i);n.setState({isEdited:!0,isSubmitted:!1,editedField:r,editedRowIndex:l,editedvalue:s}),n.getEditedData(r,l,s)}else y.a.fire({title:"Error!",text:"Enter absolute numbers only",icon:"error",confirmButtonText:"Ok"}).then((function(){n.setState({monthData:Di}),e.api.updateRowData({update:n.getHighlightedMonth(Di,a,o)})}))},n.getMonthParams=function(e){n.monthParams=e},n.getMonthTotalParams=function(e){n.monthTotalParams=e},n.getDrillDownParams=function(e){n.drillDownParams=e},n.getDrillDownTotalParams=function(e){n.drillDownTotalParams=e},n.odsearchfilter=function(e){var t=n.state,a=t.regionId,o=t.countryId,r=t.cityId,l=t.commonOD,i=t.type,c=t.odsearchvalue,s=e.target.value;n.setState({odsearchvalue:s}),console.log(c,"option"),n.setState({loading2:!0}),setTimeout((function(){n.getDrillDownData(a,o,r,l,i)}),4e3)},n.showLoader=function(){w()("#loaderImage").addClass("loader-visible")},n.hideLoader=function(){w()("#loaderImage").removeClass("loader-visible"),w()(".x_panel").addClass("opacity-fade"),w()(".top-buttons").addClass("opacity-fade")},n.renderTabs=function(){var e=n.state,t=(e.gettingMonth,e.regionId,e.countryId,e.cityId,e.commonOD,e.getCabinValue,e.tabName),a=(e.gettingYear,e.type,e.outerTab),r=e.ancillary;return o.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},"Cabin"===t?o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("OD","outerTab")}},o.a.createElement("a",{href:"#Section2","aria-controls":"profile",role:"tab","data-toggle":"tab"},"O&D")):"",o.a.createElement("li",{role:"presentation",className:"".concat(r?"":"active"),onClick:function(){return n.tabClick("Null")}},o.a.createElement("a",{href:"#Section1","aria-controls":"home",role:"tab","data-toggle":"tab"},t)),"O&D"===t||"Cabin"===t?"":o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("OD")},className:a?"active":""},o.a.createElement("a",{href:"#Section2","aria-controls":"profile",role:"tab","data-toggle":"tab"},"O&D")),"Cabin"===t?"":o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Cabin")}},o.a.createElement("a",{href:"#Section3","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Cabin")),o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Channel")}},o.a.createElement("a",{href:"#Section5","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Channel")))},n.openMessageModal=function(e){n.setState({displayModal:!0,action:e})},n.LoadFactorModel=function(){n.setState({displayModal2:!0})},n.RouteConversion=function(){y.a.fire({title:"Processing",text:"Route Conversion Process has Started. You can Continue We will notify when its done",icon:"info",confirmButtonText:"Ok"}),y.a.showLoading(),n.setState({disableRouteConversion:!0}),v.a.get("".concat(Si,"/DemandRouteConversion?flownValue=").concat(n.flownValue,"&flownValueLength=").concat(n.flownValueLength,"&CurrentYear=").concat(n.Cyear,"&TargetYear=").concat(n.Tyear,"&Version=").concat(n.state.selectedVersion),n.getDefaultHeader()).then((function(e){y.a.fire({title:"Completed",text:"Process has been Completed",icon:"success",confirmButtonText:"Ok"}),n.props.history.push("/rpsRoute".concat(ne())),console.log(e,"correct")})).catch((function(e){y.a.fire({title:"Failed",text:"Process has been failed Please Retry else Contact Revemax",icon:"error",confirmButtonText:"Ok"}),n.setState({disableRouteConversion:!1}),console.log(e,"wrong")}))},n.OptimizedRouteConversion=function(){n.setState({displayModal2:!1}),y.a.fire({title:"Processing",text:"Optimized Route Conversion Process has Started. You can Continue We will notify when its done",icon:"info",confirmButtonText:"Ok"}),y.a.showLoading(),n.setState({disableOptimzedRouteConversion:!0}),v.a.get("".concat(Si,"/OptimisedRouteConversion?flownValue=").concat(n.flownValue,"&flownValueLength=").concat(n.flownValueLength,"&CurrentYear=").concat(n.Cyear,"&TargetYear=").concat(n.Tyear,"&Loadfactor=").concat(n.state.LoadFactorValue,"&Version=").concat(n.state.selectedVersion),n.getDefaultHeader()).then((function(e){y.a.fire({title:"Completed",text:"Process has been Completed",icon:"success",confirmButtonText:"Ok"}),n.props.history.push("/rpsRoute".concat(ne())),console.log(e,"correct")})).catch((function(e){y.a.fire({title:"Failed",text:"Process has been failed Please Retry else Contact Revemax",icon:"error",confirmButtonText:"Ok"}),n.setState({disableOptimzedRouteConversion:!1}),console.log(e,"wrong")}))},n.DemandOptimization=function(){y.a.fire({title:"Processing",text:"Network optimization process has been started, once the process complete we will notify you.",icon:"info",confirmButtonText:"Ok"}),n.setState({disableOptimization:!0}),y.a.showLoading(),v.a.get("".concat(Si,"/DemmandOptimization?flownValue=").concat(n.flownValue,"&flownValueLength=").concat(n.flownValueLength,"&CurrentYear=").concat(n.Cyear,"&TargetYear=").concat(n.Tyear,"&channelYear=").concat(n.Channelyear,"&segmentationYear=").concat(n.Segmentationyear,"&version='Null'"),n.getDefaultHeader()).then((function(e){y.a.fire({title:"Completed",text:"Process has been Completed",icon:"success",confirmButtonText:"Ok"}),n.setState({btndisable:!0}),console.log(e,"correct"),setTimeout((function(){window.location.reload()}),100)})).catch((function(e){y.a.fire({title:"Failed",text:"Process has been failed Please Retry else Contact Revemax",icon:"error",confirmButtonText:"Ok"}),n.setState({disableRouteConversion:!1}),console.log(e,"wrong")}))},n._validateMsg=function(e){n.setState({disable:!1}),""===n.refs.message.value.trim()?n.setState({errorMsg:"Please enter message"}):n.setState({errorMsg:"",disable:!0})},n.handleChange=function(e,t){n.setState({LoadFactorValue:t})},n.renderMessageModal=function(){return o.a.createElement(Oe.a,{show:n.state.displayModal,"aria-labelledby":"ModalHeader",onHide:function(){return n.setState({displayModal:!1})}},o.a.createElement(Oe.a.Header,null,o.a.createElement(Oe.a.Title,{id:"ModalHeader"},"".concat(n.state.action," Message"))),o.a.createElement(Oe.a.Body,{className:"resetpass-body"},o.a.createElement("label",{htmlFor:"message"},"Drop your message here* :"),o.a.createElement("textarea",{type:"message",ref:"message",className:"form-control",onChange:function(){return n._validateMsg()}}),o.a.createElement("p",null,n.state.errorMsg)),o.a.createElement(Oe.a.Footer,null,o.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){return n.actionButton()},disabled:!n.state.disable},n.state.action),o.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return n.resetfields()}},"Cancel")))},n.renderSelectionModal=function(){return o.a.createElement(Oe.a,{show:n.state.displayModal2,"aria-labelledby":"ModalHeader",onHide:function(){return n.setState({displayModal2:!1})}},o.a.createElement(Oe.a.Header,null,o.a.createElement(Oe.a.Title,{id:"ModalHeader"}," Load Factor ")),o.a.createElement(Oe.a.Body,{className:"resetpass-body"},o.a.createElement("label",{htmlFor:"message"},"Please Select Load Factor Value :"),o.a.createElement("div",{className:"Boxes1"},o.a.createElement("div",{style:{marginLeft:"1%"}},o.a.createElement(si.a,{style:{marginBottom:"6%",fontSize:"2vh"}},"Load Factor"),o.a.createElement(ii.a,{sx:{width:"100%",display:"flex",marginLeft:"4%","& .MuiSlider-thumb":{height:"12px",width:"10px"},"& .MuiSlider-track":{height:3}}},o.a.createElement(ci.a,{getAriaLabel:function(){return"Temperature range"},min:0,max:100,value:n.state.LoadFactorValue,onChange:function(e,t){return n.handleChange(e,t)},valueLabelDisplay:"on",getAriaValueText:n.valuetext}))))),o.a.createElement(Oe.a.Footer,null,o.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){return n.OptimizedRouteConversion()}},"Proceed")))},n.redirection=function(e){n.sendEvent("2","clicked on POS/Route RPS drop down","/rpsPOS","RPS POS Page");var t=e.target.value;console.log("rahul",t),"Route"===t?(n.props.history.push("/rpsRoute".concat(ne())),_i=[]):(n.props.history.push("/rpsPos"),_i=[])},n.versionHandling=function(e){var t=n.state,a=t.regionId,o=t.countryId,r=t.cityId,l=t.commonOD,i=e.target.value;n.setState({selectedVersion:i}),n.getMonthDrillDownData(a,o,r,l,"circle_loader",i),window.localStorage.setItem("RPSVersion",i)},n.handleDownload=function(){var e=n.state,t=e.selectedVersion;e.regionId,e.countryId,e.cityId,e.commonOD,e.selectedNewVersion;if(e.rowDataforChannel!==bi[0].FRCT_R)y.a.fire({title:"Warning",text:"Channel Percentage Value must be equal to 100 !",icon:"warning",confirmButtonText:"Ok"});else{var a={version:t};L.post("UpdatedchannelTable",a).then((function(e){console.log(e),y.a.fire({title:"Success",text:"This Version Fetched Successfully",icon:"success",confirmButtonText:"Ok"})})).catch((function(e){console.log(e),y.a.fire({title:"Error",text:"Something went wrong. Please try again",icon:"error",confirmButtonText:"Ok"})}))}},n.pathName=window.location.pathname,n.selectedRegion=null,n.selectedCountry=null,n.selectedCity=null,n.gridApiMonth=null,n.userData=G(JSON.parse(b.getCookie("userDetails"))),n.state={monthData:[],monthTotalData:[],monthcolumns:[],monthcolumnsTotal:[],modalData:[],drillDownColumn:[],drillDownData:[],modeldrillDownDatas:[],modeldrillDownColumn:[],tableDatas:!0,gettingMonth:null,gettingYear:null,cabinOption:[],getCabinValue:[],cabinSelectedDropDown:[],cabinDisable:!0,toggle:"bc",tabName:"Region",regionId:"*",countryId:"*",cityId:"*",commonOD:"*",type:"Null",baseAccess:"",selectedData:"Null",infareData:[],infareModalVisible:!1,infareGraphHeading:"",loading:!0,loading2:!0,loading3:!1,firstLoadList:!1,showLastYearRows:!1,showNextYearRows:!1,accessLevelDisable:!1,firstHome:!0,infareCurrency:"",outerTab:!1,ancillary:!1,ensureIndexVisible:null,LoadFactorValue:90,monthRowClassRule:{"highlight-row":"data.highlightMe","ag-row-disableChkbox":"".concat(n.userData.accessLevelPOS.toString()," <= data.Approval_level"),"approved-row":"".concat(n.userData.accessLevelPOS.toString()," <= data.Approval_level"),"rejected-row":"".concat(n.userData.accessLevelPOS.toString()," <= data.Reject_level")},displayModal:!1,displayModal2:!1,selectedMonths:[],action:"",isEdited:!1,isSubmitted:!1,editedField:"",editedRowIndex:null,editedvalue:null,isActionPerformed:!1,isAllApproved:!1,versionList:[],selectedVersion:"Null",selectedNewVersion:"Null",version_action:"",count:1,messageArray:[],msgResponseData:[],msgCount:0,msgCountVisible:!1,hasMore:!0,btndisable:!1,disableRouteConversion:!1,disableOptimization:!1,disableOptimzedRouteConversion:!1,odsearchvalue:"",rowDataforChannel:""},n.sendEvent("1","viewed Pos Page","pos","Pos Page"),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.localStorageValues()}},{key:"componentWillMount",value:function(){var e=this;this.props.CYear;e.getFiltersValue(),e.getMessages(),Ci.getClassNameDetails().then((function(t){if(t){var a=t[0].classDatas;e.setState({cabinOption:a})}}))}},{key:"componentDidUpdate",value:function(){var e=this;window.onpopstate=function(t){var a=e.props.browserToProps.queryParams,n=Object.values(a),o=Object.keys(a),r=o.length-1;"undefined"!==n[0]?(e.pushURLToBcData(a,o,n,r),e.setState({firstHome:!0})):e.state.firstHome&&e.homeHandleClick()}}},{key:"pushURLToBcData",value:function(e,t,a,n){if(e.hasOwnProperty("Region")&&!_i.some((function(e){return"Region"===e.title}))){var o,r,l=e.Region,i=e.Region;l.includes(",")?l="'".concat(l.split(",").join("','"),"'"):"'"!==l.charAt(0)&&"'"!==l.charAt(l.length-1)&&(l="'".concat(l,"'")),"'"===i.charAt(0)&&"'"===i.charAt(i.length-1)?r=i.substring(1,i.length-1):i.includes(",")?(o=i.split(","),r=i):r=i,console.log("rahul Region",o),_i.push({val:r,title:"Region"}),this.setState({regionId:l});var c=i.includes(",")?o:[].concat([r]);window.localStorage.setItem("RegionSelected",JSON.stringify(c))}if(e.hasOwnProperty("Country")&&!_i.some((function(e){return"Country"===e.title}))){var s,u,d=e.Country,m=e.Country;d.includes(",")?d="'".concat(d.split(",").join("','"),"'"):"'"!==d.charAt(0)&&"'"!==d.charAt(d.length-1)&&(d="'".concat(d,"'")),"'"===m.charAt(0)&&"'"===m.charAt(m.length-1)?u=m.substring(1,m.length-1):m.includes(",")?(s=m.split(","),u=m):u=m,_i.push({val:u,title:"Country"}),this.setState({countryId:d});var h=m.includes(",")?s:[].concat([u]);window.localStorage.setItem("CountrySelected",JSON.stringify(h)),console.log("rahul Country",u,d)}if(e.hasOwnProperty("POS")&&!_i.some((function(e){return"POS"===e.title}))){var g,p,f=e.POS,v=e.POS;f.includes(",")?f="'".concat(f.split(",").join("','"),"'"):"'"!==f.charAt(0)&&"'"!==f.charAt(f.length-1)&&(f="'".concat(f,"'")),"'"===v.charAt(0)&&"'"===v.charAt(v.length-1)?p=v.substring(1,v.length-1):v.includes(",")?(g=v.split(","),p=v):p=v,_i.push({val:p,title:"POS"}),this.setState({cityId:f});var C=v.includes(",")?g:[].concat([p]);window.localStorage.setItem("CitySelected",JSON.stringify(C)),console.log("rahul POS",p,f)}if(e.hasOwnProperty("O%26D")&&!_i.some((function(e){return"O&D"===e.title}))&&(_i.push({val:e["O%26D"],title:"O&D"}),console.log("rahul OD",e["O%26D"]),this.setState({commonOD:e["O%26D"]}),window.localStorage.setItem("ODSelected",e["O%26D"])),console.log("rahul bcData before",_i,n,a[n],e),_i.length>0){var w=_i.slice(0,n+1);_i=w}this.listHandleClick(a[n],t[n],"browserBack")}},{key:"getVersionList",value:function(e){var t=this;L.get("freezeandunfreeze","hideloader").then((function(e){if(e.data.response){var a=e.data.response;if(a.length>0){var n=a.length,o=a[n-1].Version;console.log(o,n,":::HELLLLLLL:::::");var r=a[n-1].Version_Status;t.setState({versionList:a,selectedVersion:o,version_action:r},(function(){return t.getInitialData()})),window.localStorage.setItem("RPSVersion",o)}else console.log("GGGGGGG"),t.getInitialData()}})).catch((function(e){console.log("rahul message err",e)}))}},{key:"getMessages",value:function(){var e=this;L.get("usermessages?page_number=".concat(this.state.count),"hideloader").then((function(t){if(t.data.response){var a=t.data.response;a.messages.length>0&&(e.setState({messageArray:e.state.messageArray.concat(a.messages),msgResponseData:a}),Ci.getUserPreferences("rpsMessageCount",a.totalMessages,"count").then((function(t){e.setState({msgCount:t,msgCountVisible:t>0})})))}})).catch((function(e){console.log("rahul message err",e)}))}},{key:"getHighlightedMonth",value:function(e,t,a){var n=this,o=window.monthNameToNum(t);return e.filter((function(e,t){e.highlightMe=!1;var r=e.Month;return"".concat(window.shortMonthNumToName(o)," ").concat(a)===r&&(n.setState({ensureIndexVisible:t-0}),e.highlightMe=!0),e}))}},{key:"getHighlightedRow",value:function(e,t){return e.map((function(e,t){var a=e.Month;return a==="\u25bc Total ".concat(wi-1)||a==="\u25ba Total ".concat(wi-1)?e.highlightMe=!0:a!=="\u25bc Total ".concat(wi+1)&&a!=="\u25ba Total ".concat(wi+1)||(e.highlightMe=!0),e}))}},{key:"rectifyURLValues",value:function(e,t,a){Array.isArray(e)?this.selectedRegion=e.join(","):e.includes("','")?(this.selectedRegion=e.split("','").join(","),this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)):(this.selectedRegion=e,this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)),Array.isArray(t)?this.selectedCountry=t.join(","):e.includes("','")?(this.selectedCountry=t.split("','").join(","),this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)):(this.selectedCountry=t,this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)),Array.isArray(a)?this.selectedCity=a.join(","):e.includes("','")?(this.selectedCity=a.split("','").join(","),this.selectedCity=this.selectedCity.substring(1,this.selectedCity.length-1)):(this.selectedCity=a,this.selectedCity=this.selectedCity.substring(1,this.selectedCity.length-1))}},{key:"storeValuesToLS",value:function(e,t,a,n,o,r){var l=[],i=[],c=[];this.rectifyURLValues(e,t,a),"*"===e?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(r))),l.push(r),window.localStorage.setItem("RegionSelected",JSON.stringify(l))):"*"===t?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(r)),i.push(r),window.localStorage.setItem("CountrySelected",JSON.stringify(i))):"*"===a?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&POS=").concat(r)),c.push(r),window.localStorage.setItem("CitySelected",JSON.stringify(c))):"*"===n&&(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&POS=").concat(this.selectedCity,"&").concat(encodeURIComponent("O&D"),"=").concat(r)),window.localStorage.setItem("ODSelected",r))}},{key:"changeURLOnListClick",value:function(e,t,a,n,o){this.rectifyURLValues(e,t,a),"Region"===o?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(n))),window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null")):"Country"===o?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(n)),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null")):"POS"===o?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&POS=").concat(n)),window.localStorage.setItem("ODSelected","Null")):"O&D"===o&&this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&POS=").concat(this.selectedCity,"&").concat(encodeURIComponent("O&D"),"=").concat(n))}},{key:"onBackPressClearLS",value:function(e){"Region"===e?(window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null")):"Country"===e?(window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null")):"POS"===e&&window.localStorage.setItem("ODSelected","Null")}},{key:"onCabinClose",value:function(){var e=this;this.sendEvent("2","clicked on Cabin drop down","pos","Pos Page"),this.state.cabinSelectedDropDown.length>0?this.getDataOnCabinChange():(this.setState({getCabinValue:"Null"},(function(){return e.getDataOnCabinChange()})),window.localStorage.setItem("CabinSelected","Null"))}},{key:"getDataOnCabinChange",value:function(){this.setState({loading:!0,loading2:!0,posMonthDetails:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var e=this.state,t=e.regionId,a=e.countryId,n=e.cityId,o=e.commonOD,r=e.selectedVersion;this.getMonthDrillDownData(t,a,n,o,"",r)}},{key:"getEditedData",value:function(e,t,a){var n=this,o=this.state,r=o.apiMonthlyData,l=o.apiDrilldownData,i=o.gettingYear,c=o.gettingMonth,s=(o.type,r.TableData.filter((function(e,a){return a===t}))),u={Month:s[0].Month,Year:s[0].Year,Passenger_EDIT:"Edit_P"===e?a:s[0].Passenger_EDIT,AverageFare_EDIT:"Edit_A"===e?a:s[0].AverageFare_EDIT,Revenue_CY:s[0].Revenue_CY};console.log("::changedRow::",u);var d={changedRow:u,monthlyData:{TableData:r.TableData,Total:r.Total},drilldownData:{TableData:l.TableData,Total:l.Total,ColumName:l.ColumName,first_ColumName:l.first_ColumName,CurrentAccess:{regionId:l.CurrentAccess.regionId,countryId:l.CurrentAccess.countryId,cityId:l.CurrentAccess.cityId,commonOD:l.CurrentAccess.commonOD,base_access:l.CurrentAccess.base_access}}};L.post("rpsdisplaycalculations",d).then((function(a){if(a.data.response){var o=a.data.response,r=o.monthlyData,l=o.drilldownData,s=Ci.getRPSData(r.TableData);n.setState({monthData:n.getHighlightedMonth(s,c,i),monthTotalData:Ci.getRPSData(r.Total,"total"),drillDownData:Ci.getRPSData(l.TableData),drillDownTotalData:Ci.getRPSData(l.Total,"total"),apiMonthlyData:r,apiDrilldownData:l}),n.getFlashingCells(e,t)}})).catch((function(e){console.log("rahul",e),y.a.fire({title:"Error",text:"Something went wrong",icon:"error",confirmButtonText:"Ok"})}))}},{key:"getFlashingCells",value:function(e,t){var a=this.monthParams.getDisplayedRowAtIndex(t);this.monthParams.flashCells({rowNodes:[a],columns:[e,"FRCT_R"]});var n=this.monthTotalParams.getDisplayedRowAtIndex(0);this.monthTotalParams.flashCells({rowNodes:[n],columns:[e,"FRCT_R"]}),this.drillDownParams.flashCells({columns:[e,"FRCT_R"]});var o=this.drillDownTotalParams.getDisplayedRowAtIndex(0);this.drillDownTotalParams.flashCells({rowNodes:[o],columns:[e,"FRCT_R"]})}},{key:"updateData",value:function(){var e=this,t=this.state,a=t.apiMonthlyData,n=(t.apiDrilldownData,t.regionId),o=t.countryId,r=t.cityId,l=t.commonOD,i=t.getCabinValue,c=(t.type,t.editedRowIndex),s=t.action,u=t.selectedNewVersion,d=t.selectedVersion,m=a.TableData.filter((function(e,t){return t===c})),h="Null"===u?d:u,g={Month:m[0].Month,Year:m[0].Year,Passenger_EDIT:m[0].Passenger_EDIT,AverageFare_EDIT:m[0].AverageFare_EDIT,Revenue_CY:m[0].Revenue_CY,action_performed:s,action_level:this.userData.accessLevelPOS,version:h};L.post("rpsupdatetable?".concat(Ci.Params(n,o,r,i),"&commonOD=").concat(l),g).then((function(t){if(t.data.response){t.data.response;e.setState({isEdited:!1,isSubmitted:!0}),y.a.fire({title:"Submitted",text:"Data is submitted successfully",icon:"success",confirmButtonText:"Ok"}).then((function(){e.setState({messageArray:[]},(function(){return e.getMessages()})),e.getMonthDrillDownData(n,o,r,l,"circle_loader",h)}))}})).catch((function(e){console.log("rahul",e),y.a.fire({title:"Error",text:"Something went wrong",icon:"error",confirmButtonText:"Ok"})}))}},{key:"postMessage",value:function(){var e=this,t=this.state,a=t.regionId,n=t.countryId,o=t.cityId,r=t.commonOD,l=t.getCabinValue,i=(t.type,t.editedRowIndex),c=t.action,s=t.selectedMonths,u=t.selectedVersion,d="Submit"===c?[i+1]:s,m={userName:this.userData.userDetails.username,message:this.refs.message.value.trim(),month:d,action:c,action_level:this.userData.accessLevelPOS,access:this.userData.userDetails.access};this.resetfields(),L.post("usermessages?".concat(Ci.Params(a,n,o,l),"&commonOD=").concat(r),m).then((function(t){if(t.data.response){t.data.response;"Submit"===c?e.updateData():y.a.fire({title:"Submitted",text:"Message is Submitted successfully",icon:"success",confirmButtonText:"Ok"}).then((function(){e.getMonthDrillDownData(a,n,o,r,"circle_loader",u),e.setState({messageArray:[]},(function(){return e.getMessages()}))}))}})).catch((function(e){console.log("rahul",e),y.a.fire({title:"Error",text:"Something went wrong",icon:"error",confirmButtonText:"Ok"})}))}},{key:"actionButton",value:function(){this.setState({displayModal:!1,errorMsg:"",disable:!1}),this.postMessage()}},{key:"resetfields",value:function(){this.setState({displayModal:!1,errorMsg:"",disable:!1})}},{key:"postVersionAction",value:function(e){var t=this,a=this.state,n=a.selectedVersion,o=a.regionId,r=a.countryId,l=a.cityId,i=a.commonOD,c=a.selectedNewVersion,s="Null"===c?n:c,u={version:"Freeze"===e?s:n,action:e};L.post("freezeandunfreeze",u).then((function(a){if(a.data.response){console.log("::HELLO::",a.data.response,n);var n=a.data.response;n&&y.a.fire({title:"Success",text:"This Version ".concat(e," successfully"),icon:"success",confirmButtonText:"Ok"}).then((function(){t.setState({version_action:e,isSubmitted:!1}),"Freeze"===e?(t.getVersionList("afterFreeze"),t.getMonthDrillDownData(o,r,l,i,"circle_loader",s),window.localStorage.setItem("RPSVersion",s)):(t.setState({selectedNewVersion:n}),t.getMonthDrillDownData(o,r,l,i,"circle_loader",n),window.localStorage.setItem("RPSVersion",n))}))}})).catch((function(e){y.a.fire({title:"Error",text:"Something went wrong. Please try again",icon:"error",confirmButtonText:"Ok"})}))}},{key:"render",value:function(){var e=this,t=localStorage.getItem("RPSPOSDownloadURL"),a=this.state,n=(a.cabinOption,a.cabinSelectedDropDown,a.cabinDisable,a.accessLevelDisable),r=a.regionId,l=a.countryId,i=a.cityId,c=a.commonOD,s=a.isEdited,u=a.isActionPerformed,d=a.selectedVersion,m=a.version_action,h=a.isSubmitted,g=a.versionList,p=a.type,f=(a.rpsValues,a.disableOptimization),v=a.disableOptimzedRouteConversion,C=a.disableRouteConversion,w=this.userData;return o.a.createElement("div",{className:"rps"},o.a.createElement(ta,Object.assign({dashboardPath:"/posDashboard"},this.props)),o.a.createElement(Dr,null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top"},o.a.createElement("div",{className:"navdesign",style:{marginTop:"0px"}},o.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-4 toggle1"},o.a.createElement("select",{className:"form-control cabinselect pos-route-dropdown",onChange:function(t){return e.redirection(t)}},o.a.createElement("option",{value:"POS",selected:!0},"POS RPS"),o.a.createElement("option",{value:"Route"},"Route RPS")),o.a.createElement("section",null,o.a.createElement("nav",null,o.a.createElement("ol",{className:"cd-breadcrumb"},o.a.createElement("div",{style:{cursor:n?"not-allowed":"pointer"}},o.a.createElement("li",{className:"".concat(n?"breadcrumb-disable":""),onClick:function(){return e.homeHandleClick()}}," ","Network"," ")),this.state.firstLoadList?"":_i.map((function(t){return o.a.createElement("div",{style:{cursor:t.disable?"not-allowed":"pointer"}},o.a.createElement("li",{className:"".concat(t.disable?"breadcrumb-disable":""),onClick:function(a){return e.listHandleClick(a.target.id,t.title,"List")},id:t.val,title:"".concat(t.title," : ").concat(t.val)}," > ".concat(t.val)))})),0==this.state.versionList.length&&"*"===r&&"*"===l&&"*"===i&&"*"===c?o.a.createElement("div",{style:{width:"max-content"}},o.a.createElement("h2",{style:{marginLeft:"20px"}},"Demand Estimation Screen")):"","*"===r&&"*"===l&&"*"===i&&"*"===c&&0!=this.state.versionList.length?o.a.createElement("div",{style:{width:"max-content"}},o.a.createElement("h2",{style:{marginLeft:"20px"}},"Network Optimal Target Screen")):"")))),o.a.createElement("div",{className:"col-md-5 col-sm-5 col-xs-12 toggle2",style:{marginRight:"20px"}},w.isPOSNetworkAdmin&&g.length>0?o.a.createElement("div",{className:"cabin-selection"},o.a.createElement("h4",null,"Version :"),o.a.createElement("select",{className:"form-control cabinselect currency-dropdown",onChange:function(t){return e.versionHandling(t)}},g.map((function(e){return o.a.createElement("option",{value:e.Version,selected:d===e.Version},e.Version)})))):"",o.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement(Sr,{url:t,name:"RPS POS",path:"/rpsPos",page:!0})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},o.a.createElement("div",{className:"x_panel"},o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.monthData,columnDefs:this.state.monthcolumns,loading:this.state.loading,suppressRowClickSelection:!0,onSelectionChanged:function(t){return e.getSelectedRows(t)},onCellValueChanged:function(t){return e.onCellValueChanged(t)},rowSelection:"multiple",rowClassRules:this.state.monthRowClassRule,onCellClicked:function(t){return e.monthWiseCellClick(t)},ensureIndexVisible:this.state.ensureIndexVisible,gridApi:this.getMonthParams}),o.a.createElement(ba,{suppressRowClickSelection:!0,rowData:this.state.monthTotalData,columnDefs:this.state.monthcolumnsTotal,loading:this.state.loading,gridApi:this.getMonthTotalParams})),o.a.createElement("div",{className:"x_content2"},o.a.createElement("div",{className:"tab",id:"posTableTab",role:"tabpanel",style:{marginTop:"10px"}},this.renderTabs(),o.a.createElement("div",{className:"tab-content tabs"},o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in active",id:"Section1"},"*"!=this.state.cityId?o.a.createElement("div",{style:{height:"4vh",backgroundColor:"#1784c7"}},o.a.createElement("input",{placeholder:"Search OD",onChange:this.odsearchfilter,id:"filter-text-box",style:{width:"6vw",height:"4vh"},value:this.state.odsearchvalue})):"",o.a.createElement(Da,{rowData:this.state.drillDownData,suppressRowClickSelection:!0,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.regionCellClick(t)},loading:this.state.loading2,gridApi:this.getDrillDownParams}),o.a.createElement(ba,{suppressRowClickSelection:!0,loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0,gridApi:this.getDrillDownTotalParams})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section2"},o.a.createElement("div",{style:{height:"4vh",backgroundColor:"#1784c7"}},o.a.createElement("input",{placeholder:"Search OD",onChange:this.odsearchfilter,id:"filter-text-box",style:{width:"6vw",height:"4vh"},value:this.state.odsearchvalue})),o.a.createElement(Da,{rowData:this.state.drillDownData,suppressRowClickSelection:!0,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,pos:!0,gridApi:this.getDrillDownParams}),o.a.createElement(ba,{suppressRowClickSelection:!0,loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0,gridApi:this.getDrillDownTotalParams})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section3"},o.a.createElement(Da,{rowData:this.state.drillDownData,suppressRowClickSelection:!0,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,pos:!0,gridApi:this.getDrillDownParams}),o.a.createElement(ba,{suppressRowClickSelection:!0,loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0,gridApi:this.getDrillDownTotalParams})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section5"},o.a.createElement(Da,{rowData:this.state.drillDownData,suppressRowClickSelection:!0,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,pos:!0,gridApi:this.getDrillDownParams}),o.a.createElement(ba,{suppressRowClickSelection:!0,loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0,gridApi:this.getDrillDownTotalParams}))))),this.state.loading2?"":o.a.createElement("div",{className:"btn-main"},"*"===r&&0==this.state.versionList.length?o.a.createElement("button",{type:"button",className:"btn search",disabled:C,onClick:function(){return e.RouteConversion()}}," ","Route Conversion"," "):"","*"===r&&0!=this.state.versionList.length?o.a.createElement("button",{type:"button",style:{width:"200px"},className:"btn search",disabled:v,onClick:function(){return e.LoadFactorModel()}}," ","Optimized Route Conversion"," "):"",0==this.state.versionList.length&&"*"===r?o.a.createElement("button",{type:"button",className:"btn search",disabled:f,onClick:function(){return e.DemandOptimization()}}," ","Optimization"," "):"",w.isPOSNetworkAdmin&&g.length>0&&"*"===r?"Freeze"===m?o.a.createElement("button",{type:"button",className:"btn search",onClick:function(){return e.postVersionAction("Unfreeze")}}," ","Unfreeze"):o.a.createElement("div",null,o.a.createElement("button",{type:"button",className:"btn search",disabled:!s,onClick:function(){return e.openMessageModal("Submit")}}," ","Submit"),o.a.createElement("button",{type:"button",className:"btn search",disabled:!h,onClick:function(){return e.postVersionAction("Freeze")}}," ","Freeze")):o.a.createElement("div",null,s?o.a.createElement("button",{type:"button",className:"btn search",onClick:function(){return e.openMessageModal("Submit")}}," ","Submit"):o.a.createElement("div",null,w.canApproveRPS&&u?o.a.createElement("button",{type:"button",className:"btn search",onClick:function(){return e.openMessageModal("Approve")}}," ","Approve"):"",w.canRejectRPS&&u?o.a.createElement("button",{type:"button",className:"btn search",onClick:function(){return e.openMessageModal("Reject")}}," ","Reject"):"")),"Channel"===p&&0!=this.state.versionList.length?o.a.createElement("button",{type:"button",style:{width:"200px"},className:"btn search",disabled:v,onClick:function(){return e.handleDownload()}}," ","Channel Target Update"," "):"",o.a.createElement(vi,Object.assign({messageArray:this.state.messageArray,msgResponseData:this.state.msgResponseData,msgCount:this.state.msgCount,msgCountVisible:this.state.msgCountVisible,hasMore:this.state.hasMore,fetchMoreData:this.fetchMoreData},this.props)))))),o.a.createElement("div",null,this.renderMessageModal(),this.renderSelectionModal(),o.a.createElement(pr,{tableModalVisible:this.state.tableModalVisible,datas:this.state.modalData,rowData:this.state.modalCompartmentData,columns:this.state.modalCompartmentColumn,header:"".concat(this.state.gettingMonth),loading:this.state.loading3,closeTableModal:function(){return e.closeTableModal()}}),o.a.createElement(_r,{chartVisible:this.state.chartVisible,datas:this.state.modeldrillDownDatas,columns:this.state.modeldrillDownColumn,closeChartModal:function(){return e.closeChartModal()}})))}}]),a}(n.Component),Ni=Object(Nr.a)(yi),Ti=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={chartVisible:!1},n}return Object(c.a)(a,[{key:"closeChartModal",value:function(){this.setState({chartVisible:!1})}},{key:"render",value:function(){var e=this.props.displayName,t=localStorage.getItem("RPSRouteDownloadURL");return o.a.createElement("div",null,o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},e),o.a.createElement(Sr,{url:t,name:"RPSRoute",path:"/rpsRos",page:"RPSRoute Page"})))}}]),a}(n.Component),Ai=new Te,Ri=(new Date).getFullYear(),Vi=[],Yi=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n,o;return Object(i.a)(this,a),(o=t.call(this,e)).sendEvent=function(e,t,a,n){var o={event_id:e,description:t,where_path:a,page_name:n};R.sendEvent(o)},o.getFiltersValue=function(){Vi=[];var e=window.localStorage.getItem("RouteGroupSelected"),t=window.localStorage.getItem("RouteRegionSelected"),a=window.localStorage.getItem("RouteCountrySelected"),n=window.localStorage.getItem("RouteSelected"),r=(JSON.parse(window.localStorage.getItem("rangeValueNextYear")),window.localStorage.getItem("CabinSelected")),l=window.localStorage.getItem("LegSelected"),i=window.localStorage.getItem("FlightSelected"),c=window.localStorage.getItem("RPSVersion"),s=window.localStorage.getItem("RPSVersion");e=null===e||""===e||"Null"===e?Object.keys(o.userDetails.route_access).length>0?o.userDetails.route_access.selectedRouteGroup:["Network"]:JSON.parse(e);var u=null===r||"Null"===r?[]:JSON.parse(r);r=u.length>0?u:"Null",o.setState({routeGroup:e.join("','"),regionId:null===t||"Null"===t||""===t?"*":JSON.parse(t),countryId:null===a||"Null"===a||""===a?"*":JSON.parse(a),routeId:null===n||"Null"===n||""===n?"*":JSON.parse(n),leg:null===l||"Null"===l||""===l?"*":"'".concat(l,"'"),flight:null===i||"Null"===i||""===i?"*":"'".concat(i,"'"),gettingMonth:window.monthNumToName(1),getCabinValue:r,cabinSelectedDropDown:u,version:null===c?"Null":1,RpsVersion:s},(function(){return o.getInitialData()}))},o.getInitialListData=function(e,t,a,n,r){var l=Object(je.a)(o),i=o.userDetails.route_access,c=n.substring(1,n.length-1),s=r.substring(1,r.length-1);Object.keys(i).length>0&&l.setState({accessLevelDisable:!0});var u=i.hasOwnProperty("selectedRouteRegion");l.setState({regionLevelAccess:u});var d=i.hasOwnProperty("selectedRouteCountry"),m=i.hasOwnProperty("selectedRoute");"*"!==e&&(Vi.push({val:e,title:"Region",disable:d}),l.setState({selectedData:e})),"*"!==t&&(Vi.push({val:t,title:"Country",disable:m}),l.setState({selectedData:t})),"*"!==a&&(Vi.push({val:a,title:"Route"}),l.setState({selectedData:a})),"*"!==c&&(Vi.push({val:c,flight:s,title:"Leg"}),l.setState({selectedData:n})),"*"!==s&&(Vi.push({val:s,title:"Flight"}),l.setState({selectedData:r}))},o.getMonthDrillDownData=function(e,t,a,n,r,l){var i=Object(je.a)(o),c=o.state,s=c.currency,u=c.gettingMonth,d=c.getCabinValue,m=c.type,h=c.gettingYear,g=c.version;i.setState({loading:!0,loading2:!0,monthRowData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),Ai.getRPSRouteMonthTables(s,e,t,a,n,r,l,d,g).then((function(e){if(i.setState({loading:!1}),e){var t=e[0].totalData,a=e[0].columnName,n=e[0].rowData;n,i.setState({monthRowData:i.getHighlightedMonth(n,u,h),monthColumn:a,monthTotalData:t})}})),Ai.getRPSRouteDrillDownData(h,s,u,e,t,a,n,r,l,d,m,g).then((function(e){i.setState({loading2:!1}),e&&i.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].rowData,drillDownColumn:e[0].columnName,tabName:"Null"===m?e[0].tabName:e[0].firstTabName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,routeId:e[0].currentAccess.routeId,leg:e[0].currentAccess.leg,flight:e[0].currentAccess.flight})}))},o.getDrillDownData=function(e,t,a,n,r,l,i){var c=Object(je.a)(o),s=o.state,u=s.gettingYear,d=s.gettingMonth,m=s.getCabinValue,h=s.currency,g=s.version;Ai.getRPSRouteDrillDownData(u,h,d,e,t,a,n,r,l,m,i,g).then((function(e){c.setState({loading2:!1}),e&&(console.log("rahul drilldown",e),c.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].rowData,drillDownColumn:e[0].columnName,tabName:"Null"===i?e[0].tabName:e[0].firstTabName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,routeId:e[0].currentAccess.routeId,leg:e[0].currentAccess.leg,flight:e[0].currentAccess.flight}))}))},o.monthWiseCellClick=function(e){var t=Object(je.a)(o),a=o.state,n=a.routeGroup,r=(a.currency,a.gettingMonth,a.regionId),l=a.countryId,i=a.routeId,c=a.leg,s=a.flight,u=a.getCabinValue,d=a.type,m=(a.gettingYear,e.data.Month),h=e.colDef.field,g=o.state.monthRowData.map((function(e){return e.highlightMe=!1,e}));e.api.updateRowData({update:g}),o.setState({gettingMonth:e.data.MonthName,gettingYear:e.data.Year});var p={from:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)},to:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)}};window.localStorage.setItem("rangeValueNextYear",JSON.stringify(p)),"CY_B"!==h||m.includes("Total")?"Month"!==h||m.includes("Total")||(t.setState({loading2:!0,drillDownData:[],drillDownTotalData:[]}),t.getDrillDownData(n,r,l,i,c,s,d)):(e.event.stopPropagation(),t.showLoader(),Ai.getRouteCabinDetails(e.data.Year,e.data.MonthName,n,r,l,i,c,s,u).then((function(e){if(t.hideLoader(),e){var a=e[0].columnName,n=e[0].cabinData;t.setState({tableModalVisible:!0,modalCompartmentData:n,modalCompartmentColumn:a})}})))},o.regionCellClick=function(e){var t,a=Object(je.a)(o),n=o.state,r=n.routeGroup,l=n.regionId,i=n.countryId,c=n.routeId,s=n.leg,u=n.flight,d=n.getCabinValue,m=e.colDef.field,h="'".concat(e.data.firstColumnName,"'"),g=e.data.firstColumnName,p=e.colDef.headerName;Vi.map((function(e,a){return t=e.title===p})),"firstColumnName"===m&&(t||"Aircraft"!==p&&(o.storeValuesToLS(l,i,c,s,u,d,g),a.setState({selectedData:h}),Vi.push({val:e.data.firstColumnName,title:p}),"*"===l?a.getMonthDrillDownData(r,h,i,c,s,u):"*"===i?a.getMonthDrillDownData(r,l,h,c,s,u):"*"===c?a.getMonthDrillDownData(r,l,i,h,s,u):"*"===s?a.getMonthDrillDownData(r,l,i,c,h,u):"*"===u&&a.getMonthDrillDownData(r,l,i,c,s,h)))},o.tabClick=function(e,t){var a=Object(je.a)(o);a.sendEvent("2","clicked on ".concat(e," tab"),"route","Route Page");var n=o.state,r=n.routeGroup,l=n.regionId,i=n.countryId,c=n.routeId,s=n.leg,u=n.flight,d=n.monthColumn;a.setState({type:e,loading2:!0,drillDownData:[],drillDownTotalData:[]}),t?o.setState({outerTab:t}):o.setState({outerTab:""}),a.getDrillDownData(r,l,i,c,s,u,e),o.gridApiMonth.setColumnDefs(d)},o.cabinSelectChange=function(e){e.preventDefault();var t=e.target.value;o.setState({getCabinValue:t,cabinSelectedDropDown:t},(function(){window.localStorage.setItem("CabinSelected",JSON.stringify(t))}))},o.homeHandleClick=function(e){var t=Object(je.a)(o),a=o.state.routeGroup;t.setState({loading:!0,loading2:!0,firstHome:!1,monthRowData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[],odData:[],segmentData:[],currency:"bc"}),window.localStorage.setItem("RouteRegionSelected","Null"),window.localStorage.setItem("RouteCountrySelected","Null"),window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null"),t.getMonthDrillDownData(a,"*","*","*","*","*"),Vi=[],o.props.history.push("".concat(o.pathName,"?RouteGroup=").concat(a))},o.listHandleClick=function(e,t,a){var n=Object(je.a)(o),r=o.state,l=r.routeGroup,i=r.regionId,c=r.countryId,s=r.routeId,u=r.leg,d=(r.flight,e);"'"!==d.charAt(0)&&"'"!==d.charAt(d.length-1)&&(d="'".concat(e,"'")),e.includes(",")&&(d="'".concat(e.split(",").join("','"),"'")),n.setState({selectedData:d,loading:!0,loading2:!0,monthRowData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var m=decodeURIComponent(t);if("List"===a){var h=Vi.findIndex((function(e){return e.title==t})),g=Vi.slice(0,h+1);Vi=g,o.changeURLOnListClick(i,c,s,u,e,m)}else"browserBack"===a&&o.onBackPressClearLS(m);"Region"===m?n.getMonthDrillDownData(l,d,"*","*","*","*"):"Country"===m?n.getMonthDrillDownData(l,i,d,"*","*","*"):"Route"===m?n.getMonthDrillDownData(l,i,c,d,"*","*"):"Leg"===m?n.getMonthDrillDownData(l,i,c,s,d,"*"):"Flight"===m?n.getMonthDrillDownData(l,i,c,s,u,d):"RouteGroup"===m&&n.setState({routeGroup:e},(function(){return o.homeHandleClick()}))},o.currency=function(e){var t=e.target.value,a=o.state,n=a.routeGroup,r=a.regionId,l=a.countryId,i=a.routeId,c=a.leg,s=a.flight;o.setState({currency:t},(function(){return o.getMonthDrillDownData(n,r,l,i,c,s)}))},o.redirection=function(e){o.sendEvent("2","clicked on POS/Route drop down","/route","Route Page"),"POS"===e.target.value?(o.props.history.push("/rpsPos".concat(ae())),Vi=[]):(o.props.history.push("/route"),Vi=[])},o.showLoader=function(){w()("#loaderImage").addClass("loader-visible")},o.hideLoader=function(){w()("#loaderImage").removeClass("loader-visible"),w()(".x_panel").addClass("opacity-fade"),w()(".top-buttons").addClass("opacity-fade")},o.gotoFirstPage=function(){var e=o.state,t=(e.totalPages,e.paginationSize),a=e.totalRecords,n=a%t,r=n<t&&a<t?n:t;o.setState({count:1,paginationStart:1,paginationEnd:r},(function(){o.paginationClick()}))},o.gotoLastPage=function(){var e=o.state,t=e.totalPages,a=e.paginationSize,n=e.totalRecords,r=a*(t-1);console.log("Updating paginationEnd gotoLstPage"),o.setState({count:t,paginationStart:r+1,paginationEnd:n},(function(){return o.paginationClick()}))},o.gotoPreviousPage=function(){var e=o.state,t=e.count,a=e.currentPage,n=e.totalPages,r=e.paginationSize,l=e.paginationStart,i=e.paginationEnd,c=e.totalRecords%r,s=a===n&&c>0?c:r;o.setState({count:t-1,paginationStart:l-r,paginationEnd:i-s},(function(){return o.paginationClick()}))},o.paginationClick=function(){o.setState({odData:""},(function(){return o.posContributionClick()}))},o.gotoNextPage=function(){var e=o.state,t=e.count,a=e.currentPage,n=e.totalPages,r=e.paginationSize,l=e.paginationStart,i=e.paginationEnd,c=e.totalRecords%r,s=a===n-1&&c>0?c:r;o.setState({count:t+1,paginationStart:l+r,paginationEnd:i+s},(function(){return o.paginationClick()}))},o.onChangePosContri=function(e){e.stopPropagation(),o.setState({posContributionTable:e.target.value,currentPage:"",totalPages:"",totalRecords:"",paginationStart:1,paginationEnd:"",paginationSize:"",count:1},(function(){o.posContributionClick()}))},o.gridApiMonthly=function(e){o.gridApiMonth=e},o.pathName=window.location.pathname,o.userDetails=JSON.parse(b.getCookie("userDetails")),o.selectedRegion=null,o.selectedCountry=null,o.selectedRoute=null,o.gridApiMonth=null,o.state=(n={showLastYearRows:!1,showNextYearRows:!1,routeMonthRowClassRule:{"highlight-row":"data.highlightMe"},monthRowData:[],monthColumn:[],monthTotalData:[],drillDownTotalData:[],drillDownData:[],drillDownColumn:[],segmentData:[],segmentColumn:[],odData:[],odColumn:[],modelRegionDatas:[],modelregioncolumn:[],modalData:[],modalCompartmentColumn:[],modalCompartmentData:[],tableDatas:!0,gettingMonth:null,gettingYear:null,monthTableTitle:"",tableTitle:"",tabLevel:"",cabinOption:[],getCabinValue:[],cabinSelectedDropDown:[],cabinDisable:!0,currency:"bc",chartVisible:!1,tableModalVisible:!1,tabName:"Region",regionId:"*",countryId:"*",routeId:"*",leg:"*",flight:"*",type:"Null",baseAccess:"",routeGroup:"",accessLevelDisable:!1,selectedData:"Null",loading:!1,loading2:!1,loading3:!1,firstLoadList:!1,firstHome:!0,posContributionModal:!1,outerTab:"",ancillaryParam:!1,routeParam:!1,ensureIndexVisible:null,posContributionTable:"OD",posContributionTableHeader:"",currentPage:"",totalPages:"",totalRecords:"",paginationStart:1,paginationEnd:"",paginationSize:"",count:1},Object(p.a)(n,"loading",!1),Object(p.a)(n,"regionLevelAccess",!1),Object(p.a)(n,"version","Null"),Object(p.a)(n,"Rpsversion","Null"),n),o.sendEvent("1","User viewed Route Page","/route","Route Page"),o}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=J("ancillaryRoute",window.location.href),a=J("route",window.location.href);this.setState({ancillaryParam:t||!1,routeParam:a||!1}),e.getFiltersValue(),Ai.getClassNameDetails().then((function(t){if(t){var a=t[0].classDatas;e.setState({cabinOption:a,cabinDisable:!1})}}))}},{key:"componentDidUpdate",value:function(){var e=this;window.onpopstate=function(t){var a=e.props.browserToProps.queryParams,n=Object.values(a),o=Object.keys(a),r=o.length-1;"undefined"!==n[0]?(e.pushURLToBcData(a,o,n,r),e.setState({firstHome:!0})):e.state.firstHome&&e.homeHandleClick()}}},{key:"pushURLToBcData",value:function(e,t,a,n){var o=e.RouteGroup;if(this.setState({routeGroup:o}),window.localStorage.setItem("RouteGroupSelected",JSON.stringify([].concat([o]))),e.hasOwnProperty("Region")&&!Vi.some((function(e){return"Region"===e.title}))){var r,l,i=e.Region,c=e.Region;i.includes(",")?i="'".concat(i.split(",").join("','"),"'"):"'"!==i.charAt(0)&&"'"!==i.charAt(i.length-1)&&(i="'".concat(i,"'")),"'"===c.charAt(0)&&"'"===c.charAt(c.length-1)?l=c.substring(1,c.length-1):c.includes(",")?(r=c.split(","),l=c):l=c,Vi.push({val:l,title:"Region"}),this.setState({regionId:i});var s=c.includes(",")?r:[].concat([l]);window.localStorage.setItem("RouteRegionSelected",JSON.stringify(s))}if(e.hasOwnProperty("Country")&&!Vi.some((function(e){return"Country"===e.title}))){var u,d,m=e.Country,h=e.Country;m.includes(",")?m="'".concat(m.split(",").join("','"),"'"):"'"!==m.charAt(0)&&"'"!==m.charAt(m.length-1)&&(m="'".concat(m,"'")),"'"===h.charAt(0)&&"'"===h.charAt(h.length-1)?d=h.substring(1,h.length-1):h.includes(",")?(u=h.split(","),d=h):d=h,Vi.push({val:d,title:"Country"}),this.setState({countryId:m});var g=h.includes(",")?u:[].concat([d]);window.localStorage.setItem("RouteCountrySelected",JSON.stringify(g)),console.log("rahul Country",d,m)}if(e.hasOwnProperty("Route")&&!Vi.some((function(e){return"Route"===e.title}))){var p,f,v=e.Route,C=e.Route;v.includes(",")?v="'".concat(v.split(",").join("','"),"'"):"'"!==v.charAt(0)&&"'"!==v.charAt(v.length-1)&&(v="'".concat(v,"'")),"'"===C.charAt(0)&&"'"===C.charAt(C.length-1)?f=C.substring(1,C.length-1):C.includes(",")?(p=C.split(","),f=C):f=C,Vi.push({val:f,title:"Route"}),this.setState({routeId:v});var w=C.includes(",")?p:[].concat([f]);window.localStorage.setItem("RouteSelected",JSON.stringify(w)),console.log("rahul Route",f,v)}if(e.hasOwnProperty("Leg")&&!Vi.some((function(e){return"Leg"===e.title}))&&(Vi.push({val:e.Leg,title:"Leg"}),console.log("rahul Leg",e.Leg),this.setState({leg:"'".concat(e.Leg,"'")}),window.localStorage.setItem("LegSelected",e.Leg)),e.hasOwnProperty("Flight")&&!Vi.some((function(e){return"Flight"===e.title}))&&(Vi.push({val:e.Flight,title:"Flight"}),console.log("rahul Flight",e.Flight),this.setState({flight:e.Flight}),window.localStorage.setItem("FlightSelected",e.Flight)),console.log("rahul bcData before",Vi,n),Vi.length>0){var _=Vi.slice(0,n);Vi=_}console.log("rahul bcData after",Vi),this.listHandleClick(a[n],t[n],"browserBack")}},{key:"getInitialData",value:function(){var e=this,t=this.state,a=t.routeGroup,n=t.currency,o=t.gettingMonth,r=t.gettingYear,l=t.regionId,i=t.countryId,c=t.routeId,s=t.leg,u=t.flight,d=t.getCabinValue,m=t.ancillaryParam,h=t.routeParam,g=t.version;e.setState({loading:!0,loading2:!0,firstLoadList:!0,monthRowData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),e.getInitialListData(l,i,c,s,u),Ai.getRPSRouteMonthTables(n,a,l,i,c,s,u,d,g).then((function(t){if(e.setState({loading:!1,firstLoadList:!1}),t){console.log("rahul month",t);var n=t[0].totalData,d=t[0].columnName,g=t[0].rowData;g,e.setState({monthRowData:e.getHighlightedMonth(g,o,r),monthColumn:d,monthTotalData:n,gettingYear:g[0].Year})}m?(e.getDrillDownData(a,l,i,c,s,u,"Ancillary"),e.setState({type:"Ancillary"})):h?(e.getDrillDownData(a,l,i,c,s,u,"OD"),e.setState({type:"OD"})):e.getDrillDownData(a,l,i,c,s,u,"Null")}))}},{key:"getHighlightedMonth",value:function(e,t,a){var n=this;console.log("rahul 1",e);var o=window.monthNameToNum(t);return e.filter((function(e,t){var r=e.Month;return"".concat(window.shortMonthNumToName(o)," ").concat(a)===r&&(e.highlightMe=!0,n.setState({ensureIndexVisible:t})),e}))}},{key:"getHighlightedRow",value:function(e,t){return e.map((function(e,t){var a=e.Month;return a==="\u25bc Total ".concat(Ri-1)||a==="\u25ba Total ".concat(Ri-1)?e.highlightMe=!0:a!=="\u25bc Total ".concat(Ri+1)&&a!=="\u25ba Total ".concat(Ri+1)||(e.highlightMe=!0),e}))}},{key:"rectifyURLValues",value:function(e,t,a,n){Array.isArray(e)?this.selectedRegion=e.join(","):e.includes("','")?(this.selectedRegion=e.split("','").join(","),this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)):(this.selectedRegion=e,this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)),Array.isArray(t)?this.selectedCountry=t.join(","):e.includes("','")?(this.selectedCountry=t.split("','").join(","),this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)):(this.selectedCountry=t,this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)),Array.isArray(a)?this.selectedRoute=a.join(","):e.includes("','")?(this.selectedRoute=a.split("','").join(","),this.selectedRoute=this.selectedRoute.substring(1,this.selectedRoute.length-1)):(this.selectedRoute=a,this.selectedRoute=this.selectedRoute.substring(1,this.selectedRoute.length-1)),this.selectedLeg=n,this.selectedLeg=this.selectedLeg.substring(1,this.selectedLeg.length-1)}},{key:"storeValuesToLS",value:function(e,t,a,n,o,r,l){var i=[],c=[],s=[],u=[];this.rectifyURLValues(e,t,a,n),"*"===e?(this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(l))),i.push(l),window.localStorage.setItem("RouteRegionSelected",JSON.stringify(i))):"*"===t?(this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(l)),c.push(l),window.localStorage.setItem("RouteCountrySelected",JSON.stringify(c))):"*"===a?(this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&Route=").concat(l)),s.push(l),window.localStorage.setItem("RouteSelected",JSON.stringify(s))):"*"===n?(this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&Route=").concat(this.selectedRoute,"&Leg=").concat(l)),window.localStorage.setItem("LegSelected",l)):"*"===o?(this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&Route=").concat(this.selectedRoute,"&Leg=").concat(this.selectedLeg,"&Flight=").concat(l)),window.localStorage.setItem("FlightSelected",l)):"Null"===r&&(u.push(l),window.localStorage.setItem("CabinSelected",JSON.stringify(u)))}},{key:"onCabinClose",value:function(){var e=this;this.sendEvent("2","clicked on Cabin drop down","/route","Route Page"),this.state.cabinSelectedDropDown.length>0?this.getDataOnCabinChange():(this.setState({getCabinValue:"Null"},(function(){return e.getDataOnCabinChange()})),window.localStorage.setItem("CabinSelected","Null"))}},{key:"getDataOnCabinChange",value:function(){this.setState({loading:!0,loading2:!0,monthRowData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var e=this.state,t=e.routeGroup,a=e.regionId,n=e.countryId,o=e.routeId,r=e.leg,l=e.flight;this.getMonthDrillDownData(t,a,n,o,r,l)}},{key:"changeURLOnListClick",value:function(e,t,a,n,o,r){this.rectifyURLValues(e,t,a,n),"Region"===r?(this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(o))),window.localStorage.setItem("RouteCountrySelected","Null"),window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null")):"Country"===r?(this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(o)),window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null")):"Route"===r?(this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&Route=").concat(o)),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null")):"Leg"===r?(window.localStorage.setItem("FlightSelected","Null"),this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&Route=").concat(this.selectedRoute,"&Leg=").concat(o))):"Flight"===r&&this.props.history.push("".concat(this.pathName,"?RouteGroup=").concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&Route=").concat(this.selectedRoute,"&Leg=").concat(this.selectedLeg,"&Flight=").concat(o))}},{key:"onBackPressClearLS",value:function(e){"Region"===e?(window.localStorage.setItem("RouteCountrySelected","Null"),window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null")):"Country"===e?(window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null")):"Route"===e?(window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("FlightSelected","Null")):"Leg"===e&&window.localStorage.setItem("FlightSelected","Null")}},{key:"closeChartModal",value:function(){this.setState({chartVisible:!1})}},{key:"closeTableModal",value:function(){this.setState({tableModalVisible:!1})}},{key:"callAccess",value:function(e){var t=this,a=[];a.push(e),window.localStorage.setItem("RouteGroupSelected",JSON.stringify(a)),this.setState({routeGroup:e},(function(){return t.homeHandleClick()}))}},{key:"renderTabs",value:function(){var e=this,t=this.state,a=t.tabName,n=(t.gettingMonth,t.regionId,t.countryId,t.routeId,t.leg,t.flight,t.getCabinValue,t.routeGroup,t.gettingYear,t.type,t.outerTab),r=t.ancillaryParam,l=t.routeParam;return o.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},"Flight"===a||"Leg"===a||"Aircraft"===a?o.a.createElement("li",{role:"presentation",className:"".concat(l?"active":""),onClick:function(){return e.tabClick("OD","Route")}},o.a.createElement("a",{href:"#Section5","aria-controls":"profile",role:"tab","data-toggle":"tab"},"Route")):"","Aircraft"===a?o.a.createElement("li",{role:"presentation",onClick:function(){return e.tabClick("Flights","Flight")}},o.a.createElement("a",{href:"#Section7","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Flight")):"",o.a.createElement("li",{id:"regionTab",role:"presentation",className:"".concat(r||l?"":"active"),onClick:function(){return e.tabClick("Null")}},o.a.createElement("a",{href:"#Section2","aria-controls":"profile",role:"tab","data-toggle":"tab"},a)),"Route"===a||"Flight"===a||"Aircraft"===a||"Leg"===a?"":o.a.createElement("li",{role:"presentation",className:"".concat(l||"Route"===n?"active":""),onClick:function(){return e.tabClick("OD")}},o.a.createElement("a",{href:"#Section5","aria-controls":"profile",role:"tab","data-toggle":"tab"},"Route")),"Flight"===a||"Aircraft"===a?"":o.a.createElement("li",{role:"presentation",onClick:function(){return e.tabClick("Flights")},className:"".concat("Flight"===n?"active":"")},o.a.createElement("a",{href:"#Section7","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Flight")),"Aircraft"===a?"":o.a.createElement("li",{role:"presentation",onClick:function(){return e.tabClick("Aircraft")},className:"".concat("Aircraft"===n?"active":"")},o.a.createElement("a",{href:"#Section8","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Aircraft")),o.a.createElement("li",{role:"presentation",onClick:function(){return e.tabClick("Cabin")}},o.a.createElement("a",{href:"#Section9","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Cabin")))}},{key:"renderPosContributionModal",value:function(){var e=this;return o.a.createElement(Oe.a,{show:this.state.posContributionModal,onHide:function(){return e.setState({posContributionModal:!1,posContributionTable:"OD",currentPage:"",totalPages:"",totalRecords:"",paginationStart:1,paginationEnd:"",paginationSize:"",count:1})},"aria-labelledby":"ModalHeader",className:"posContri"},o.a.createElement(Oe.a.Header,{closeButton:!0},o.a.createElement(Oe.a.Title,{id:"ModalHeader",title:"POS Contribution for ".concat(H(this.state.routeId))},"POS Contribution for ".concat(H(this.state.routeId)))),o.a.createElement(Oe.a.Body,null,o.a.createElement("div",{style:{width:"100%"}},o.a.createElement("div",{className:"posContriBodyTop"},o.a.createElement("h3",{className:"headingPOS"},this.state.posContributionTableHeader),o.a.createElement("select",{className:"form-control cabinselect pos-route-dropdown",onChange:function(t){return e.onChangePosContri(t)}},o.a.createElement("option",{value:"OD",selected:!0},"OD Wise"),o.a.createElement("option",{value:"Segment"},"Segment Wise"))),o.a.createElement(Da,{rowData:this.state.odData,columnDefs:this.state.odColumn,route:!0})),o.a.createElement(sl,{paginationStart:this.state.paginationStart,paginationEnd:this.state.paginationEnd,totalRecords:this.state.totalRecords,currentPage:this.state.currentPage,TotalPages:this.state.totalPages,gotoFirstPage:function(){return e.gotoFirstPage()},gotoLastPage:function(){return e.gotoLastPage()},gotoPreviousPage:function(){return e.gotoPreviousPage()},gotoNexttPage:function(){return e.gotoNextPage()}})))}},{key:"render",value:function(){var e=this,t=localStorage.getItem("RPSRouteDownloadURL"),a=this.state,n=a.ancillaryParam,r=a.routeParam,l=(a.cabinOption,a.cabinSelectedDropDown,a.cabinDisable,a.routeGroup),i=a.accessLevelDisable,c=a.firstLoadList,s=a.regionLevelAccess;return o.a.createElement("div",{className:"rps"},o.a.createElement(ta,Object.assign({dashboardPath:"/posDashboard"},this.props)),o.a.createElement(Dr,null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top"},o.a.createElement("div",{className:"navdesign",style:{marginTop:"0px"}},o.a.createElement("div",{className:"col-md-7 col-sm-7 col-xs-12 toggle1"},o.a.createElement("select",{className:"form-control cabinselect pos-route-dropdown",onChange:function(t){return e.redirection(t)}},o.a.createElement("option",{value:"POS"},"POS RPS"),o.a.createElement("option",{value:"Route",selected:!0},"Route RPS")),c?"":o.a.createElement("div",{className:"route-access"},l,o.a.createElement("div",{className:"triangle-up"}),o.a.createElement("div",{className:"route-groups"},o.a.createElement("div",{className:"route-main ".concat(i?" route-main-disable":"")},o.a.createElement("span",{className:"".concat(i?" route-access-disable":""),onClick:function(){return e.callAccess("Network")}},"Network")),o.a.createElement("div",{className:"route-main ".concat(i?s?"route-main-disable":"Domestic"===l?"":"route-main-disable":"")},o.a.createElement("span",{className:"".concat(i?s?"route-access-disable":"Domestic"===l?"":"route-access-disable":""),onClick:function(){return e.callAccess("Domestic")}},"Domestic")),o.a.createElement("div",{className:"route-main international ".concat(i?s?"route-main-disable":"International"===l?"":"route-main-disable":"")},o.a.createElement("span",{className:"".concat(i?s?"route-access-disable":"International"===l?"":"route-access-disable":""),onClick:function(){return e.callAccess("International")}},"International")))),o.a.createElement("section",null,o.a.createElement("nav",null,o.a.createElement("ol",{className:"cd-breadcrumb"},this.state.firstLoadList?"":Vi.map((function(t){return o.a.createElement("div",{style:{cursor:t.disable?"not-allowed":"pointer"}},o.a.createElement("li",{className:"".concat(t.disable?"breadcrumb-disable":""),onClick:function(a){return e.listHandleClick(a.target.id,t.title,"List")},id:t.val,title:"".concat(t.title," : ").concat(t.val)}," > ".concat(t.val)))})),0===this.state.version||"null"===this.state.version||"Null"===this.state.version&&"*"===this.state.regionId&&"*"===this.state.countryId?o.a.createElement("div",null,o.a.createElement("h2",{style:{marginLeft:"20px"}},"Demand Estimation Screen")):o.a.createElement("div",null,o.a.createElement("h2",{style:{marginLeft:"20px"}},"Network Optimal Target Screen")))))),o.a.createElement("div",{className:"col-md-5 col-sm-5 col-xs-12 toggle2",style:{marginRight:"20px"}},console.log(this.state.version.length,this.state.version,":::00000::::"),0===this.state.version||"null"===this.state.version||"Null"===this.state.version?"":o.a.createElement("h4",{style:{marginRight:"10px"}}," ","Version : ",this.state.RpsVersion),o.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},o.a.createElement(Sr,{url:t,name:"RPS POS",path:"/rpsPos",page:!0})))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},o.a.createElement("div",{className:"x_panel",style:{marginTop:"10px",height:"calc(100vh - 130px)"}},o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.monthRowData,columnDefs:this.state.monthColumn,onCellClicked:function(t){return e.monthWiseCellClick(t)},frameworkComponents:{customHeaderGroupComponent:Ti},loading:this.state.loading,rowClassRules:this.state.routeMonthRowClassRule,route:!0,ensureIndexVisible:this.state.ensureIndexVisible,gridApi:this.gridApiMonthly}),o.a.createElement(ba,{rowData:this.state.monthTotalData,columnDefs:this.state.monthColumn,frameworkComponents:{customHeaderGroupComponent:Ti},loading:this.state.loading,responsive:!0,reducingPadding:!0}),o.a.createElement("div",{className:"tab",id:"posTableTab",role:"tabpanel",style:{marginTop:"10px"}},this.renderTabs(),o.a.createElement("div",{className:"tab-content tabs"},o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in ".concat(n||r?"":"active"),id:"Section2"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.regionCellClick(t)},loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section4"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in ".concat(r?"active":""),id:"Section5"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section7"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section7"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section8"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section9"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})))))))),o.a.createElement("div",null,o.a.createElement(pr,{tableModalVisible:this.state.tableModalVisible,rowData:this.state.modalCompartmentData,columns:this.state.modalCompartmentColumn,header:"".concat(this.state.gettingMonth," ").concat(this.state.gettingYear)}),o.a.createElement(_r,{chartVisible:this.state.chartVisible,datas:this.state.modelRegionDatas,columns:this.state.modelregioncolumn,closeChartModal:function(){return e.closeChartModal()}}),this.renderPosContributionModal()))}}]),a}(n.Component),Ei=Object(Nr.a)(Yi),Li=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={chartVisible:!1},n}return Object(c.a)(a,[{key:"closeChartModal",value:function(){this.setState({chartVisible:!1})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},this.props.displayName),o.a.createElement("i",{class:"fa fa-bar-chart-o",style:{marginLeft:"10px",cursor:"pointer"},onClick:function(){return e.setState({chartVisible:!0})}})),o.a.createElement(_r,{chartVisible:this.state.chartVisible,displayName:this.props.displayName,closeChartModal:function(){return e.closeChartModal()}}))}}]),a}(n.Component),ki=(a(1038),new Te),Bi=new Date,Ii=new Date(Bi.getFullYear(),Bi.getMonth(),2).toISOString().slice(0,10),Oi=(new Date).getFullYear(),Pi=[],Mi=[],Fi=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e,t,a,n){var o={event_id:"".concat(e),description:"User ".concat(t),where_path:"/".concat(a),page_name:"".concat(n)};R.sendEvent(o)},n.getFiltersValue=function(){Mi=[];var e=window.monthNameToNum(n.getPrev2Months()[0].Month),t=n.getPrev2Months()[0].Year,a=window.localStorage.getItem(""),o=window.localStorage.getItem(""),r=window.localStorage.getItem(""),l=window.localStorage.getItem(""),i=null===l||"Null"===l?[]:JSON.parse(l);l=i.length>0?i:"Null",r=null===r||"Null"===r||""===r?"*":JSON.parse(r),n.setState({regionId:null===a||"Null"===a||""===a?"*":JSON.parse(a),countryId:null===o||"Null"===o||""===o?"*":JSON.parse(o),startDate:$(new Date(t,e-1,1)),gettingMonth:e,gettingYear:t,getCabinValue:l,cabinSelectedDropDown:i},(function(){return n.getInitialData()}))},n.getInitialData=function(){var e=Object(je.a)(n),t=n.state,a=t.gettingMonth,o=t.gettingYear,r=t.regionId,l=t.countryId,i=t.cityId,c=t.commonOD,s=t.getCabinValue,u=t.startDate;e.setState({loading:!0,loading2:!0,firstLoadList:!0,monthData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),e.getInitialListData(r,l,i,c),ki.getForecastMonthTable(u,r,l,i,c,s).then((function(t){if(e.setState({loading:!1,firstLoadList:!1}),t){var n=t[0].totalData,s=t[0].columnName,u=t[0].rowData;Pi=u,e.setState({monthData:e.getHighlightedMonth(u,a,o),monthcolumns:s,monthTotalData:n})}e.getDrillDownData(r,l,i,c,"Null")}))},n.getInitialListData=function(e,t,a,o){var r=Object(je.a)(n),l=JSON.parse(b.getCookie("userDetails")),i=o.substring(1,o.length-1),c=l.access,s="*",u="*";if("#*"!==c){r.setState({accessLevelDisable:!0});var d=c.split("#");s=d[2],u="*"===d[2]?"*":d[3]}"*"!==e&&(Mi.push({val:e,title:"Region",disable:"*"!==s}),r.setState({selectedData:e})),"*"!==t&&(Mi.push({val:t,title:"Country",disable:"*"!==u}),r.setState({selectedData:t})),"*"!==a&&(Mi.push({val:a,title:"POS"}),r.setState({selectedData:a})),"*"!==a&&"*"!==i&&(Mi.push({val:i,title:"O&D"}),r.setState({selectedData:o}))},n.getMonthDrillDownData=function(e,t,a,o){var r=Object(je.a)(n),l=n.state,i=l.gettingMonth,c=l.getCabinValue,s=l.type,u=l.gettingYear,d=l.startDate;r.setState({loading:!0,loading2:!0,monthData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),ki.getForecastMonthTable(d,e,t,a,o,c).then((function(e){if(r.setState({loading:!1}),e){var t=e[0].totalData,a=e[0].columnName,n=e[0].rowData;Pi=n,r.setState({monthData:r.getHighlightedMonth(n,i,u),monthcolumns:a,monthTotalData:t})}})),ki.getForecastDrillDownData(u,d,i,e,t,a,o,c,s).then((function(e){r.setState({loading2:!1}),e&&r.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].rowData,drillDownColumn:e[0].columnName,tabName:"Null"===s?e[0].tabName:e[0].firstTabName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,cityId:e[0].currentAccess.cityId,commonOD:e[0].currentAccess.commonOD})}))},n.getDrillDownData=function(e,t,a,o,r){var l=Object(je.a)(n),i=n.state,c=i.gettingYear,s=i.gettingMonth,u=i.getCabinValue,d=i.startDate;ki.getForecastDrillDownData(c,d,s,e,t,a,o,u,r).then((function(e){l.setState({loading2:!1}),e&&l.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].rowData,drillDownColumn:e[0].columnName,tabName:"Null"===r?e[0].tabName:e[0].firstTabName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,cityId:e[0].currentAccess.cityId,commonOD:e[0].currentAccess.commonOD})}))},n.monthWiseCellClick=function(e){var t=Object(je.a)(n);t.sendEvent("2","clicked on Months row","forecastAccuracy","Forecast Accuracy Page");var a=n.state,o=a.regionId,r=a.countryId,l=a.cityId,i=a.commonOD,c=(a.getCabinValue,a.type),s=e.data.Month,u=e.colDef.field,d=n.state.monthData.map((function(e){return e.highlightMe=!1,e}));if(e.api.updateRowData({update:d}),s.includes("Total ".concat(Oi-1)))n.setState({showLastYearRows:!n.state.showLastYearRows,showNextYearRows:!1},(function(){return n.getLastYearClubbedData(n.state.showLastYearRows,s)}));else if(s.includes("Total ".concat(Oi+1)))n.setState({showNextYearRows:!n.state.showNextYearRows,showLastYearRows:!1},(function(){return n.getNextYearClubbedData(n.state.showNextYearRows,s)}));else{t.setState({gettingMonth:window.monthNameToNum(e.data.MonthName),gettingYear:e.data.Year});var m={from:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)},to:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)}};window.localStorage.setItem("rangeValue",JSON.stringify(m))}"Month"!==u||s.includes("Total")||(t.setState({loading2:!0,drillDownData:[],drillDownTotalData:[]}),t.getDrillDownData(o,r,l,i,c))},n.regionCellClick=function(e){var t=Object(je.a)(n);t.sendEvent("2","clicked on Region drill down","forecastAccuracy","Forecast Accuracy Page");var a,o=n.state,r=o.startDate,l=o.regionId,i=o.countryId,c=o.cityId,s=o.commonOD,u=(o.gettingMonth,o.currentMonth,o.getCabinValue),d=e.colDef.field,m="'".concat(e.data.firstColumnName,"'"),h=e.data.firstColumnName,g=e.colDef.headerName,p=new Date,f=new Date(p.getFullYear(),p.getMonth(),2).toISOString().slice(0,10);Mi.map((function(e,t){return a=e.title===g})),"firstColumnName"===d&&r!==f&&(a||("POS"!==g&&(t.setState({selectedData:m}),Mi.push({val:h,title:g}),n.storeValuesToLS(l,i,c,s,u,h)),"*"===l?t.getMonthDrillDownData(m,i,c,s):"*"===i&&t.getMonthDrillDownData(l,m,c,s)))},n.tabClick=function(e,t){var a=Object(je.a)(n);a.sendEvent("2","clicked on ".concat(e," tab"),"forecastAccuracy","Forecast Accuracy Page");var o=n.state,r=o.regionId,l=o.countryId,i=o.cityId,c=o.commonOD;o.selectedData;a.setState({type:e,drillDownData:[],drillDownTotalData:[],loading2:!0}),t?n.setState({outerTab:!0}):n.setState({outerTab:!1}),a.getDrillDownData(r,l,i,c,e)},n.ODcellClick=function(e){var t=n.state,a=(t.gettingMonth,t.regionId),o=t.countryId,r=t.cityId,l=t.commonOD,i=t.getCabinValue,c=(t.gettingYear,e.colDef.field),s=e.data.firstColumnName;"CY_AL"===c?(window.localStorage.setItem("ODSelected",s),n.props.history.push("/topMarkets")):"Avail"===c&&n.getAvailabilityData(a,o,r,l,i,"OD",s)},n.agentCellClick=function(e){var t=e.colDef.field,a=e.data.firstColumnName;"firstColumnName"===t&&(window.localStorage.setItem("Agent",a),window.location.href="/agentAnalysis")},n.compartmentCellClick=function(e){var t=n.state,a=(t.gettingMonth,t.regionId),o=t.countryId,r=t.cityId,l=t.commonOD,i=t.getCabinValue,c=(t.gettingYear,e.colDef.field),s=e.data.firstColumnName;"Avail"===c?n.getAvailabilityData(a,o,r,l,i,"Cabin",s):"FRCT/Act_A"===c&&n.getInfareGraphData(e)},n.homeHandleClick=function(e){var t=Object(je.a)(n);if("#*"===JSON.parse(b.getCookie("userDetails")).access){t.sendEvent("2","clicked on Network","forecastAccuracy","Forecast Accuracy Page"),t.setState({loading:!0,loading2:!0,firstHome:!1,monthData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[],currency:"bc"}),window.localStorage.setItem("RegionSelected","Null"),window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null"),t.getMonthDrillDownData("*","*","*","*"),Mi=[];var a=window.location.href.split("?")[0];window.history.pushState("object",document.title,a)}},n.listHandleClick=function(e,t,a){var o=Object(je.a)(n);o.sendEvent("2","clicked on Drill down list","forecastAccuracy","Forecast Accuracy Page");var r=n.state,l=r.regionId,i=r.countryId,c=r.cityId,s=e;"'"!==s.charAt(0)&&"'"!==s.charAt(s.length-1)&&(s="'".concat(e,"'")),e.includes(",")&&(s="'".concat(e.split(",").join("','"),"'")),o.setState({selectedData:s,loading:!0,loading2:!0,monthData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var u=decodeURIComponent(t);if("List"===a){var d=Mi.findIndex((function(t){return t.val==e})),m=Mi.slice(0,d+1);Mi=m,n.changeURLOnListClick(l,i,c,e,u)}else"browserBack"===a&&n.onBackPressClearLS(u);"Region"===u?o.getMonthDrillDownData(s,"*","*","*"):"Country"===u&&o.getMonthDrillDownData(l,s,"*","*")},n.cabinSelectChange=function(e){e.preventDefault();var t=e.target.value;n.setState({getCabinValue:t,cabinSelectedDropDown:t},(function(){window.localStorage.setItem("CabinSelected",JSON.stringify(t))}))},n.toggle=function(e){var t=n.state,a=t.regionId,o=t.countryId,r=t.cityId,l=t.commonOD,i=e.target.value;n.sendEvent("2","clicked on Currency toggle","forecastAccuracy","Forecast Accuracy Page"),n.setState({currency:i},(function(){return n.getMonthDrillDownData(a,o,r,l)}))},n.monthChange=function(){var e=n.state,t=e.regionId,a=e.countryId,o=e.cityId,r=e.commonOD,l=e.currentMonth,i=document.getElementById("months"),c=window.monthNameToNum(i.options[i.selectedIndex].id),s=i.options[i.selectedIndex].value,u=$(new Date(s,c-1,1)),d=c===l;Mi=[],n.setState({gettingMonth:c,gettingYear:s,startDate:u,countryId:d?"*":a,regionId:d?"*":t,cityId:d?"*":o,commonOD:d?"*":r},(function(){return n.getMonthDrillDownData("*","*","*","*")}))},n.showLoader=function(){w()("#loaderImage").addClass("loader-visible")},n.hideLoader=function(){w()("#loaderImage").removeClass("loader-visible"),w()(".x_panel").addClass("opacity-fade"),w()(".top-buttons").addClass("opacity-fade")},n.renderTabs=function(){var e=n.state,t=e.startDate,a=e.gettingMonth,r=e.regionId,l=e.countryId,i=e.cityId,c=e.commonOD,s=e.getCabinValue,u=e.tabName,d=e.gettingYear,m=e.type,h=(e.outerTab,e.ancillary);e.currentMonth,ki.exportCSVPOSDrillDownURL(d,a,r,l,i,c,s,m),ki.exportCSVPOSMonthlyURL(r,l,i,c,s);return o.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},"Cabin"===u?o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("OD","outerTab")}},o.a.createElement("a",{href:"#Section2","aria-controls":"profile",role:"tab","data-toggle":"tab"},"O&D")):"",o.a.createElement("li",{role:"presentation",className:"".concat(h?"":"active"),onClick:function(){return n.tabClick("Null")}},o.a.createElement("a",{href:"#Section1","aria-controls":"home",role:"tab","data-toggle":"tab"},u)),t===Ii||"Cabin"===u?"":o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Cabin")}},o.a.createElement("a",{href:"#Section3","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Cabin")))},n.selectedRegion=null,n.selectedCountry=null,n.selectedCity=null,n.state={monthData:[],monthTotalData:[],drillDownTotalData:[],monthcolumns:[],drillDownColumn:[],drillDownData:[],modaldrillDownColumn:[],modaldrillDownData:[],modalData:[],availModalData:[],availModalColumn:[],availTotalData:[],availModalVisible:!1,tableDatas:!0,currentMonth:(new Date).getMonth()+1,currentYear:(new Date).getFullYear(),gettingMonth:null,gettingYear:null,gettingRegion:"Null",monthTableTitle:"NETWORK",tabLevel:"Null",cabinOption:[],alertData:[],getCabinValue:[],cabinSelectedDropDown:[],cabinDisable:!0,currency:"bc",alertVisible:!1,tableModalVisible:!1,tabName:"Region",regionId:"*",countryId:"*",cityId:"*",commonOD:"*",type:"Null",selectedData:"Null",infareData:[],infareModalVisible:!1,infareGraphHeading:"",loading:!1,loading2:!1,loading3:!1,firstLoadList:!1,showLastYearRows:!1,showNextYearRows:!1,accessLevelDisable:!1,posMonthRowClassRule:{"highlight-row":"data.highlightMe"},firstHome:!0,infareCurrency:"",outerTab:!1,ancillary:!1,ensureIndexVisible:null},n.sendEvent("1","viewed Forecast Accuracy Page","forecastAccuracy","Forecast Accuracy Page"),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(Ze("Dashboard","forecastAccuracy")){var t=J("ancillary",window.location.href);e.setState({ancillary:t||!1}),e.getFiltersValue()}else e.props.history.push("/404");ki.getClassNameDetails().then((function(t){if(t){var a=t[0].classDatas;e.setState({cabinOption:a,cabinDisable:!1})}}))}},{key:"componentDidUpdate",value:function(){var e=this;window.onpopstate=function(t){var a=e.props.browserToProps.queryParams,n=Object.values(a),o=Object.keys(a),r=o.length-1;"undefined"!==n[0]?(e.pushURLToBcData(a,o,n,r),e.setState({firstHome:!0})):e.state.firstHome&&e.homeHandleClick()}}},{key:"pushURLToBcData",value:function(e,t,a,n){if(e.hasOwnProperty("Region")&&!Mi.some((function(e){return"Region"===e.title}))){var o,r,l=e.Region,i=e.Region;l.includes(",")?l="'".concat(l.split(",").join("','"),"'"):"'"!==l.charAt(0)&&"'"!==l.charAt(l.length-1)&&(l="'".concat(l,"'")),"'"===i.charAt(0)&&"'"===i.charAt(i.length-1)?r=i.substring(1,i.length-1):i.includes(",")?(o=i.split(","),r=i):r=i,console.log("rahul Region",o),Mi.push({val:r,title:"Region"}),this.setState({regionId:l});var c=i.includes(",")?o:[].concat([r]);window.localStorage.setItem("RegionSelected",JSON.stringify(c))}if(e.hasOwnProperty("Country")&&!Mi.some((function(e){return"Country"===e.title}))){var s,u,d=e.Country,m=e.Country;d.includes(",")?d="'".concat(d.split(",").join("','"),"'"):"'"!==d.charAt(0)&&"'"!==d.charAt(d.length-1)&&(d="'".concat(d,"'")),"'"===m.charAt(0)&&"'"===m.charAt(m.length-1)?u=m.substring(1,m.length-1):m.includes(",")?(s=m.split(","),u=m):u=m,Mi.push({val:u,title:"Country"}),this.setState({countryId:d});var h=m.includes(",")?s:[].concat([u]);window.localStorage.setItem("CountrySelected",JSON.stringify(h)),console.log("rahul Country",u,d)}if(console.log("rahul bcData before",Mi,n,a[n],e),Mi.length>0){var g=Mi.slice(0,n+1);Mi=g}console.log("rahul bcData after",Mi),this.listHandleClick(a[n],t[n],"browserBack")}},{key:"getHighlightedMonth",value:function(e,t,a){var n=this,o=t,r=new Date,l="".concat(window.shortMonthNumToName(o)," ").concat(a),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Sep","Oct","Nov","Dec"],c=i[r.getMonth()]+" "+r.getFullYear();r.setMonth(r.getMonth()-1);var s=i[r.getMonth()]+" "+r.getFullYear();return e.filter((function(e,t){var a=e.Month;return l===a&&(e.highlightMe=!0,n.setState({ensureIndexVisible:t})),l==c&&s==a&&(e.highlightMe=!0,n.setState({ensureIndexVisible:t})),e}))}},{key:"getHighlightedRow",value:function(e,t){return e.map((function(e,t){var a=e.Month;return a==="\u25bc Total ".concat(Oi-1)||a==="\u25ba Total ".concat(Oi-1)?e.highlightMe=!0:a!=="\u25bc Total ".concat(Oi+1)&&a!=="\u25ba Total ".concat(Oi+1)||(e.highlightMe=!0),e}))}},{key:"getLastYearClubbedData",value:function(e,t){if(e){var a=Pi.filter((function(e){if(e.Month==="\u25ba Total ".concat(Oi-1)&&(e.Month="\u25bc Total ".concat(Oi-1)),e.Month==="\u25bc Total ".concat(Oi+1)&&(e.Month="\u25ba Total ".concat(Oi+1)),e.Year<=Oi||e.Month==="\u25bc Total ".concat(Oi-1)||e.Month==="\u25ba Total ".concat(Oi+1))return e}));this.setState({monthData:this.getHighlightedRow(a,t)}),console.log("yash pos clubbing",a),console.log("yash pos new",this.state.monthData)}else{var n=Pi.filter((function(e){if(e.Month==="\u25bc Total ".concat(Oi-1)&&(e.Month="\u25ba Total ".concat(Oi-1)),e.Month==="\u25bc Total ".concat(Oi+1)&&(e.Month="\u25ba Total ".concat(Oi+1)),e.Year===Oi||e.Month==="\u25ba Total ".concat(Oi-1)||e.Month==="\u25ba Total ".concat(Oi+1))return e}));this.setState({monthData:this.getHighlightedRow(n,t)})}}},{key:"getNextYearClubbedData",value:function(e,t){if(e){var a=Pi.filter((function(e){if(e.Month==="\u25ba Total ".concat(Oi+1)&&(e.Month="\u25bc Total ".concat(Oi+1)),e.Month==="\u25bc Total ".concat(Oi-1)&&(e.Month="\u25ba Total ".concat(Oi-1)),e.Year>=Oi||e.Month==="\u25bc Total ".concat(Oi+1)||e.Month==="\u25ba Total ".concat(Oi-1))return e}));this.setState({monthData:this.getHighlightedRow(a,t)})}else{var n=Pi.filter((function(e){if(e.Month==="\u25bc Total ".concat(Oi+1)&&(e.Month="\u25ba Total ".concat(Oi+1)),e.Month==="\u25bc Total ".concat(Oi-1)&&(e.Month="\u25ba Total ".concat(Oi-1)),e.Year===Oi||e.Month==="\u25ba Total ".concat(Oi+1)||e.Month==="\u25ba Total ".concat(Oi-1))return e}));this.setState({monthData:this.getHighlightedRow(n,t)})}}},{key:"rectifyURLValues",value:function(e,t,a){Array.isArray(e)?this.selectedRegion=e.join(","):e.includes("','")?(this.selectedRegion=e.split("','").join(","),this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)):(this.selectedRegion=e,this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)),Array.isArray(t)?this.selectedCountry=t.join(","):e.includes("','")?(this.selectedCountry=t.split("','").join(","),this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)):(this.selectedCountry=t,this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)),Array.isArray(a)?this.selectedCity=a.join(","):e.includes("','")?(this.selectedCity=a.split("','").join(","),this.selectedCity=this.selectedCity.substring(1,this.selectedCity.length-1)):(this.selectedCity=a,this.selectedCity=this.selectedCity.substring(1,this.selectedCity.length-1))}},{key:"storeValuesToLS",value:function(e,t,a,n,o,r){var l=[],i=[],c=[];this.rectifyURLValues(e,t,a),"*"===e?(this.props.history.push("/forecastAccuracy?Region=".concat(encodeURIComponent(r))),l.push(r),window.localStorage.setItem("RegionSelected",JSON.stringify(l))):"*"===t?(this.props.history.push("/forecastAccuracy?Region=".concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(r)),i.push(r),window.localStorage.setItem("CountrySelected",JSON.stringify(i))):"Null"===o&&(c.push(r),window.localStorage.setItem("CabinSelected",JSON.stringify(c)))}},{key:"changeURLOnListClick",value:function(e,t,a,n,o){this.rectifyURLValues(e,t,a),"Region"===o?(this.props.history.push("/forecastAccuracy?Region=".concat(encodeURIComponent(n))),window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null")):"Country"===o&&(this.props.history.push("/forecastAccuracy?Region=".concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(n)),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null"))}},{key:"onBackPressClearLS",value:function(e){"Region"===e?(window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null")):"Country"===e&&(window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null"))}},{key:"onCabinClose",value:function(){var e=this;this.sendEvent("2","clicked on Cabin drop down","forecastAccuracy","Forecast Accuracy Page"),this.state.cabinSelectedDropDown.length>0?this.getDataOnCabinChange():(this.setState({getCabinValue:"Null"},(function(){return e.getDataOnCabinChange()})),window.localStorage.setItem("CabinSelected","Null"))}},{key:"getDataOnCabinChange",value:function(){this.setState({loading:!0,loading2:!0,monthData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var e=this.state,t=e.regionId,a=e.countryId,n=e.cityId,o=e.commonOD;this.getMonthDrillDownData(t,a,n,o)}},{key:"getPrev2Months",value:function(){var e=this.state,t=e.currentMonth,a=e.currentYear,n=Object(I.a)(Array(t)).map((function(e,a){return(t-a)%12}));return console.log(n),n.map((function(e,t){var n=a;return{MonthShort:window.shortMonthNumToName(e),Month:window.monthNumToName(e),Year:n}}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.cabinOption,n=t.cabinSelectedDropDown,r=t.cabinDisable,l=t.accessLevelDisable,i=(t.outerTab,t.ancillary);return o.a.createElement("div",{className:"forecastAccuracy"},o.a.createElement(Dr,null),o.a.createElement(ta,this.props),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top"},o.a.createElement("div",{className:"navdesign",style:{marginTop:"0px"}},o.a.createElement("div",{className:"col-md-7 col-sm-7 col-xs-7 toggle1"},o.a.createElement("h2",null,"Forecast Accuracy"),o.a.createElement("section",null,o.a.createElement("nav",null,o.a.createElement("ol",{className:"cd-breadcrumb"},o.a.createElement("div",{style:{cursor:l?"not-allowed":"pointer"}},o.a.createElement("li",{className:"".concat(l?"breadcrumb-disable":""),onClick:function(){return e.homeHandleClick()}}," ","Network"," ")),this.state.firstLoadList?"":Mi.map((function(t){return o.a.createElement("div",{style:{cursor:t.disable?"not-allowed":"pointer"}},o.a.createElement("li",{className:"".concat(t.disable?"breadcrumb-disable":""),onClick:function(a){return e.listHandleClick(a.target.id,t.title,"List")},id:t.val,title:"".concat(t.title," : ").concat(t.val)}," > ".concat(t.val)))})))))),o.a.createElement("div",{className:"col-md-5 col-sm-5 col-xs-5 toggle2"},o.a.createElement("div",{className:"cabin-selection"},o.a.createElement("h4",null,"Select Cabin :"),o.a.createElement(gt.a,{className:"select-group"},o.a.createElement(mt.a,{id:"demo-mutiple-checkbox-label"},"All"),o.a.createElement(ft.a,{labelId:"demo-mutiple-checkbox-label",className:"".concat(r?"disable":""),id:"demo-mutiple-checkbox",multiple:!0,value:n,onChange:function(t){return e.cabinSelectChange(t)},input:o.a.createElement(dt.a,null),renderValue:function(e){return e.join(",")},onClose:function(){return e.onCabinClose()},MenuProps:{classes:"disable"}},a.map((function(e){return o.a.createElement(ht.a,{key:e.ClassValue,value:e.ClassValue},o.a.createElement(vt.a,{checked:n.indexOf(e.ClassText)>-1}),o.a.createElement(pt.a,{primary:e.ClassText}))}))))),o.a.createElement("h4",null,"Select Month :"),o.a.createElement("select",{className:"form-control cabinselect currency-dropdown",id:"months",onChange:function(t){return e.monthChange(t)}},this.getPrev2Months().map((function(e){return o.a.createElement("option",{value:e.Year,id:e.Month},"".concat(e.MonthShort," ").concat(e.Year))}))))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},o.a.createElement("div",{className:"x_panel",style:{marginTop:"10px",height:"calc(100vh - 130px)"}},o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{rowData:this.state.monthData,columnDefs:this.state.monthcolumns,loading:this.state.loading,onCellClicked:function(t){return e.monthWiseCellClick(t)},frameworkComponents:{customHeaderGroupComponent:Li},rowClassRules:this.state.posMonthRowClassRule,pos:!0,ensureIndexVisible:this.state.ensureIndexVisible}),o.a.createElement(ba,{rowData:this.state.monthTotalData,columnDefs:this.state.monthcolumns,loading:this.state.loading,frameworkComponents:{customHeaderGroupComponent:Li},responsive:!0,reducingPadding:!0}),o.a.createElement("div",{className:"tab",id:"posTableTab",role:"tabpanel",style:{marginTop:"10px"}},this.renderTabs(),o.a.createElement("div",{className:"tab-content tabs"},o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in ".concat(i?"":"active"),id:"Section1"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.regionCellClick(t)},loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section2"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.ODcellClick(t)},loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade",id:"Section3"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.compartmentCellClick(t)},loading:this.state.loading2,pos:!0}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})))))))),o.a.createElement("div",null,o.a.createElement(mr,{alertVisible:this.state.alertVisible,alertData:this.state.alertData,closeAlertModal:function(){return e.setState({alertVisible:!1})}})))}}]),a}(n.Component),Gi=Object(Nr.a)(Fi),xi=(a(1039),new Te),ji=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getFiltersValue=function(){var e=window.localStorage.getItem("RouteGroupSelected"),t=window.localStorage.getItem("RouteRegionSelected"),a=window.localStorage.getItem("RouteCountrySelected"),o=window.localStorage.getItem("RouteSelected"),r=JSON.parse(window.localStorage.getItem("RRDateRangeValue")),l=r[0].endDate.split("-"),i=window.localStorage.getItem("RRDay"),c=window.localStorage.getItem("RPFlightSelected");e=null===e||""===e||"Null"===e?Object.keys(n.userDetails.route_access).length>0?n.userDetails.route_access.selectedRouteGroup:["Network"]:JSON.parse(e),n.getLegends(r),n.setState({routeGroup:e.join("','"),regionId:null===t||"Null"===t||""===t?"*":JSON.parse(t),countryId:null===a||"Null"===a||""===a?"*":JSON.parse(a),routeId:null===o||"Null"===o||""===o?"*":JSON.parse(o),flight:null===c||"Null"===c||""===c?"*":"'".concat(c,"'"),gettingYear:l[0],gettingMonth:window.monthNumToName(l[1]),gettingDay:"false"===i?null:l[2]},(function(){return n.getInitialData()}))},n.userDetails=JSON.parse(b.getCookie("userDetails")),n.state={bcData:[],startDate:"",endDate:"",gettingDay:null,gettingMonth:null,gettingYear:null,routeGroup:"",regionId:"*",countryId:"*",routeId:"*",flight:"*",headerData:[],headerColumns:[],routeMonthDetails:[],routeMonthColumns:[],monthTotalData:[],revenue:[],revenueColumns:[],revenueTotal:[],vc:[],vcColumns:[],vcTotal:[],doc:[],docColumns:[],docTotal:[],ContributionCost:[],totalCost:[],vcContribution:[],docContribution:[],noneRoute:[],surplusDeficit:[],totalOtherFixCost:[],NIAT:[],routeCommercial:[],routeCommercialTotal:[],loadingNonCommercial:!1,loadingCommercial:!1,routeMonthRowClassRule:{"highlight-row":"data.highlightMe"}},x("1","viewed Route Profitability Consolidate Page","/routeProfitabilityConsolidate","Route Profitability Consolidate"),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=xi.getRPCHeader();this.setState({headerData:e[0].rowData,headerColumns:e[0].columnName}),this.getFiltersValue()}},{key:"getInitialData",value:function(){var e=this,t=this,a=this.state,n=a.routeGroup,o=a.gettingDay,r=a.gettingMonth,l=a.gettingYear,i=a.regionId,c=a.countryId,s=a.routeId,u=a.flight;t.setState({loadingNonCommercial:!0,loadingCommercial:!0}),xi.getRPNonCommercialInfo(l,r,o,n,i,c,s,u,"Null").then((function(a){e.setState({loadingNonCommercial:!1}),a&&t.setState({revenue:a[0].revenue,revenueTotal:a[0].revenueTotal,vc:a[0].vc,vcTotal:a[0].vcTotal,vcContribution:a[0].vcContribution,doc:a[0].doc,docTotal:a[0].docTotal,docContribution:a[0].docContribution,totalOtherFixCost:a[0].totalOtherFixCost,totalCost:a[0].totalCost,surplusDeficit:a[0].surplusDeficit,noneRoute:a[0].noneRoute,NIAT:a[0].NIAT})})),xi.getRPCommercialInfo(l,r,o,n,i,c,s,u,"Null").then((function(a){e.setState({loadingCommercial:!1}),a&&t.setState({routeCommercial:a[0].rowData,routeCommercialTotal:a[0].total})}))}},{key:"getLegends",value:function(e){var t=window.localStorage.getItem("RRBCData");t=t?JSON.parse(t):[];var a=e[0].startDate.split("-"),n=e[0].endDate.split("-");a=new Date(a[0],a[1]-1,a[2]),n=new Date(n[0],n[1]-1,n[2]),this.setState({bcData:t,startDate:le(a),endDate:le(n)})}},{key:"render",value:function(){var e=localStorage.getItem("RouteProfitabilityNCDownloadURL"),t=localStorage.getItem("RouteProfitabilityCDownloadURL");return o.a.createElement("div",{className:"route-profitabilty-consolidate-page"},o.a.createElement(ta,Object.assign({dashboardPath:"/routeProfitability"},this.props)),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top"},o.a.createElement("div",{className:"navdesign"},o.a.createElement("div",{className:"col-md-7 col-sm-7 col-xs-12 toggle1"},o.a.createElement("h2",null,"Route Profitability Consolidate"),o.a.createElement("section",null,o.a.createElement("nav",null,o.a.createElement("ol",{className:"cd-breadcrumb"},o.a.createElement("p",null,"".concat(this.state.routeGroup," ")),this.state.bcData.map((function(e){return o.a.createElement("div",{style:{cursor:e.disable?"not-allowed":"pointer"}},o.a.createElement("li",{id:e.val,title:"".concat(e.title," : ").concat(e.val)},"\xa0"," > ".concat(e.val)))})))))),o.a.createElement("div",{className:"col-md-5 col-sm-5 col-xs-12 toggle2"},o.a.createElement("span",{className:"Rightheader"},"Date Range : ","".concat(this.state.startDate," - ").concat(this.state.endDate)),o.a.createElement(Sr,{url:t,name:"Commercial",path:"/routeProfitabilityConsolidate",page:"RouteProfitability"}),o.a.createElement(Sr,{url:e,name:"Non-Commercial",path:"/routeProfitabilityConsolidate",page:"RouteProfitability"}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},o.a.createElement("div",{className:"x_panel"},o.a.createElement("div",{className:"x_content"},o.a.createElement("div",{className:"tables-main"},o.a.createElement("div",{className:"tableHeader"},o.a.createElement(Da,{rowData:this.state.headerData,columnDefs:this.state.headerColumns,autoHeight:"autoHeight",route:!0})),o.a.createElement("div",{className:"tableContent"},o.a.createElement("h6",null,"Revenue"),o.a.createElement(Da,{rowData:this.state.revenue,columnDefs:this.state.headerColumns,autoHeight:"autoHeight",hideHeader:"0",rowClassRules:this.state.routeMonthRowClassRule,route:!0,loading:this.state.loadingNonCommercial}),o.a.createElement(ba,{rowData:this.state.revenueTotal,columnDefs:this.state.headerColumns,responsive:!0,loading:this.state.loadingNonCommercial}),o.a.createElement("h6",null,"Variable Cost"),o.a.createElement(Da,{rowData:this.state.vc,columnDefs:this.state.headerColumns,hideHeader:"0",autoHeight:"autoHeight",rowClassRules:this.state.routeMonthRowClassRule,route:!0,loading:this.state.loadingNonCommercial}),o.a.createElement(ba,{rowData:this.state.vcTotal,columnDefs:this.state.headerColumns,responsive:!0,loading:this.state.loadingNonCommercial}),o.a.createElement(ba,{rowData:this.state.vcContribution,columnDefs:this.state.headerColumns,responsive:!0,loading:this.state.loadingNonCommercial,changeBgColor:!0}),o.a.createElement("h6",null,"Direct Fixed Cost"),o.a.createElement(Da,{rowData:this.state.doc,columnDefs:this.state.headerColumns,hideHeader:"0",autoHeight:"autoHeight",rowClassRules:this.state.routeMonthRowClassRule,route:!0,loading:this.state.loadingNonCommercial}),o.a.createElement(ba,{rowData:this.state.docTotal,columnDefs:this.state.headerColumns,responsive:!0,loading:this.state.loadingNonCommercial}),o.a.createElement(ba,{rowData:this.state.docContribution,columnDefs:this.state.headerColumns,responsive:!0,loading:this.state.loadingNonCommercial,changeBgColor:!0}),o.a.createElement(ba,{rowData:this.state.totalOtherFixCost,columnDefs:this.state.headerColumns,responsive:!0,loading:this.state.loadingNonCommercial}),o.a.createElement(ba,{rowData:this.state.totalCost,columnDefs:this.state.headerColumns,responsive:!0,loading:this.state.loadingNonCommercial,changeBgColor:!0}),o.a.createElement(ba,{rowData:this.state.surplusDeficit,columnDefs:this.state.headerColumns,responsive:!0,loading:this.state.loadingNonCommercial}),o.a.createElement(ba,{rowData:this.state.noneRoute,columnDefs:this.state.headerColumns,responsive:!0,loading:this.state.loadingNonCommercial,changeBgColor:!0}),o.a.createElement(ba,{rowData:this.state.NIAT,columnDefs:this.state.headerColumns,responsive:!0,loading:this.state.loadingNonCommercial}),o.a.createElement("h6",null,"Commercial Info"),o.a.createElement(Da,{rowData:this.state.routeCommercial,columnDefs:this.state.headerColumns,hideHeader:"0",height:"60vh",autoHeight:"autoHeight",rowClassRules:this.state.routeMonthRowClassRule,route:!0,loading:this.state.loadingCommercial}))))))))}}]),a}(n.Component),Wi=Object(Nr.a)(ji),Zi=(a(1040),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={chartVisible:!1},n}return Object(c.a)(a,[{key:"closeChartModal",value:function(){this.setState({chartVisible:!1})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"ag-header-group-cell-label"},o.a.createElement("div",{className:"customHeaderLabel"},this.props.displayName),o.a.createElement("i",{class:"fa fa-bar-chart-o",style:{marginLeft:"10px",cursor:"pointer"},onClick:function(){return e.setState({chartVisible:!0})}})),o.a.createElement(_r,{chartVisible:this.state.chartVisible,displayName:this.props.displayName,route:!0,closeChartModal:function(){return e.closeChartModal()}}))}}]),a}(n.Component)),Hi=new Te,Ui=((new Date).getFullYear(),[]),Ji=[],Ki=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getFiltersValue=function(){Ji=[];var e=window.localStorage.getItem("RouteGroupSelected"),t=window.localStorage.getItem("RouteRegionSelected"),a=window.localStorage.getItem("RouteCountrySelected"),o=window.localStorage.getItem("RouteSelected"),r=JSON.parse(window.localStorage.getItem("RRDateRangeValue")),l=r[0].endDate.split("-"),i=window.localStorage.getItem("CabinSelected"),c=window.localStorage.getItem("RPFlightSelected");e=null===e||""===e||"Null"===e?Object.keys(n.userDetails.route_access).length>0?n.userDetails.route_access.selectedRouteGroup:["Network"]:JSON.parse(e);var s=null===i||"Null"===i?[]:JSON.parse(i);i=s.length>0?s:"Null",n.setState({routeGroup:e.join("','"),regionId:null===t||"Null"===t||""===t?"*":JSON.parse(t),countryId:null===a||"Null"===a||""===a?"*":JSON.parse(a),routeId:null===o||"Null"===o||""===o?"*":JSON.parse(o),flight:null===c||"Null"===c||""===c?"*":"'".concat(c,"'"),gettingYear:l[0],gettingMonth:window.monthNumToName(l[1]),gettingDay:r[0].withoutDropDown?null:l[2],getCabinValue:i,cabinSelectedDropDown:s,count:r[0].withoutDropDown?1:0},(function(){return n.getInitialData()}))},n.getInitialListData=function(e,t,a,o){var r=Object(je.a)(n),l=n.userDetails.route_access,i=o.substring(1,o.length-1);Object.keys(l).length>0&&r.setState({accessLevelDisable:!0});var c=l.hasOwnProperty("selectedRouteRegion");r.setState({regionLevelAccess:c});var s=l.hasOwnProperty("selectedRouteCountry"),u=l.hasOwnProperty("selectedRoute");"*"!==e&&(Ji.push({val:e,title:"Region",disable:s}),r.setState({selectedData:e})),"*"!==t&&(Ji.push({val:t,title:"Country",disable:u}),r.setState({selectedData:t})),"*"!==a&&(Ji.push({val:a,title:"Route"}),r.setState({selectedData:a})),"*"!==i&&(Ji.push({val:i,title:"Flight"}),r.setState({selectedData:o}))},n.getMonthDrillDownData=function(e,t,a,o,r){var l=Object(je.a)(n),i=n.state,c=i.currency,s=i.gettingDay,u=i.gettingMonth,d=i.getCabinValue,m=i.type,h=i.gettingYear;l.setState({loading:!0,loading2:!0,monthData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var g=!!ie(n.state.count);Hi.getRouteProfitabilitySolutionMonthlyData(c,e,t,a,o,r,d).then((function(e){e&&(Ui=e[0].rowData,l.setState({routeMonthColumns:e[0].columnName,monthTotalData:e[0].totalData,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,routeId:e[0].currentAccess.routeId,flight:e[0].currentAccess.flight},(function(){return l.getDayLevelData("",g)})))})),Hi.getRouteProfitabilitySolutionDrillDownData(h,c,u,s,e,t,a,o,r,d,m).then((function(e){l.setState({loading2:!1}),e&&l.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].rowData,drillDownColumn:e[0].columnName,tabName:"Null"===m?e[0].tabName:e[0].firstTabName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,routeId:e[0].currentAccess.routeId,flight:e[0].currentAccess.flight})}))},n.getDrillDownData=function(e,t,a,o,r,l){var i=Object(je.a)(n),c=n.state,s=c.gettingDay,u=c.gettingYear,d=c.gettingMonth,m=c.getCabinValue,h=c.currency;Hi.getRouteProfitabilitySolutionDrillDownData(u,h,d,s,e,t,a,o,r,m,l).then((function(e){i.setState({loading2:!1}),e&&i.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].rowData,drillDownColumn:e[0].columnName,tabName:"Null"===l?e[0].tabName:e[0].firstTabName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,routeId:e[0].currentAccess.routeId,flight:e[0].currentAccess.flight})}))},n.getCollapsedMonth=function(e,t,a){var o=window.monthNameToNum(t),r="\u25ba ".concat(window.shortMonthNumToName(o)," ").concat(a),l="".concat(window.shortMonthNumToName(o)," ").concat(a);return ce(e).filter((function(e,t){return e.Month.includes("\u25ba")?r===e.Month&&(e.highlightMonth=!0,n.setState({ensureIndexVisible:t})):l===e.Month&&(e.highlightMonth=!0,n.setState({ensureIndexVisible:t})),e}))},n.getExpandedMonth=function(e,t,a,o){var r,l=null,i=window.monthNameToNum(a),c="\u25ba ".concat(window.shortMonthNumToName(i)," ").concat(o),s=ce(Ui).filter((function(e,t){return c===e.Month&&(l=t,e.Month="\u25bc ".concat(e.Month.substring(2,e.Month.length)),e.highlightMonth=!0,n.setState({ensureIndexVisible:t})),e}));return(r=s).splice.apply(r,[l+1,0].concat(Object(I.a)(e))),t&&(s=s.filter((function(e,a){return e.highlightDay=!1,t===e.Month&&(e.highlightDay=!0,n.setState({ensureIndexVisible:a})),e}))),s},n.monthWiseCellClick=function(e){var t=Object(je.a)(n),a=n.state,o=a.routeGroup,r=a.regionId,l=a.countryId,i=a.routeId,c=a.flight,s=a.type,u=a.gettingMonth,d=a.gettingYear,m=e.data.Month,h=e.data.Day,g=e.data.MonthName,p=window.monthNameToNum(g),f=parseInt(e.data.Year),v=e.colDef.field;if(n.setState({gettingMonth:g,gettingYear:f,gettingDay:isNaN(parseInt(m))?null:m}),"Month"!==v||m.includes("Total"))"#_VC_Contri"!==v||m.includes("Total")||("dayLevel"!==h?window.localStorage.setItem("RRDay","false"):window.localStorage.setItem("RRDay","true"),window.location.pathname="/routeProfitabilityConsolidate");else{if("dayLevel"===h){var C=[{startDate:"".concat(f,"-").concat(p,"-").concat(m),endDate:"".concat(f,"-").concat(p,"-").concat(m),key:"selection"}];window.localStorage.setItem("RRDateRangeValue",JSON.stringify(C)),window.localStorage.setItem("RRDay","true");var w=n.state.monthData.filter((function(e){return e.highlightDay=!1,e}));e.api.updateRowData({update:w})}else if(window.localStorage.setItem("RRDay","false"),m.includes("\u25bc")||m.includes("\u25ba")){var _=[{startDate:de(p,f).startDate,endDate:de(p,f).endDate,key:"selection"}];if(window.localStorage.setItem("RRDateRangeValue",JSON.stringify(_)),u===g&&parseInt(d)===f){var D=n.state.count;n.setState({count:D+1},(function(){ie(n.state.count)?n.getDayLevelData("monthClick",!0):n.getDayLevelData("monthClick",!1)}))}else n.setState({count:0}),n.getDayLevelData("monthClick",!1)}else{var b=[{startDate:de(p,f).startDate,endDate:de(p,f).endDate,key:"selection",withoutDropDown:!0}];window.localStorage.setItem("RRDateRangeValue",JSON.stringify(b));var S=n.state.monthData.filter((function(e){return e.highlightMonth=!1,e}));e.api.updateRowData({update:S}),n.getDayLevelData("monthClick",!0)}"dayLevel"===h&&t.setState({loading2:!0,drillDownData:[],drillDownTotalData:[]}),t.getDrillDownData(o,r,l,i,c,s)}},n.regionCellClick=function(e){var t,a=Object(je.a)(n),o=n.state,r=o.routeGroup,l=o.regionId,i=o.countryId,c=o.routeId,s=o.flight,u=o.getCabinValue,d=e.colDef.field,m="'".concat(e.data.firstColumnName,"'"),h=e.data.firstColumnName,g=e.colDef.headerName;Ji.map((function(e,a){return t=e.title===g})),"firstColumnName"===d&&(t||(n.storeValuesToLS(l,i,c,s,u,h),"Aircraft"!==g&&(a.setState({selectedData:m}),Ji.push({val:h,title:g})),"*"===l?a.getMonthDrillDownData(r,m,i,c,s):"*"===i?a.getMonthDrillDownData(r,l,m,c,s):"*"===c?a.getMonthDrillDownData(r,l,i,m,s):"*"===s&&a.getMonthDrillDownData(r,l,i,c,m)))},n.tabClick=function(e,t){var a=Object(je.a)(n);x("2","clicked on ".concat(e," tab"),"/routeProfitabilitySolution","Route Profitability Solution");var o=n.state,r=o.routeGroup,l=o.regionId,i=o.countryId,c=o.routeId,s=o.flight;a.setState({type:e,loading2:!0,drillDownData:[],drillDownTotalData:[]}),t?n.setState({outerTab:t}):n.setState({outerTab:""}),a.getDrillDownData(r,l,i,c,s,e)},n.homeHandleClick=function(e){var t=Object(je.a)(n),a=n.state.routeGroup;t.setState({loading:!0,loading2:!0,firstHome:!1,monthData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[],currency:"bc"}),window.localStorage.setItem("RouteRegionSelected","Null"),window.localStorage.setItem("RouteCountrySelected","Null"),window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("RPFlightSelected","Null"),t.getMonthDrillDownData(a,"*","*","*","*","*"),Ji=[],n.props.history.push("/routeProfitabilitySolution?RouteGroup=".concat(a))},n.listHandleClick=function(e,t,a){var o=Object(je.a)(n),r=n.state,l=r.routeGroup,i=r.regionId,c=r.countryId,s=r.routeId,u=(r.flight,e);"'"!==u.charAt(0)&&"'"!==u.charAt(u.length-1)&&(u="'".concat(e,"'")),e.includes(",")&&(u="'".concat(e.split(",").join("','"),"'")),o.setState({selectedData:u,loading:!0,loading2:!0,monthData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var d=decodeURIComponent(t);if("List"===a){var m=Ji.findIndex((function(e){return e.title==t})),h=Ji.slice(0,m+1);Ji=h,n.changeURLOnListClick(i,c,s,e,d)}else"browserBack"===a&&n.onBackPressClearLS(d);"Region"===d?o.getMonthDrillDownData(l,u,"*","*","*","*"):"Country"===d?o.getMonthDrillDownData(l,i,u,"*","*","*"):"Route"===d?o.getMonthDrillDownData(l,i,c,u,"*","*"):"Flight"===d?o.getMonthDrillDownData(l,i,c,s,u,"*"):"RouteGroup"===d&&o.setState({routeGroup:e},(function(){return n.homeHandleClick()}))},n.showLoader=function(){w()("#loaderImage").addClass("loader-visible")},n.hideLoader=function(){w()("#loaderImage").removeClass("loader-visible"),w()(".x_panel").addClass("opacity-fade"),w()(".top-buttons").addClass("opacity-fade")},n.gridApiMonthly=function(e){n.gridApiMonth=e},n.userDetails=JSON.parse(b.getCookie("userDetails")),n.selectedRegion=null,n.selectedCountry=null,n.selectedRoute=null,n.gridApiMonth=null,n.state={showLastYearRows:!1,routeMonthRowClassRule:{"highlight-row":"data.highlightDay","highlight-dBlue-row":"data.highlightMonth"},monthData:[],routeMonthColumns:[],monthTotalData:[],ensureIndexVisible:null,drillDownTotalData:[],drillDownData:[],drillDownColumn:[],modelRegionDatas:[],modelregioncolumn:[],modalData:[],modalCompartmentColumn:[],modalCompartmentData:[],tableDatas:!0,gettingDay:null,gettingMonth:null,gettingYear:null,monthTableTitle:"",tableTitle:"",tabLevel:"",cabinOption:[],getCabinValue:[],cabinSelectedDropDown:[],cabinDisable:!0,currency:"vc",aircraft:"all",chartVisible:!1,tableModalVisible:!1,tabName:"Region",regionId:"*",countryId:"*",routeId:"*",leg:"*",flight:"*",type:"Null",baseAccess:"",routeGroup:"",accessLevelDisable:!1,selectedData:"Null",loading:!1,loading2:!1,loading3:!1,firstLoadList:!1,firstHome:!0,posContributionModal:!1,regionLevelAccess:!1,count:0},x("1","viewed Route Profitability Solution Page","/routeProfitabilitySolution","Route Profitability Solution"),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=J("aircraft",window.location.href),t=J("route",window.location.href);this.setState({aircraftParam:e||!1,routeParam:t||!1}),this.getFiltersValue()}},{key:"componentDidUpdate",value:function(){var e=this;window.onpopstate=function(t){var a=e.props.browserToProps.queryParams,n=Object.values(a),o=Object.keys(a),r=o.length-1;"undefined"!==n[0]?(e.pushURLToBcData(a,o,n,r),e.setState({firstHome:!0})):e.state.firstHome&&e.homeHandleClick(),e.setState({backPress:!0})}}},{key:"pushURLToBcData",value:function(e,t,a,n){var o=e.RouteGroup;if(this.setState({routeGroup:o}),window.localStorage.setItem("RouteGroupSelected",JSON.stringify([].concat([o]))),e.hasOwnProperty("Region")&&!Ji.some((function(e){return"Region"===e.title}))){var r,l,i=e.Region,c=e.Region;i.includes(",")?i="'".concat(i.split(",").join("','"),"'"):"'"!==i.charAt(0)&&"'"!==i.charAt(i.length-1)&&(i="'".concat(i,"'")),"'"===c.charAt(0)&&"'"===c.charAt(c.length-1)?l=c.substring(1,c.length-1):c.includes(",")?(r=c.split(","),l=c):l=c,Ji.push({val:l,title:"Region"}),this.setState({regionId:i});var s=c.includes(",")?r:[].concat([l]);window.localStorage.setItem("RouteRegionSelected",JSON.stringify(s))}if(e.hasOwnProperty("Country")&&!Ji.some((function(e){return"Country"===e.title}))){var u,d,m=e.Country,h=e.Country;m.includes(",")?m="'".concat(m.split(",").join("','"),"'"):"'"!==m.charAt(0)&&"'"!==m.charAt(m.length-1)&&(m="'".concat(m,"'")),"'"===h.charAt(0)&&"'"===h.charAt(h.length-1)?d=h.substring(1,h.length-1):h.includes(",")?(u=h.split(","),d=h):d=h,Ji.push({val:d,title:"Country"}),this.setState({countryId:m});var g=h.includes(",")?u:[].concat([d]);window.localStorage.setItem("RouteCountrySelected",JSON.stringify(g)),console.log("rahul Country",d,m)}if(e.hasOwnProperty("Route")&&!Ji.some((function(e){return"Route"===e.title}))){var p,f,v=e.Route,C=e.Route;v.includes(",")?v="'".concat(v.split(",").join("','"),"'"):"'"!==v.charAt(0)&&"'"!==v.charAt(v.length-1)&&(v="'".concat(v,"'")),"'"===C.charAt(0)&&"'"===C.charAt(C.length-1)?f=C.substring(1,C.length-1):C.includes(",")?(p=C.split(","),f=C):f=C,Ji.push({val:f,title:"Route"}),this.setState({routeId:v});var w=C.includes(",")?p:[].concat([f]);window.localStorage.setItem("RouteSelected",JSON.stringify(w)),console.log("rahul Route",f,v)}if(e.hasOwnProperty("Flight")&&!Ji.some((function(e){return"Flight"===e.title}))&&(Ji.push({val:e.Flight,title:"Flight"}),console.log("rahul Flight",e.Flight),this.setState({flight:e.Flight}),window.localStorage.setItem("RPFlightSelected",e.Flight)),console.log("rahul bcData before",Ji,n),Ji.length>0){var _=Ji.slice(0,n);Ji=_}console.log("rahul bcData after",Ji),this.listHandleClick(a[n],t[n],"browserBack")}},{key:"getInitialData",value:function(){var e=this,t=this,a=this.state,n=a.routeGroup,o=a.currency,r=a.regionId,l=a.countryId,i=a.routeId,c=a.flight,s=a.getCabinValue,u=a.aircraftParam,d=a.routeParam;t.setState({loading:!0,loading2:!0,firstLoadList:!0,monthData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),t.getInitialListData(r,l,i,c),Hi.getRouteProfitabilitySolutionMonthlyData(o,n,r,l,i,c,s).then((function(a){t.setState({firstLoadList:!1});var n=!!ie(e.state.count);a&&(Ui=a[0].rowData,t.setState({routeMonthColumns:a[0].columnName,monthTotalData:a[0].totalData,regionId:a[0].currentAccess.regionId,countryId:a[0].currentAccess.countryId,routeId:a[0].currentAccess.routeId,flight:a[0].currentAccess.flight},(function(){return t.getDayLevelData("",n)})))})),u?(t.getDrillDownData(n,r,l,i,c,"Aircraft"),t.setState({type:"Aircraft"})):d?(t.getDrillDownData(n,r,l,i,c,"OD"),t.setState({type:"OD"})):t.getDrillDownData(n,r,l,i,c,"Null")}},{key:"getDayLevelData",value:function(e,t){var a=this,n=this.state,o=n.routeGroup,r=n.currency,l=n.gettingDay,i=n.gettingMonth,c=n.gettingYear,s=n.regionId,u=n.countryId,d=n.routeId,m=n.flight,h=n.getCabinValue;"monthClick"===e&&this.showLoader();Hi.getRouteProfitabilitySolutionDayData(r,c,i,o,s,u,d,m,h).then((function(e){if(a.setState({loading:!1}),a.hideLoader(),e){var n=e[0].rowData;a.setState({monthData:t?a.getCollapsedMonth(Ui,i,c):a.getExpandedMonth(n,l,i,c,t)}),a.gridApiMonth.ensureIndexVisible(a.state.ensureIndexVisible,"middle")}}))}},{key:"rectifyURLValues",value:function(e,t,a){Array.isArray(e)?this.selectedRegion=e.join(","):e.includes("','")?(this.selectedRegion=e.split("','").join(","),this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)):(this.selectedRegion=e,this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)),Array.isArray(t)?this.selectedCountry=t.join(","):e.includes("','")?(this.selectedCountry=t.split("','").join(","),this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)):(this.selectedCountry=t,this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)),Array.isArray(a)?this.selectedRoute=a.join(","):e.includes("','")?(this.selectedRoute=a.split("','").join(","),this.selectedRoute=this.selectedRoute.substring(1,this.selectedRoute.length-1)):(this.selectedRoute=a,this.selectedRoute=this.selectedRoute.substring(1,this.selectedRoute.length-1))}},{key:"storeValuesToLS",value:function(e,t,a,n,o,r){var l=[],i=[],c=[];this.rectifyURLValues(e,t,a),"*"===e?(this.props.history.push("/routeProfitabilitySolution?RouteGroup=".concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(r))),l.push(r),window.localStorage.setItem("RouteRegionSelected",JSON.stringify(l))):"*"===t?(this.props.history.push("/routeProfitabilitySolution?RouteGroup=".concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(r)),i.push(r),window.localStorage.setItem("RouteCountrySelected",JSON.stringify(i))):"*"===a?(this.props.history.push("/routeProfitabilitySolution?RouteGroup=".concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&Route=").concat(r)),c.push(r),window.localStorage.setItem("RouteSelected",JSON.stringify(c))):"*"===n&&(this.props.history.push("/routeProfitabilitySolution?RouteGroup=".concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&Route=").concat(this.selectedRoute,"&Flight=").concat(r)),window.localStorage.setItem("RPFlightSelected",r))}},{key:"changeURLOnListClick",value:function(e,t,a,n,o){this.rectifyURLValues(e,t,a),"Region"===o?(this.props.history.push("/routeProfitabilitySolution?RouteGroup=".concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(n))),window.localStorage.setItem("RouteCountrySelected","Null"),window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("RPFlightSelected","Null")):"Country"===o?(this.props.history.push("/routeProfitabilitySolution?RouteGroup=".concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(n)),window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("RPFlightSelected","Null")):"Route"===o?(this.props.history.push("/routeProfitabilitySolution?RouteGroup=".concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&Route=").concat(n)),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("RPFlightSelected","Null")):"Flight"===o&&this.props.history.push("/routeProfitabilitySolution?RouteGroup=".concat(this.state.routeGroup,"&Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&Route=").concat(this.selectedRoute,"&Flight=").concat(n))}},{key:"onBackPressClearLS",value:function(e){"Region"===e?(window.localStorage.setItem("RouteCountrySelected","Null"),window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("RPFlightSelected","Null")):"Country"===e?(window.localStorage.setItem("RouteSelected","Null"),window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("RPFlightSelected","Null")):"Route"===e&&(window.localStorage.setItem("LegSelected","Null"),window.localStorage.setItem("RPFlightSelected","Null"))}},{key:"closeChartModal",value:function(){this.setState({chartVisible:!1})}},{key:"closeTableModal",value:function(){this.setState({tableModalVisible:!1})}},{key:"callAccess",value:function(e){var t=this,a=[];a.push(e),window.localStorage.setItem("RouteGroupSelected",JSON.stringify(a)),this.setState({routeGroup:e},(function(){return t.homeHandleClick()}))}},{key:"renderTabs",value:function(){var e=this,t=this.state,a=t.tabName,n=(t.gettingMonth,t.regionId,t.countryId,t.routeId,t.flight,t.getCabinValue,t.routeGroup,t.gettingYear,t.type,t.routeParam),r=t.aircraftParam,l=t.outerTab,i=localStorage.getItem("RouteProfitabilityDrillDownDownloadURL"),c=localStorage.getItem("RouteProfitabilityMonthlyDownloadURL");return o.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},"Aircraft"===a||"Flight"===a?o.a.createElement("li",{role:"presentation",className:"".concat(n?"active":""),onClick:function(){return e.tabClick("OD","Route")}},o.a.createElement("a",{href:"#Section2","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Route")):"","Aircraft"===a?o.a.createElement("li",{role:"presentation",onClick:function(){return e.tabClick("Flights","Flight")}},o.a.createElement("a",{href:"#Section3","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Flight")):"",o.a.createElement("li",{role:"presentation",className:"".concat(r||n?"":"active"),onClick:function(){return e.tabClick("Null")}},o.a.createElement("a",{href:"#Section1","aria-controls":"profile",role:"tab","data-toggle":"tab"},a)),"Route"===a||"Aircraft"===a||"Flight"===a?"":o.a.createElement("li",{role:"presentation",className:"".concat(n||"Route"===l?"active":""),onClick:function(){return e.tabClick("OD")}},o.a.createElement("a",{href:"#Section2","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Route")),"Flight"===a||"Aircraft"===a?"":o.a.createElement("li",{role:"presentation",className:"".concat("Flight"===l?"active":""),onClick:function(){return e.tabClick("Flights")}},o.a.createElement("a",{href:"#Section3","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Flight")),"Aircraft"===a?"":o.a.createElement("li",{id:"regionTab",role:"presentation",className:"".concat(r?"active":""),onClick:function(){return e.tabClick("Aircraft")}},o.a.createElement("a",{href:"#Section4","aria-controls":"profile",role:"tab","data-toggle":"tab"},"Aircraft")),o.a.createElement("div",{className:"RRPBtns"},o.a.createElement(Sr,{url:i,name:"DRILLDOWN DATA",path:"/routeProfitabilitySolution",page:"Route Profitability Solution Page"}),o.a.createElement(Sr,{url:c,name:"MONTHLY DATA",path:"/routeProfitabilitySolution",page:"Route Profitability Solution Page"})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.aircraftParam,n=t.routeParam,r=(t.cabinDisable,t.routeId,t.type,t.routeGroup),l=t.accessLevelDisable,i=t.firstLoadList,c=t.regionLevelAccess;return window.localStorage.setItem("RRBCData",JSON.stringify(Ji)),o.a.createElement("div",{className:"routeProfitabilitySolution"},o.a.createElement(ta,Object.assign({dashboardPath:"/routeProfitability"},this.props)),o.a.createElement(Dr,null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top"},o.a.createElement("div",{className:"navdesign",style:{marginTop:"0px"}},o.a.createElement("div",{className:"col-md-7 col-sm-7 col-xs-12 toggle1"},o.a.createElement("h2",null,"Route Profitability"),i?"":o.a.createElement("div",{className:"route-access"},r,o.a.createElement("div",{className:"triangle-up"}),o.a.createElement("div",{className:"route-groups"},o.a.createElement("div",{className:"route-main ".concat(l?" route-main-disable":"")},o.a.createElement("span",{className:"".concat(l?" route-access-disable":""),onClick:function(){return e.callAccess("Network")}},"Network")),o.a.createElement("div",{className:"route-main ".concat(l?c?"route-main-disable":"Domestic"===r?"":"route-main-disable":"")},o.a.createElement("span",{className:"".concat(l?c?"route-access-disable":"Domestic"===r?"":"route-access-disable":""),onClick:function(){return e.callAccess("Domestic")}},"Domestic")),o.a.createElement("div",{className:"route-main international ".concat(l?c?"route-main-disable":"International"===r?"":"route-main-disable":"")},o.a.createElement("span",{className:"".concat(l?c?"route-access-disable":"International"===r?"":"route-access-disable":""),onClick:function(){return e.callAccess("International")}},"International")))),o.a.createElement("section",null,o.a.createElement("nav",null,o.a.createElement("ol",{className:"cd-breadcrumb"},this.state.firstLoadList?"":Ji.map((function(t){return o.a.createElement("div",{style:{cursor:t.disable?"not-allowed":"pointer"}},o.a.createElement("li",{className:"".concat(t.disable?"breadcrumb-disable":""),onClick:function(a){return e.listHandleClick(a.target.id,t.title,"List")},id:t.val,title:"".concat(t.title," : ").concat(t.val)}," > ".concat(t.val)))})))))),o.a.createElement("div",{className:"col-md-5 col-sm-5 col-xs-12 toggle2"})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},o.a.createElement("div",{className:"x_panel",style:{marginTop:"10px",height:"calc(100vh - 130px)"}},o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{gridApi:this.gridApiMonthly,rowData:this.state.monthData,columnDefs:this.state.routeMonthColumns,onCellClicked:function(t){return e.monthWiseCellClick(t)},loading:this.state.loading,rowClassRules:this.state.routeMonthRowClassRule,frameworkComponents:{customHeaderGroupComponent:Zi},route:!0,ensureIndexVisible:this.state.ensureIndexVisible}),o.a.createElement(ba,{rowData:this.state.monthTotalData,columnDefs:this.state.routeMonthColumns,loading:this.state.loading,frameworkComponents:{customHeaderGroupComponent:Zi},responsive:!0,reducingPadding:!0}),o.a.createElement("div",{className:"tab",id:"posTableTab",role:"tabpanel",style:{marginTop:"10px"}},this.renderTabs(),o.a.createElement("div",{className:"tab-content tabs"},o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in ".concat(a||n?"":"active"),id:"Section1"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.regionCellClick(t)},loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in ".concat(n?"active":""),id:"Section2"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in",id:"Section3"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})),o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in ".concat(a?"active":""),id:"Section4"},o.a.createElement(Da,{rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,route:!0}),o.a.createElement(ba,{rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,loading:this.state.loading2,responsive:!0,reducingPadding:!0})))))))),o.a.createElement("div",null,o.a.createElement(pr,{tableModalVisible:this.state.tableModalVisible,rowData:this.state.modalCompartmentData,columns:this.state.modalCompartmentColumn,header:"".concat(this.state.gettingMonth," ").concat(this.state.gettingYear)}),o.a.createElement(_r,{chartVisible:this.state.chartVisible,datas:this.state.modelRegionDatas,columns:this.state.modelregioncolumn,closeChartModal:function(){return e.closeChartModal()}})))}}]),a}(n.Component),zi=Object(Nr.a)(Ki),qi=(a(406),new Te,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getSystemModulelist=function(){n.setState({loading:!0,moduleData:[]});var e=n.state,t=e.moduleName,a=e.moduleType,o={};t&&(o.name=t),a&&(o.module_type=a);L.get("sysmodwithsearch?".concat(function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")}(o)),"hide").then((function(e){if(n.setState({loading:!1}),console.log(e,"respo"),e&&e.data.response.length>0){var t=[];e.data.response.forEach((function(e){t.push({id:e.id,Module_Name:e.name,Module_Path:e.path,create_date:e.create_date,is_deleted:e.is_deleted,parentid:e.parentid,event_code:e.event_code,module_type:e.module_type,visibility:e.visibility})})),n.setState({moduleData:t})}})).catch((function(e){n.setState({loading:!1})}))},n.deleteSystemModule=function(e){L.delete("rest/createmodules/".concat(e,"/")).then((function(e){y.a.fire({title:"Success!",text:"System Module deleted successfully",icon:"success",confirmButtonText:"Ok"}).then((function(){n.getSystemModulelist()}))})).catch((function(e){y.a.fire({title:"Error!",text:"Unable to delete system module",icon:"error",confirmButtonText:"Ok"})}))},n.handleChange=function(e){n.setState(Object(p.a)({},e.target.id,e.target.value)),""===e.target.value&&setTimeout((function(){n.getSystemModulelist()}),1e3)},n.firstDataRendered=function(e){e.api.sizeColumnsToFit()},n.onGridReady=function(e){if(!e.api)return null;n.gridApi=e.api},n.gridApi=null,n.state={moduleName:"",moduleType:"",moduleColumn:[{headerName:"Id",field:"id",width:300},{headerName:"Module Name",field:"Module_Name"},{headerName:"Module Type",field:"module_type"},{headerName:"Actions",field:"",cellRenderer:function(e){return n.actions(e)},width:250}],moduleData:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){Ze("System Modules","systemModuleSearch")?this.getSystemModulelist():this.props.history.push("/404")}},{key:"actions",value:function(e){var t=this,a=document.createElement("span"),n=document.createElement("i"),o=document.createElement("i");return n.className="fa fa-pencil",n.onclick=function(){return t.props.history.push({pathname:"/systemModuleEdit",state:{data:e.data}})},o.className="fa fa-trash",o.onclick=function(){y.a.fire({title:"Warning!",text:"Do you want to delete this module?",icon:"warning",confirmButtonText:"Yes",showCancelButton:!0,cancelButtonText:"No",cancelButtonColor:"#ff0000bf"}).then((function(a){a.value&&t.deleteSystemModule(e.data.id)}))},a.appendChild(n),a.appendChild(o),a}},{key:"applyColumnLockDown",value:function(e){var t=this;return e.map((function(e){return e.children&&(e.children=t.applyColumnLockDown(e.children)),Object(B.a)(Object(B.a)({},e),{lockPosition:!0,cellClass:"lock-pinned"})}))}},{key:"render",value:function(){var e=this;return setInterval((function(){e.gridApi&&e.gridApi.gridPanel.eBodyViewport.clientWidth&&e.gridApi.sizeColumnsToFit()}),1e3),o.a.createElement("div",null,o.a.createElement(Dr,null),o.a.createElement(ta,this.props),o.a.createElement("div",{className:"system-module-search"},o.a.createElement("div",{className:"add"},o.a.createElement("h2",null,"System Modules"),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.props.history.push("/systemModuleAdd")}},"ADD")),o.a.createElement("div",{className:"module-form"},o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"moduleName"},"Module Name"),o.a.createElement("input",{type:"text",class:"form-control",id:"moduleName",value:this.state.moduleName,onChange:function(t){return e.handleChange(t)}})),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"moduleType"},"Module Type"),o.a.createElement("input",{type:"text",class:"form-control",id:"moduleType",value:this.state.moduleType,onChange:function(t){return e.handleChange(t)}})),o.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.getSystemModulelist()}},"Search")),o.a.createElement("div",{className:"system-module-table"},this.state.loading?o.a.createElement(We,null):o.a.createElement("div",{id:"myGrid",className:"ag-theme-balham-dark ag-grid-table",style:{height:"calc(100vh - 330px)"}},o.a.createElement(_a.AgGridReact,{onGridReady:this.onGridReady,onFirstDataRendered:function(t){return e.firstDataRendered(t)},columnDefs:this.applyColumnLockDown(this.state.moduleColumn),rowData:this.state.moduleData,rowSelection:"single"})))))}}]),a}(n.Component)),Xi=(new Te,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e))._validate=function(e){var t=e.target.id,a=e.target.value.trim(),o="";"moduleName"===t?(o=""===a?"Please enter module name":"",n.setState({moduleNameErrmsg:o})):"modulePath"===t?(o=""===a?"Please enter module path":"",n.setState({modulePathErrmsg:o})):"eventCode"===t&&(o=""===a?"Enter event Code":"",n.setState({eventCodeErrmsg:o})),setTimeout((function(){n.formValid()}),600)},n.formValid=function(){var e=n.state,t=e.moduleNameErrmsg,a=e.modulePathErrmsg,o=e.moduleName,r=e.modulePath,l=e.moduleType,i=e.eventCodeErrmsg,c=e.eventCode,s=e.visibility,u=g.a.isEmpty(t&&a),d=!g.a.isEmpty(o&&r);"event"===l&&(u=g.a.isEmpty(t&&a&&i),d=!g.a.isEmpty(o&&c)),u&&d&&s?n.setState({disable:!1}):n.setState({disable:!0})},n.selectVisibility=function(e){n.setState({visibility:e.target.value},(function(){return n.formValid()}))},n.updateSystemModule=function(){var e=n.props.location.state.data,t={id:e.id,name:n.state.moduleName,path:""===n.state.modulePath?null:n.state.modulePath,visibility:n.state.visibility,parentid:e.parentid,event_code:n.state.eventCode,module_type:e.module_type,create_date:e.create_date,is_deleted:e.is_deleted};L.put("rest/updatemodules/".concat(e.id,"/"),t).then((function(e){y.a.fire({title:"Success!",text:"System Module updated successfully",icon:"success",confirmButtonText:"Ok"}).then((function(){n.hideAlertSuccess(),n.getUpdatedMenus()}))})).catch((function(e){y.a.fire({title:"Error!",text:"Unable to update system module",icon:"error",confirmButtonText:"Ok"})}))},n.getUpdatedMenus=function(){L.get("config").then((function(e){e&&e.data.length>0&&(b.createCookie("menuData",JSON.stringify(e.data.menus),1),b.createCookie("events",JSON.stringify(e.data.events),1))})).catch((function(e){}))},n.state={moduleName:"",modulePath:null,visibility:"",moduleType:"",eventCode:null,eventCodeErrmsg:"",moduleNameErrmsg:"",modulePathErrmsg:"",disable:!0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){if(Ze("System Modules","systemModuleEdit")){if(this.props.location.state){var e=this.props.location.state.data;this.setState({moduleName:e.Module_Name,modulePath:e.Module_Path,visibility:e.visibility,moduleType:e.module_type,eventCode:e.event_code})}}else this.props.history.push("/404")}},{key:"handleChange",value:function(e){this.setState(Object(p.a)({},e.target.id,e.target.value),this._validate(e))}},{key:"hideAlertSuccess",value:function(){this.props.history.push("/systemModuleSearch")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(Dr,null),o.a.createElement(ta,this.props),o.a.createElement("div",{className:"system-module"},o.a.createElement("div",{className:"add"},o.a.createElement("h2",null,"Edit System Module")),o.a.createElement("div",{className:"module-form"},o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"moduleName"},"Module Name"),o.a.createElement("input",{type:"text",class:"form-control",id:"moduleName",value:this.state.moduleName,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("p",null,this.state.moduleNameErrmsg)),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"modulePath"},"Visibility"),o.a.createElement("select",{onChange:function(t){return e.selectVisibility(t)}},o.a.createElement("option",{selected:"show"===this.state.visibility,value:"show"},"Show"),o.a.createElement("option",{selected:"hide"===this.state.visibility,value:"hide"},"Hide"))),"page"===this.state.moduleType?o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"modulePath"},"Module Path"),o.a.createElement("input",{type:"text",class:"form-control",id:"modulePath",value:this.state.modulePath,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("p",null,this.state.modulePathErrmsg)):o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"eventCode"},"Event Code"),o.a.createElement("input",{type:"text",class:"form-control",id:"eventCode",value:this.state.eventCode,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("p",null,this.state.eventCodeErrmsg)),o.a.createElement("div",{className:"action-btn"},o.a.createElement("button",{type:"button",className:"btn btn-danger",disabled:this.state.disable,onClick:function(){return e.updateSystemModule()}},"Update")))))}}]),a}(n.Component)),Qi=(new Te,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e))._validate=function(e){var t=e.target.id,a=e.target.value.trim(),o="";"moduleName"===t?(o=""===a?"Enter module name":"",n.setState({moduleNameErrmsg:o})):"modulePath"===t?(o=""===a?"Enter module path":"",n.setState({modulePathErrmsg:o})):"eventCode"===t&&(o=""===a?"Enter event Code":"",n.setState({eventCodeErrmsg:o})),setTimeout((function(){n.formValid()}),600)},n.formValid=function(){var e=n.state,t=e.moduleNameErrmsg,a=e.modulePathErrmsg,o=e.moduleName,r=e.modulePath,l=e.eventCodeErrmsg,i=e.eventCode,c=e.isEvent,s=(e.selectParentID,g.a.isEmpty(t&&a)),u=!g.a.isEmpty(o&&r);c&&(s=g.a.isEmpty(t&&a&&l),u=!g.a.isEmpty(o&&i)),s&&u?n.setState({disable:!1}):n.setState({disable:!0})},n.selectParentID=function(e){var t=e.target,a=(t.name,t.value);n.setState({selectParentID:""!==a&&void 0!==a?a:null})},n.selectVisibility=function(e){n.setState({visibility:e.target.value})},n.selectModuleType=function(e){var t=e.target,a=(t.name,t.value);n.setState({isParentModule:null,isEvent:!1,modulePath:""}),""!==a&&void 0!==a?"parentmodule"===a?n.setState({isParentModule:"parentmodule"===a,modulePath:"parentmodule"===a?"/":"",modulePathErrmsg:"",isEvent:!1},(function(){n.formValid()})):"event"===a?n.setState({isParentModule:null,isEvent:!0,modulePath:null,modulePathErrmsg:""},(function(){n.formValid()})):n.setState({isParentModule:!1}):n.setState({modulePath:""},(function(){n.formValid()}))},n.createSystemModule=function(){var e={name:n.state.moduleName,path:n.state.modulePath,visibility:n.state.visibility,event_code:n.state.eventCode};null!==n.state.selectParentID&&(e.parentid=n.state.selectParentID),L.post("rest/createmodules/",e).then((function(e){y.a.fire({title:"Success!",text:"System Module created successfully",icon:"success",confirmButtonText:"Ok"}).then((function(){n.hideAlertSuccess()}))})).catch((function(e){y.a.fire({title:"Error!",text:"Unable to create system module",icon:"error",confirmButtonText:"Ok"}).then((function(){n.hideAlertFailure()}))}))},n.getSystemModulelist=function(){L.get("rest/updatemodules/","hide").then((function(e){if(n.setState({loading:!1}),e&&e.data.length>0){var t=[];e.data.forEach((function(e){e.is_deleted||null!==e.parentid||t.push({id:e.id,moduleName:e.name,modulePath:e.path,create_date:e.create_date,is_deleted:e.is_deleted,"":""})})),n.setState({systemModules:t})}})).catch((function(e){}))},n.state={moduleName:"",modulePath:"",moduleNameErrmsg:"",modulePathErrmsg:"",disable:!0,systemModules:[],selectParentID:null,isParentModule:null,visibility:"show",isEvent:!1,eventCode:null,eventCodeErrmsg:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){Ze("System Modules","systemModuleAdd")?this.getSystemModulelist():this.props.history.push("/404")}},{key:"handleChange",value:function(e){this.setState(Object(p.a)({},e.target.id,e.target.value),this._validate(e))}},{key:"hideAlertSuccess",value:function(){this.props.history.push("/systemModuleSearch")}},{key:"hideAlertFailure",value:function(){var e=this;this.setState({moduleName:"",modulePath:"",moduleNameErrmsg:"",modulePathErrmsg:"",isParentModule:null},(function(){return e.formValid()}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(Dr,null),o.a.createElement(ta,this.props),o.a.createElement("div",{className:"system-module"},o.a.createElement("div",{className:"add"},o.a.createElement("h2",null,"Add System Module")),o.a.createElement("div",{className:"module-form"},o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"moduleName"},"Module Name"),o.a.createElement("input",{type:"text",class:"form-control",id:"moduleName",value:this.state.moduleName,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("p",null,this.state.moduleNameErrmsg)),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"modulePath"},"Visibility"),o.a.createElement("select",{onChange:function(t){return e.selectVisibility(t)}},o.a.createElement("option",{selected:!0,value:"show"},"Show"),o.a.createElement("option",{value:"hide"},"Hide"))),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"modulePath"},"Type"),o.a.createElement("select",{onChange:function(t){return e.selectModuleType(t)}},o.a.createElement("option",{value:""},"Select a Module type"),o.a.createElement("option",{value:"parentmodule"},"Parent Module"),o.a.createElement("option",{value:"childmodule"},"Child Module"),o.a.createElement("option",{value:"event"},"Event"))),o.a.createElement("div",{class:"form-group",style:{display:this.state.isEvent?"block":"none"}},o.a.createElement("label",{for:"eventCode"},"Event Code"),o.a.createElement("input",{type:"text",class:"form-control",id:"eventCode",value:this.state.eventCode,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("p",null,this.state.eventCodeErrmsg)),o.a.createElement("div",{class:"form-group",style:{display:this.state.isParentModule||null===this.state.isParentModule?"none":"block"}},o.a.createElement("label",{for:"modulePath"},"Module Path"),o.a.createElement("input",{type:"text",class:"form-control",id:"modulePath",value:this.state.modulePath,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("p",null,this.state.modulePathErrmsg)),o.a.createElement("div",{class:"form-group",style:{display:this.state.isParentModule||null===this.state.isParentModule?"none":"block"}},o.a.createElement("label",{for:"modulePath"},"Parent Module"),o.a.createElement("select",{onChange:function(t){return e.selectParentID(t)}},o.a.createElement("option",{selected:null===this.state.selectParentID,value:""},"Select a Parent Module "),this.state.systemModules.map((function(e){return o.a.createElement("option",{value:e.id},e.moduleName)})))),o.a.createElement("div",{className:"action-btn"},o.a.createElement("button",{type:"button",className:"btn btn-danger",disabled:this.state.disable,onClick:function(){return e.createSystemModule()}},"Add")))))}}]),a}(n.Component)),$i=(a(263),new Te,function(e){return e.substring(1,e.length-1)}),ec=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getUserList=function(){n.setState({loading:!0,userData:[]});var e=n.state,t=e.userName,a=e.email,o=e.role,r={};t&&(r.username=t),a&&(r.email=a),o&&(r.role=o);L.get("userswithsearch?".concat(function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")}(r)),"hide").then((function(e){if(n.setState({loading:!1}),e&&e.data.response.length>0){var t=[],a=Object(je.a)(n);e.data.response.forEach((function(e){t.push({id:e.id,user_name:e.username,email:e.email,role:e.role,"POS Access":a.convertPOSAccess(e.access),"Route Access":a.convertRouteAccess(e.route_access)})})),n.setState({userData:t})}})).catch((function(e){console.log("rahul err",e),n.setState({loading:!1})}))},n.deleteUser=function(e){L.delete("rest/users/".concat(e,"/")).then((function(e){y.a.fire({title:"Success!",text:"User deleted successfully",icon:"success",confirmButtonText:"Ok"}).then((function(){n.getUserList()}))})).catch((function(e){y.a.fire({title:"Error!",text:"Unable to delete user",icon:"error",confirmButtonText:"Ok"})}))},n.handleChange=function(e){n.setState(Object(p.a)({},e.target.id,e.target.value)),""===e.target.value&&setTimeout((function(){n.getUserList()}),1e3)},n.firstDataRendered=function(e){e.api.sizeColumnsToFit()},n.onGridReady=function(e){if(!e.api)return null;n.gridApi=e.api},n.gridApi=null,n.state={userName:"",email:"",role:"",userColumn:[{headerName:"Id",field:"id"},{headerName:"User Name",field:"user_name",tooltipField:"user_name"},{headerName:"Email",field:"email",tooltipField:"email"},{headerName:"Role",field:"role",tooltipField:"role"},{headerName:"POS Access",field:"POS Access",tooltipField:"POS Access"},{headerName:"Route Access",field:"Route Access",tooltipField:"Route Access"},{headerName:"Actions",field:"",cellRenderer:function(e){return n.actions(e)},width:250}],userData:[],loading:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){Ze("Users","searchUser")?this.getUserList():this.props.history.push("/404")}},{key:"convertPOSAccess",value:function(e){var t=e.split("#"),a="Network";return void 0!==t[1]&&"*"!==t[1]&&(a=$i(t[1])),void 0!==t[2]&&"*"!==t[2]&&(a="".concat(a," > ").concat($i(t[2]))),void 0!==t[3]&&"*"!==t[3]&&(a="".concat(a," > ").concat($i(t[3]))),a}},{key:"convertRouteAccess",value:function(e){var t=null!==e?e:{},a="Network";return Object.keys(t).length>0&&(t.hasOwnProperty("selectedRouteGroup")&&(a="".concat(t.selectedRouteGroup.join(","))),t.hasOwnProperty("selectedRouteRegion")&&(a="".concat(a," > ").concat(t.selectedRouteRegion.join(","))),t.hasOwnProperty("selectedRouteCountry")&&(a="".concat(a," > ").concat(t.selectedRouteCountry.join(","))),t.hasOwnProperty("selectedRoute")&&(a="".concat(a," > ").concat(t.selectedRoute.join(",")))),a}},{key:"actions",value:function(e){var t=this,a=document.createElement("span"),n=document.createElement("i"),o=document.createElement("i");return n.className="fa fa-pencil",n.onclick=function(){return t.props.history.push({pathname:"/editUser",state:{data:e.data}})},o.className="fa fa-trash",o.onclick=function(){y.a.fire({title:"Warning!",text:"Do you want to delete this user?",icon:"warning",confirmButtonText:"Yes",showCancelButton:!0,cancelButtonText:"No",cancelButtonColor:"#ff0000bf"}).then((function(a){a.value&&t.deleteUser(e.data.id)}))},a.appendChild(n),a.appendChild(o),a}},{key:"applyColumnLockDown",value:function(e){var t=this;return e.map((function(e){return e.children&&(e.children=t.applyColumnLockDown(e.children)),Object(B.a)(Object(B.a)({},e),{lockPosition:!0,cellClass:"lock-pinned"})}))}},{key:"render",value:function(){var e=this;return setInterval((function(){e.gridApi&&e.gridApi.gridPanel.eBodyViewport.clientWidth&&e.gridApi.sizeColumnsToFit()}),1e3),o.a.createElement("div",null,o.a.createElement(Dr,null),o.a.createElement(ta,this.props),o.a.createElement("div",{className:"user-module-search"},o.a.createElement("div",{className:"add"},o.a.createElement("h2",null,"Users"),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.props.history.push("/createUser")}},"ADD USER")),o.a.createElement("div",{className:"module-form"},o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"userName"},"User Name"),o.a.createElement("input",{type:"text",class:"form-control",id:"userName",value:this.state.userName,onChange:function(t){return e.handleChange(t)}})),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"email"},"Email"),o.a.createElement("input",{type:"text",class:"form-control",id:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)}})),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"role"},"Role"),o.a.createElement("input",{type:"text",class:"form-control",id:"role",value:this.state.role,onChange:function(t){return e.handleChange(t)}})),o.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.getUserList()}},"Search")),o.a.createElement("div",{className:"user-module-table"},this.state.loading?o.a.createElement(We,null):o.a.createElement("div",{id:"myGrid",className:"ag-theme-balham-dark ag-grid-table",style:{height:"calc(100vh - 330px)"}},o.a.createElement(_a.AgGridReact,{onGridReady:this.onGridReady,onFirstDataRendered:function(t){return e.firstDataRendered(t)},columnDefs:this.applyColumnLockDown(this.state.userColumn),rowData:this.state.userData,paginationPageSize:15,pagination:!0,rowSelection:"single"})))))}}]),a}(n.Component),tc=(new Te,{selectedRouteGroup:["Domestic"]}),ac=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).callRegion=function(){var e=document.getElementById("region"),t=e.options[e.selectedIndex].value;n.setState({regionSelected:"'".concat(t,"'"),posAccess:"*"===t?"":"#'".concat(t,"'#*"),countries:[],cities:[],error:""},(function(){n.getCountries()}))},n.callCountry=function(){var e=n.state.regionSelected,t=document.getElementById("country"),a=t.options[t.selectedIndex].value;n.setState({countrySelected:"'".concat(a,"'"),posAccess:"*"===a?"#".concat(e,"#*"):"#".concat(e,"#'").concat(a,"'#*"),cities:[],error:""},(function(){n.getCities()}))},n.callCity=function(e){var t=n.state,a=t.regionSelected,o=t.countrySelected,r=e.target.value;n.setState({citySelected:"'".concat(r,"'"),posAccess:"*"===r?"#".concat(a,"#").concat(o,"#*"):"#".concat(a,"#").concat(o,"#'").concat(r,"'#*"),error:""})},n.getRegions=function(){L.get("getRegion").then((function(e){var t=e.data;n.setState({regions:t})})).catch((function(e){console.log("something went wrong with countries Api")}))},n.getCountries=function(){"*"!==n.state.regionSelected&&L.get("getCountryByRegionId?regionId=".concat(encodeURIComponent(n.state.regionSelected))).then((function(e){var t=e.data;n.setState({countries:t})})).catch((function(e){console.log("something went wrong with countries Api")}))},n.getCities=function(){"*"!==n.state.countrySelected&&L.get("getCityByCountryCode?countryCode=".concat(n.state.countrySelected)).then((function(e){var t=e.data;n.setState({cities:t})})).catch((function(e){console.log("something went wrong with countries Api")}))},n.callRouteRegion=function(){var e=document.getElementById("routeRegion"),t=e.options[e.selectedIndex].value;"*"!==t?tc.selectedRouteRegion=[t]:delete tc.selectedRouteRegion,delete tc.selectedRouteCountry,delete tc.selectedRoute,n.setState({selectedRouteRegion:"'".concat(t,"'"),routeCountries:[],routes:[],error:""},(function(){n.getRouteCountries()}))},n.callRouteCountry=function(){var e=document.getElementById("routeCountry"),t=e.options[e.selectedIndex].value;"*"!==t?tc.selectedRouteCountry=[t]:delete tc.selectedRouteCountry,delete tc.selectedRoute,n.setState({selectedRouteCountry:"'".concat(t,"'"),routes:[],error:""},(function(){n.getRoutes()}))},n.callRoute=function(e){"*"!==e.target.value?tc.selectedRoute=[e.target.value]:delete tc.selectedRoute,n.setState({error:""})},n.getRouteRegions=function(){L.get("getRouteRegion?routeGroup='".concat(n.state.routeGroup,"'")).then((function(e){var t=e.data.response;n.setState({routeRegions:t})})).catch((function(e){console.log("something went wrong with countries Api")}))},n.getRouteCountries=function(){"*"!==n.state.selectedRouteRegion&&L.get("getRouteCountryByRegionId?routeGroup='".concat(n.state.routeGroup,"'&regionId=").concat(n.state.selectedRouteRegion)).then((function(e){var t=e.data.response;n.setState({routeCountries:t})})).catch((function(e){console.log("something went wrong with countries Api")}))},n.getRoutes=function(){"*"!==n.state.selectedRouteCountry&&L.get("getRouteCityByCountryCode?routeGroup='".concat(n.state.routeGroup,"'&countryId=").concat(n.state.selectedRouteCountry)).then((function(e){var t=e.data.response;n.setState({routes:t})})).catch((function(e){console.log("something went wrong with countries Api")}))},n.getSystemModulelist=function(){L.get("getsysmod").then((function(e){e&&e.data.response.length>0&&n.setState({checkboxArray:e.data.response})})).catch((function(e){}))},n._validate=function(e){n.setState({validate:!1});""===n.refs.name.value.trim()?n.setState({error:"Name is required field"}):""===n.refs.email.value.trim()?n.setState({error:"Email is required field"}):n.refs.email.value.trim().match(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/)?""===n.refs.role.value.trim()?n.setState({error:"Role is required field"}):""===n.state.posAccess?n.setState({error:"Please select Pos Access"}):0===n.state.checkboxSelctedCountIndex.length?n.setState({error:"Please select system module"}):n.setState({error:"",validate:!0},(function(){return n.createUser()})):n.setState({error:"Email is Not Valid"})},n.createUser=function(){if(n.state.validate){var e=n.state.checkboxSelctedCountIndex.map((function(e,t){return n.state.checkboxArray[e].id}));e=e.length>0?e.join(","):"";var t=n.refs.name.value.trim(),a={email:n.refs.email.value.trim(),password:"1234567890",username:t,role:n.refs.role.value.trim(),access:n.state.posAccess,route_access:JSON.stringify(tc),systemmodule:e};L.post("api/register/",a).then((function(e){y.a.fire({title:"Success!",text:"'User created successfully",icon:"success",confirmButtonText:"Ok"}).then((function(){n.hideAlertSuccess()}))})).catch((function(e){y.a.fire({title:"Error!",text:e.response.data.email[0],icon:"error",confirmButtonText:"Ok"})}))}},n.state={msg:"",regions:[],regionSelected:"Null",countries:[],countrySelected:"Null",cities:[],citySelected:"Null",routeGroup:"Domestic",routeRegions:[],routeCountries:[],routes:[],selectedRouteRegion:"Null",selectedRouteCountry:"Null",selectedRoute:"Null",error:"",posNetwork:!1,posAccess:"",domestic:!1,international:!1,validate:!1,checkboxArray:[],checkboxSelctedCountIndex:[]},n.hideAlertSuccess=n.hideAlertSuccess.bind(Object(je.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){Ze("Users","createUser")?(this.getRegions(),this.getRouteRegions(),this.getSystemModulelist()):this.props.history.push("/404")}},{key:"callRouteGroup",value:function(e){var t=this,a=e.target.value;tc.selectedRouteGroup=[a],delete tc.selectedRouteRegion,delete tc.selectedRouteCountry,delete tc.selectedRoute,this.setState({routeGroup:a,routeRegions:[],routeCountries:[],routes:[]},(function(){return t.getRouteRegions()}))}},{key:"hideAlertSuccess",value:function(){this.props.history.push("/searchUser")}},{key:"hideAlertFailure",value:function(){w()("input").val("")}},{key:"onPOSNetworkChange",value:function(){var e=this;this.setState({posNetwork:!this.state.posNetwork,error:""},(function(){return e.setPOSNetworkLevel()}))}},{key:"setPOSNetworkLevel",value:function(){this.state.posNetwork?this.setState({posAccess:"#*",regions:[],countries:[],cities:[]}):(this.getRegions(),this.setState({posAccess:""}))}},{key:"onRouteNetworkChange",value:function(){var e=this;this.setState({routeNetwork:!this.state.routeNetwork,error:""},(function(){return e.setRouteNetworkLevel()}))}},{key:"setRouteNetworkLevel",value:function(){var e=this;this.state.routeNetwork?(tc={},this.setState({routeRegions:[],routeCountries:[],routes:[]})):(this.setState({routeGroup:"Domestic"},(function(){return e.getRouteRegions()})),tc={selectedRouteGroup:["Domestic"]})}},{key:"onClickCheckbox",value:function(e,t){var a=this.state.checkboxSelctedCountIndex;a.includes(t)?a.splice(a.findIndex((function(e){return e===t})),1):a.push(t),this.setState({checkboxSelctedCountIndex:a,error:""})}},{key:"render",value:function(){var e=this,t=this.state.regions.map((function(e){return o.a.createElement("option",{value:e.Region},e.Region)})),a=this.state.countries.map((function(e){return o.a.createElement("option",{value:e.CountryCode},e.CountryCode)})),n=this.state.cities.map((function(e){return o.a.createElement("option",{value:e.CityCode},e.CityCode)})),r=this.state.routeRegions.map((function(e){return o.a.createElement("option",{value:e.Route_Region},e.Route_Region)})),l=this.state.routeCountries.map((function(e){return o.a.createElement("option",{value:e.Route_Country},e.Route_Country)})),i=this.state.routes.map((function(e){return o.a.createElement("option",{value:e.Route},e.Route)})),c=""!==this.state.error?o.a.createElement("p",null,this.state.error):o.a.createElement("span",null);return o.a.createElement("div",null,o.a.createElement(Dr,null),o.a.createElement(ta,this.props),o.a.createElement("div",{className:"user-module"},o.a.createElement("div",{className:"clearfix"}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},o.a.createElement("div",{className:"x_panel fade"},o.a.createElement("div",{className:"add"},o.a.createElement("h2",null,"Create User"),o.a.createElement("div",{className:"clearfix"})),o.a.createElement("div",null,o.a.createElement("div",{className:"module-form "},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"name"},"Name :"),o.a.createElement("div",{className:"name-width"},o.a.createElement("input",{type:"text",ref:"name",id:"name",className:"form-control",name:"name",autoFocus:!0,onChange:function(){return e.setState({error:""})}}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"email"},"Email :"),o.a.createElement("input",{type:"email",ref:"email",id:"email",className:"form-control",name:"email",onChange:function(){return e.setState({error:""})}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"role"},"Role :"),o.a.createElement("input",{type:"role",ref:"role",className:"form-control",name:"role",onChange:function(){return e.setState({error:""})}})),o.a.createElement("div",{className:"form-group access",style:{marginTop:"20px"}},o.a.createElement("label",{htmlFor:"addresss"},"POS Access :"),o.a.createElement("div",{style:{margin:"0px 0px 10px 20px"}},o.a.createElement("input",{id:"chkbox",type:"checkbox",className:"chkbox",checked:this.state.posNetwork,onChange:function(){return e.onPOSNetworkChange()}}),o.a.createElement("label",{for:"chkbox",style:{margin:0,marginLeft:10}},"Network"))),this.state.posNetwork?"":o.a.createElement("div",{className:"dropdowns"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"country"},"Region :"),o.a.createElement("select",{className:"form-control _country valid",onChange:function(){return e.callRegion()},id:"region"},o.a.createElement("option",{value:"*"},"All"),t)),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"country"},"Country :"),o.a.createElement("select",{className:"form-control _country valid",onChange:function(){return e.callCountry()},id:"country"},o.a.createElement("option",{value:"*"},"All"),a)),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"country"},"City :"),o.a.createElement("select",{className:"form-control _country valid",onChange:function(t){return e.callCity(t)},name:"region"},o.a.createElement("option",{value:"*"},"All"),n))),o.a.createElement("div",{className:"form-group access"},o.a.createElement("label",{htmlFor:"addresss"},"Route Access :"),o.a.createElement("div",{style:{margin:"0px 0px 10px 20px"}},o.a.createElement("input",{id:"chkboxR",type:"checkbox",className:"chkboxR",checked:this.state.routeNetwork,onChange:function(){return e.onRouteNetworkChange()}}),o.a.createElement("label",{for:"chkboxR",style:{margin:0,marginLeft:10}},"Network"))),this.state.routeNetwork?"":o.a.createElement("div",{className:"dropdowns"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"country"},"Route Group :"),o.a.createElement("select",{className:"form-control _country valid",onChange:function(t){return e.callRouteGroup(t)},id:"routeGroup"},o.a.createElement("option",{value:"Domestic"},"Domestic"),o.a.createElement("option",{value:"International"},"International"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"country"},"Route Region :"),o.a.createElement("select",{className:"form-control _country valid",onChange:function(){return e.callRouteRegion()},id:"routeRegion"},o.a.createElement("option",{value:"*"},"All"),r)),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"country"},"Route Country :"),o.a.createElement("select",{className:"form-control _country valid",onChange:function(){return e.callRouteCountry()},id:"routeCountry"},o.a.createElement("option",{value:"*"},"All"),l)),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"country"},"Route :"),o.a.createElement("select",{className:"form-control _country valid",onChange:function(t){return e.callRoute(t)},name:"route"},o.a.createElement("option",{value:"*"},"All"),i))),o.a.createElement("div",{className:"form-group system-module-list"},o.a.createElement("label",{htmlFor:"addresss"},"System Modules :"),o.a.createElement("div",{style:{margin:"10px 0px 10px 0px;",display:"flex",width:"100%","flex-wrap":"wrap"}},this.state.checkboxArray.map((function(t,a){return o.a.createElement("div",{className:"edit-user-modules"},o.a.createElement("input",{checked:e.state.checkboxSelctedCountIndex.includes(a),type:"checkbox",value:"".concat(t.name),onClick:function(){return e.onClickCheckbox(t,a)}}),o.a.createElement("label",{style:{marginLeft:"10px"}},t.name))})))),c),o.a.createElement("div",{className:"action-btn"},o.a.createElement("button",{type:"submit",onClick:this._validate.bind(this),className:"btn"},"Create User"))))))))}}]),a}(n.Component),nc={selectedRouteGroup:["Domestic"]},oc=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).callRegion=function(){var e=document.getElementById("region"),t=e.options[e.selectedIndex].value;n.setState({regionSelected:"'".concat(t,"'"),posAccess:"*"===t?"":"#'".concat(t,"'#*"),countries:[],cities:[],error:""},(function(){n.getCountries()}))},n.callCountry=function(){var e=n.state.regionSelected,t=document.getElementById("country"),a=t.options[t.selectedIndex].value;n.setState({countrySelected:"'".concat(a,"'"),posAccess:"*"===a?"#".concat(e,"#*"):"#".concat(e,"#'").concat(a,"'#*"),cities:[],error:""},(function(){n.getCities()}))},n.callCity=function(e){var t=n.state,a=t.regionSelected,o=t.countrySelected,r=e.target.value;n.setState({citySelected:"'".concat(r,"'"),posAccess:"*"===r?"#".concat(a,"#").concat(o,"#*"):"#".concat(a,"#").concat(o,"#'").concat(r,"'#*"),error:""})},n.getUserDetails=function(){var e=n.props.location.state?n.props.location.state.data.id:"";L.get("rest/users/".concat(e,"/")).then((function(e){if(e){var t=e.data,a=t.systemmodule.split(",").map((function(e){return parseInt(e)}));n.setState({details:t,checkboxSelctedCountIndex:a}),n.getPOSAccessStatus(t),n.getRouteAccessStatus(t)}})).catch((function(e){console.log("something went wrong",e)}))},n.getCountries=function(){"*"!==n.state.regionSelected&&L.get("getCountryByRegionId?regionId=".concat(encodeURIComponent(n.state.regionSelected))).then((function(e){var t=e.data;n.setState({countries:t},(function(){return n.getCities()}))})).catch((function(e){console.log("something went wrong with countries Api")}))},n.getCities=function(){"*"!==n.state.countrySelected&&L.get("getCityByCountryCode?countryCode=".concat(n.state.countrySelected)).then((function(e){var t=e.data;n.setState({cities:t})})).catch((function(e){console.log("something went wrong with countries Api")}))},n.callRouteRegion=function(){var e=document.getElementById("routeRegion"),t=e.options[e.selectedIndex].value;"*"!==t?nc.selectedRouteRegion=[t]:delete nc.selectedRouteRegion,delete nc.selectedRouteCountry,delete nc.selectedRoute,n.setState({selectedRouteRegion:"'".concat(t,"'"),routeCountries:[],routes:[],error:""},(function(){n.getRouteCountries()}))},n.callRouteCountry=function(){var e=document.getElementById("routeCountry"),t=e.options[e.selectedIndex].value;"*"!==t?nc.selectedRouteCountry=[t]:delete nc.selectedRouteCountry,delete nc.selectedRoute,n.setState({selectedRouteCountry:"'".concat(t,"'"),routes:[],error:""},(function(){n.getRoutes()}))},n.callRoute=function(e){"*"!==e.target.value?nc.selectedRoute=[e.target.value]:delete nc.selectedRoute,n.setState({error:""})},n.getRouteRegions=function(){L.get("getRouteRegion?routeGroup='".concat(n.state.routeGroup,"'")).then((function(e){var t=e.data.response;n.setState({routeRegions:t},(function(){return n.getRouteCountries()}))})).catch((function(e){console.log("something went wrong with countries Api")}))},n.getRouteCountries=function(){"*"!==n.state.selectedRouteRegion&&L.get("getRouteCountryByRegionId?routeGroup='".concat(n.state.routeGroup,"'&regionId=").concat(n.state.selectedRouteRegion)).then((function(e){var t=e.data.response;n.setState({routeCountries:t},(function(){return n.getRoutes()}))})).catch((function(e){console.log("something went wrong with countries Api")}))},n.getRoutes=function(){"*"!==n.state.selectedRouteCountry&&L.get("getRouteCityByCountryCode?routeGroup='".concat(n.state.routeGroup,"'&countryId=").concat(n.state.selectedRouteCountry)).then((function(e){var t=e.data.response;n.setState({routes:t})})).catch((function(e){console.log("something went wrong with countries Api")}))},n.getSystemModulelist=function(){L.get("getsysmod").then((function(e){e&&e.data.response.length>0&&n.setState({checkboxArray:e.data.response})})).catch((function(e){}))},n._validate=function(e){n.setState({validate:!1}),""===n.refs.name.value?n.setState({error:"Name is required field"}):""===n.refs.role.value?n.setState({error:"Role is Required field"}):""===n.state.posAccess?n.setState({error:"Please select pos access"}):0===n.state.checkboxSelctedCountIndex.length?n.setState({error:"Please select system module"}):n.setState({error:"",validate:!0},(function(){return n.updateUser()}))},n.updateUser=function(){if(n.state.validate){var e=n.state.checkboxSelctedCountIndex;e=e.length>0?(e=e.filter((function(e){return!Number.isNaN(e)}))).join(","):"";var t=n.refs.name.value,a=n.refs.role.value,o=n.state.posAccess,r=JSON.stringify(nc),l={username:t,email:n.state.details.email,role:a,access:o,route_access:r,password:n.state.details.password,systemmodule:e};L.put("rest/users/".concat(n.props.location.state.data.id,"/"),l).then((function(e){y.a.fire({title:"Updated!",text:"Profile updated successfully",icon:"success",confirmButtonText:"Ok"}).then((function(){n.hideAlertSuccess()}))})).catch((function(e){y.a.fire({title:"Error!",text:"Unable to update profile",icon:"error",confirmButtonText:"Ok"})}))}},n._validatePass=function(e){n.setState({disable:!1});var t=n.refs.password.value.trim(),a=n.refs.confirmPassword.value.trim();""===t?n.setState({errorPass:"Password is required field"}):t.length<8?n.setState({errorPass:"Password should be min 8 characters long"}):t!==a?n.setState({errorPass:"Confirm Password should Match with Password"}):n.setState({errorPass:"",disable:!0})},n.hidePopup=function(){n.setState({displayModal:!1,disable:!1}),n.refs.password.value="",n.refs.confirmPassword.value=""},n.state={details:null,msg:"",regions:[],regionSelected:"Null",regionSelectedID:"Null",countries:[],countrySelected:"Null",countrySelectedID:"Null",cities:[],citySelected:"Null",routeGroup:"Domestic",routeRegions:[],routeCountries:[],routes:[],selectedRouteRegion:"Null",selectedRouteCountry:"Null",selectedRoute:"Null",error:"",errorPass:"",posNetwork:!1,routeNetwork:!1,posAccess:"",validate:!1,disable:!1,checkboxArray:[],checkboxSelctedCountIndex:[],displayModal:!1},n.hideAlertSuccess=n.hideAlertSuccess.bind(Object(je.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){if(Ze("Users","editUser")){var e=JSON.parse(b.getCookie("Regions"));this.setState({regions:e}),this.getUserDetails(),this.getSystemModulelist()}else this.props.history.push("/404")}},{key:"callRouteGroup",value:function(e){var t=this,a=e.target.value;nc.selectedRouteGroup=[a],delete nc.selectedRouteRegion,delete nc.selectedRouteCountry,delete nc.selectedRoute,this.setState({routeGroup:a,routeRegions:[],routeCountries:[],routes:[]},(function(){return t.getRouteRegions()}))}},{key:"hideAlertSuccess",value:function(){this.props.history.push("/searchUser")}},{key:"onPOSNetworkChange",value:function(){var e=this;this.setState({posNetwork:!this.state.posNetwork,error:""},(function(){return e.setPOSNetworkLevel()}))}},{key:"setPOSNetworkLevel",value:function(){if(this.state.posNetwork)this.setState({posAccess:"#*",regions:[],countries:[],cities:[]});else{var e=JSON.parse(b.getCookie("Regions"));this.setState({regions:e}),this.setState({posAccess:""})}}},{key:"onRouteNetworkChange",value:function(){var e=this;this.setState({routeNetwork:!this.state.routeNetwork,error:""},(function(){return e.setRouteNetworkLevel()}))}},{key:"setRouteNetworkLevel",value:function(){var e=this;this.state.routeNetwork?(nc={},this.setState({routeRegions:[],routeCountries:[],routes:[],selectedRouteRegion:"",selectedRouteCountry:"",selectedRoute:""})):(this.setState({routeGroup:"Domestic"},(function(){return e.getRouteRegions()})),nc={selectedRouteGroup:["Domestic"]})}},{key:"getPOSAccessStatus",value:function(e){var t=this;if("#*"===e.access)this.setState({posNetwork:!0,posAccess:"#*"});else{var a=e.access.split("#");this.setState({regionSelected:a[1],countrySelected:a[2],citySelected:a[3],posNetwork:!1},(function(){return t.getCountries()})),"*"===a[2]?this.setState({posAccess:"#".concat(a[1],"#").concat(a[2])}):this.setState({posAccess:"#".concat(a[1],"#").concat(a[2],"#").concat(a[3])})}}},{key:"getRouteAccessStatus",value:function(e){var t=this,a=e.route_access;0===Object.keys(a).length?(this.setState({routeNetwork:!0}),nc={}):(a.hasOwnProperty("selectedRouteGroup")&&(nc.selectedRouteGroup=a.selectedRouteGroup,this.setState({routeGroup:a.selectedRouteGroup.join(",")})),a.hasOwnProperty("selectedRouteRegion")&&(nc.selectedRouteRegion=a.selectedRouteRegion,this.setState({selectedRouteRegion:"'".concat(a.selectedRouteRegion.join(","),"'")})),a.hasOwnProperty("selectedRouteCountry")&&(nc.selectedRouteCountry=a.selectedRouteCountry,this.setState({selectedRouteCountry:"'".concat(a.selectedRouteCountry.join(","),"'")})),a.hasOwnProperty("selectedRoute")&&(nc.selectedRoute=a.selectedRoute,this.setState({selectedRoute:"'".concat(a.selectedRoute.join(","),"'")}))),setTimeout((function(){t.getRouteRegions()}),1e3)}},{key:"onClickCheckbox",value:function(e){var t=this.state.checkboxSelctedCountIndex;t.includes(e)?t.splice(t.findIndex((function(t){return t===e})),1):t.push(e),this.setState({checkboxSelctedCountIndex:t,error:""})}},{key:"updateUserPassword",value:function(e){var t=this;if(this.state.disable){var a=this.state.details,n=this.refs.password.value.trim(),o={username:a.username,email:a.email,role:a.role,access:a.access,route_access:JSON.stringify(a.route_access),password:n,is_resetpwd:"True"};L.put("rest/users/".concat(this.props.location.state.data.id,"/"),o).then((function(e){y.a.fire({title:"Updated!",text:"Password Updated successfully",icon:"success",confirmButtonText:"Ok"}).then((function(){t.hidePopup()}))})).catch((function(e){y.a.fire({title:"Error",text:"Something went wrong",icon:"error",confirmButtonText:"Ok"}).then((function(){t.refs.password.value="",t.refs.confirmPassword.value=""}))}))}}},{key:"render",value:function(){var e=this,t=""!==this.state.error?o.a.createElement("p",null,this.state.error):o.a.createElement("span",null),a=""!==this.state.errorPass?o.a.createElement("p",{style:{color:"red"}},this.state.errorPass):o.a.createElement("span",null),n=this.state.regions.map((function(t){return o.a.createElement("option",{value:t.Region,selected:H(e.state.regionSelected)===t.Region},t.Region)})),r=this.state.countries.map((function(t){return o.a.createElement("option",{value:t.CountryCode,selected:H(e.state.countrySelected)===t.CountryCode},t.CountryCode)})),l=this.state.cities.map((function(t){return o.a.createElement("option",{value:t.CityCode,selected:H(e.state.citySelected)===t.CityCode},t.CityCode)})),i=this.state.routeRegions.map((function(t){return o.a.createElement("option",{value:t.Route_Region,selected:H(e.state.selectedRouteRegion)===t.Route_Region},t.Route_Region)})),c=this.state.routeCountries.map((function(t){return o.a.createElement("option",{value:t.Route_Country,selected:H(e.state.selectedRouteCountry)===t.Route_Country},t.Route_Country)})),s=this.state.routes.map((function(t){return o.a.createElement("option",{value:t.Route,selected:H(e.state.selectedRoute)===t.Route},t.Route)})),u=this.state.details;return o.a.createElement("div",null,o.a.createElement(Dr,null),o.a.createElement(ta,this.props),o.a.createElement("div",{className:"user-module"},o.a.createElement("div",{className:"clearfix"}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},o.a.createElement("div",{className:"x_panel fade user-module-main"},o.a.createElement("div",{className:"add"},o.a.createElement("h2",null,"Edit User")),null!==u?o.a.createElement("div",null,o.a.createElement("div",{className:"module-form "},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"name"},"Name :"),o.a.createElement("div",{className:"name-width"},o.a.createElement("input",{type:"text",ref:"name",defaultValue:u.username,id:"name",className:"form-control",name:"name",autoFocus:!0,onChange:function(){return e.setState({error:""})}}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"email"},"Email :"),o.a.createElement("input",{type:"email",ref:"email",disabled:!0,id:"email",defaultValue:u.email,className:"form-control",name:"email",onChange:function(){return e.setState({error:""})}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"role"},"Role :"),o.a.createElement("input",{type:"role",ref:"role",defaultValue:u.role,className:"form-control",name:"role",onChange:function(){return e.setState({error:""})}})),o.a.createElement("div",{className:"form-group access",style:{marginTop:"20px"}},o.a.createElement("label",{htmlFor:"addresss"},"POS Access :"),o.a.createElement("div",{style:{margin:"0px 0px 10px 20px"}},o.a.createElement("input",{id:"chkbox",type:"checkbox",className:"chkbox",checked:this.state.posNetwork,onChange:function(){return e.onPOSNetworkChange()}}),o.a.createElement("label",{for:"chkbox",style:{margin:0,marginLeft:10}},"Network"))),this.state.posNetwork?"":o.a.createElement("div",{className:"dropdowns"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"country"},"Region :"),o.a.createElement("select",{className:"form-control _country valid",onChange:function(){return e.callRegion()},id:"region"},o.a.createElement("option",{value:"*"},"All"),n)),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"country"},"Country :"),o.a.createElement("select",{className:"form-control _country valid",onChange:function(){return e.callCountry()},id:"country"},o.a.createElement("option",{value:"*"},"All"),r)),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"country"},"City :"),o.a.createElement("select",{className:"form-control _country valid",onChange:function(t){return e.callCity(t)},name:"region"},o.a.createElement("option",{value:"*"},"All"),l))),o.a.createElement("div",{className:"form-group access"},o.a.createElement("label",{htmlFor:"addresss"},"Route Access :"),o.a.createElement("div",{style:{margin:"0px 0px 10px 20px"}},o.a.createElement("input",{id:"chkboxR",type:"checkbox",className:"chkboxR",checked:this.state.routeNetwork,onChange:function(){return e.onRouteNetworkChange()}}),o.a.createElement("label",{for:"chkboxR",style:{margin:0,marginLeft:10}},"Network"))),this.state.routeNetwork?"":o.a.createElement("div",{className:"dropdowns"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"country"},"Route Group :"),o.a.createElement("select",{className:"form-control _country valid",onChange:function(t){return e.callRouteGroup(t)},id:"routeGroup"},o.a.createElement("option",{value:"Domestic",selected:"Domestic"===this.state.routeGroup},"Domestic"),o.a.createElement("option",{value:"International",selected:"International"===this.state.routeGroup},"International"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"country"},"Route Region :"),o.a.createElement("select",{className:"form-control _country valid",onChange:function(){return e.callRouteRegion()},id:"routeRegion"},o.a.createElement("option",{value:"*"},"All"),i)),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"country"},"Route Country :"),o.a.createElement("select",{className:"form-control _country valid",onChange:function(){return e.callRouteCountry()},id:"routeCountry"},o.a.createElement("option",{value:"*"},"All"),c)),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"country"},"Route :"),o.a.createElement("select",{className:"form-control _country valid",onChange:function(t){return e.callRoute(t)},name:"route"},o.a.createElement("option",{value:"*"},"All"),s))),o.a.createElement("div",{className:"form-group",style:{marginTop:"10px",width:"100%"}},o.a.createElement("label",{htmlFor:"addresss"},"System Modules :"),o.a.createElement("div",{style:{margin:"10px 0px 10px 0px;",display:"flex",width:"100%","flex-wrap":"wrap"}},this.state.checkboxArray.map((function(t,a){return o.a.createElement("div",{className:"edit-user-modules"},o.a.createElement("input",{checked:e.state.checkboxSelctedCountIndex.includes(t.id),type:"checkbox",value:"".concat(t.name),onClick:function(){return e.onClickCheckbox(t.id)}}),o.a.createElement("label",{style:{marginLeft:"10px"}},t.name))})))),t),o.a.createElement("div",{className:"action-btn"},o.a.createElement("button",{type:"submit",onClick:this._validate.bind(this),className:"btn"},"Update User"))):o.a.createElement("div",null)))),o.a.createElement(Oe.a,{show:this.state.displayModal,"aria-labelledby":"ModalHeader",onHide:function(){return e.setState({displayModal:!1})}},o.a.createElement(Oe.a.Header,null,o.a.createElement(Oe.a.Title,{id:"ModalHeader"},"Reset Password")),o.a.createElement(Oe.a.Body,{className:"resetpass-body"},o.a.createElement("label",{htmlFor:"password"},"Password * :"),o.a.createElement("input",{type:"password",ref:"password",className:"form-control",onChange:function(){return e._validatePass()}}),o.a.createElement("label",{htmlFor:"confirmPassword"},"Confirm Password * :"),o.a.createElement("input",{type:"password",ref:"confirmPassword",className:"form-control",onChange:function(){return e._validatePass()}}),a),o.a.createElement(Oe.a.Footer,null,o.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.updateUserPassword.bind(this),disabled:!this.state.disable},"Update")))))}}]),a}(n.Component),rc=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={userData:[],systemmodule:""},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=JSON.parse(b.getCookie("userDetails"));this.setState({userData:e,systemmodule:e.systemmodule})}},{key:"render",value:function(){var e=this.state,t=e.userData,a=e.systemmodule;return o.a.createElement("div",null,o.a.createElement(Dr,null),o.a.createElement(ta,this.props),o.a.createElement("div",{className:"user-module"},o.a.createElement("div",{className:"clearfix"}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},o.a.createElement("div",{className:"x_panel fade"},o.a.createElement("div",{className:"add"},o.a.createElement("h2",null,"User Profile"),o.a.createElement("div",{className:"clearfix"})),o.a.createElement("div",null,o.a.createElement("div",{className:"module-form ",style:{flexDirection:"column",alignItems:"flex-start"}},o.a.createElement("div",{className:"form-group profile"},o.a.createElement("label",{htmlFor:"name"},"Name :"),o.a.createElement("div",{className:"details"},t.username)),o.a.createElement("div",{className:"form-group profile"},o.a.createElement("label",{htmlFor:"email"},"Email :"),o.a.createElement("div",{className:"details"},t.email)),o.a.createElement("div",{className:"form-group profile"},o.a.createElement("label",{htmlFor:"role"},"Role :"),o.a.createElement("div",{className:"details"},t.role)),o.a.createElement("div",{className:"form-group profile"},o.a.createElement("label",{htmlFor:"role"},"POS Access :"),o.a.createElement("div",{className:"details"}," ",ee(t.access))),o.a.createElement("div",{className:"form-group profile"},o.a.createElement("label",{htmlFor:"role"},"Route Access :"),o.a.createElement("div",{className:"details"}," ",te(t.route_access))),o.a.createElement("div",{className:"form-group profile",style:{display:"block"}},o.a.createElement("label",{htmlFor:"role"},"System Modules :"),o.a.createElement("div",{className:"sysModules-main"},a?a.map((function(e){return o.a.createElement("div",{className:"sysModules"},e)})):"")))))))))}}]),a}(n.Component),lc=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e))._validate=function(e){n.setState({validate:!1});var t=n.refs.ChangeOldpassword.value.trim(),a=n.refs.ChangeNewpassword.value.trim(),o=n.refs.ChangeconfirmNewPassword.value.trim();""===t?n.setState({error:"Old Password is required field"}):t.length<8?n.setState({error:"Password should be min 8 characters long"}):""===a?n.setState({error:"New Password is required field"}):a.length<8?n.setState({error:"Password should be min 8 characters long"}):a!==o?n.setState({error:"Confirm Password did Match with New Password"}):n.setState({error:"",validate:!0})},n.changePassword=function(){var e={old_password:n.refs.ChangeOldpassword.value.trim(),new_password:n.refs.ChangeNewpassword.value.trim()};L.post("api/passwordchange",e).then((function(e){y.a.fire({title:"Success!",text:"'Password changed successfully",icon:"success",confirmButtonText:"Ok"}).then((function(){n.reset()}))})).catch((function(e){y.a.fire({title:"Error!",text:e.response.data.old_password[0],icon:"error",confirmButtonText:"Ok"}).then((function(){n.reset()}))}))},n.state={msg:"",error:"",validate:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"reset",value:function(){w()("input").val("")}},{key:"render",value:function(){var e=this,t=""!==this.state.error?o.a.createElement("p",null,this.state.error):o.a.createElement("span",null);return o.a.createElement("div",null,o.a.createElement(Dr,null),o.a.createElement(ta,this.props),o.a.createElement("div",{className:"user-module"},o.a.createElement("div",{className:"clearfix"}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},o.a.createElement("div",{className:"x_panel fade"},o.a.createElement("div",{className:"add"},o.a.createElement("h2",null,"Change Password"),o.a.createElement("div",{className:"clearfix"})),o.a.createElement("div",null,o.a.createElement("div",{className:"module-form "},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"password"},"Old Password * :"),o.a.createElement("input",{type:"password",ref:"ChangeOldpassword",className:"form-control",name:"ChangeOldpassword",onChange:function(){return e._validate()}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"password"},"New Password * :"),o.a.createElement("input",{type:"password",ref:"ChangeNewpassword",className:"form-control",name:"ChangeNewpassword",id:"ChangeNewpassword",onChange:function(){return e._validate()}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"changeconfirmPassword"},"Confirm New Password * :"),o.a.createElement("input",{type:"password",ref:"ChangeconfirmNewPassword",className:"form-control",name:"changeconfirmPassword",onChange:function(){return e._validate()}})),t),o.a.createElement("div",{className:"action-btn"},o.a.createElement("button",{type:"button",className:"btn",onClick:this.changePassword.bind(this),disabled:!this.state.validate},"Change Password"))))))))}}]),a}(n.Component),ic=(a(1041),_),cc=(new Te,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getEventList=function(){n.setState({loading:!0}),L.get("auditLogs/events").then((function(e){n.setState({loading:!1}),e&&e.data.response.length>0&&n.setState({event:e.data.response})})).catch((function(e){n.setState({loading:!1})}))},n.browserIcons=function(e){var t=e.data.browser,a=document.createElement("span"),n=document.createElement("i");return n.className="fa fa-".concat(t),a.appendChild(n),a},n.deleteUser=function(e){L.delete("rest/users/".concat(e,"/")).then((function(e){y.a.fire({title:"Success!",text:"User deleted successfully",icon:"success",confirmButtonText:"Ok"}).then((function(){n.getUserList()}))})).catch((function(e){y.a.fire({title:"Error!",text:"Unable to delete user",icon:"error",confirmButtonText:"Ok"})}))},n.handleChange=function(e){var t;n.setState((t={},Object(p.a)(t,e.target.id,e.target.value),Object(p.a)(t,"count",1),Object(p.a)(t,"paginationStart",1),t))},n.callEvents=function(e){n.setState({selectedEvent:e.target.value,count:1,paginationStart:1})},n.getFilteredAuditLogs=function(){n.setState({loading:!0,eventData:[]});var e=n.state,t=e.count,a=e.userName,o=e.selectedEvent,r=e.startDate,l=e.endDate,i=e.page,c=e.device,s={page_number:t};a&&(s.username=a),"Null"!==o&&(s.event_id=o),r&&(s.start_date=r),l&&(s.end_date=l),i&&(s.page_name=i),c&&(s.device_type=c);var u="auditLogs/logs?".concat(function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")}(s));n.setState({url:u}),L.get(u).then((function(e){if(n.setState({loading:!1}),e&&e.data.response){var t=e.data.response;if(t.events.length>0){var a=[];t.events.forEach((function(e){a.push({id:e.id,user_name:e.username,description:e.description,event:e.event_name,page:e.page_name,date_time:e.create_date,browser:e.browser_name,device_type:e.device_type})})),n.state.searchClick&&(a.length<t.paginationLimit?n.setState({paginationEnd:t.totalRecords},(function(){return n.setState({searchClick:!1})})):n.setState({paginationEnd:t.paginationLimit},(function(){return n.setState({searchClick:!1})}))),n.setState({eventData:a,eventData2:a,currentPage:t.pageNumber,totalPages:t.totalPages,totalRecords:t.totalRecords,paginationSize:t.paginationLimit})}}})).catch((function(e){n.setState({loading:!1})}))},n.gotoFirstPage=function(){n.setState({count:1,paginationStart:1},(function(){n.getFilteredAuditLogs(),setTimeout((function(){n.setState({paginationEnd:n.state.paginationSize})}),1500)}))},n.gotoLastPage=function(){var e=n.state,t=e.totalPages,a=e.paginationSize,o=e.totalRecords,r=a*(t-1);n.setState({count:t,paginationStart:r+1,paginationEnd:o},(function(){return n.getFilteredAuditLogs()}))},n.gotoPreviousPage=function(){var e=n.state,t=e.count,a=e.currentPage,o=e.totalPages,r=e.paginationSize,l=e.paginationStart,i=e.paginationEnd,c=e.totalRecords%r,s=a===o;n.setState({count:t-1,paginationStart:l-r,paginationEnd:i-(s?c:r)},(function(){return n.getFilteredAuditLogs()}))},n.gotoNextPage=function(){var e=n.state,t=e.count,a=e.currentPage,o=e.totalPages,r=e.paginationSize,l=e.paginationStart,i=e.paginationEnd,c=e.totalRecords%r,s=a===o-1;n.setState({count:t+1,paginationStart:l+r,paginationEnd:i+(s?c:r)},(function(){return n.getFilteredAuditLogs()}))},n.firstDataRendered=function(e){e.api.sizeColumnsToFit()},n.onGridReady=function(e){if(!e.api)return null;n.gridApi=e.api},n.gridApi=null,n.state={userName:"",selectedEvent:"Null",startDate:"",endDate:"",page:"",device:"",event:[],eventColumn:[{headerName:"Id",field:"id"},{headerName:"User Name",field:"user_name",tooltipField:"user_name"},{headerName:"Event",field:"event",tooltipField:"event"},{headerName:"Page",field:"page",tooltipField:"page"},{headerName:"Device Type",field:"device_type",tooltipField:"device_type"},{headerName:"Description",field:"description",tooltipField:"description",width:300},{headerName:"Browser",field:"browser",tooltipField:"browser",cellRenderer:function(e){return n.browserIcons(e)}},{headerName:"Date Time",field:"date_time",tooltipField:"date_time"}],eventData:[],eventData2:[],currentPage:"",totalPages:"",totalRecords:"",paginationStart:1,paginationEnd:"",paginationSize:"",count:1,loading:!1,searchClick:!1,url:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getEventList(),this.setState({},(function(){return e.gotoFirstPage()}))}},{key:"actions",value:function(e){var t=this,a=document.createElement("span"),n=document.createElement("i"),o=document.createElement("i");return n.className="fa fa-pencil",n.onclick=function(){return t.props.history.push({pathname:"/editUser",state:{data:e.data}})},o.className="fa fa-trash",o.onclick=function(){y.a.fire({title:"Warning!",text:"Do you want to delete this user?",icon:"warning",confirmButtonText:"Yes",showCancelButton:!0,cancelButtonText:"No",cancelButtonColor:"#ff0000bf"}).then((function(a){a.value&&t.deleteUser(e.data.id)}))},a.appendChild(n),a.appendChild(o),a}},{key:"search",value:function(){var e=this;this.setState({searchClick:!0},(function(){return e.getFilteredAuditLogs()}))}},{key:"applyColumnLockDown",value:function(e){var t=this;return e.map((function(e){return e.children&&(e.children=t.applyColumnLockDown(e.children)),Object(B.a)(Object(B.a)({},e),{lockPosition:!0,cellClass:"lock-pinned"})}))}},{key:"render",value:function(){var e=this;return setInterval((function(){e.gridApi&&e.gridApi.gridPanel.eBodyViewport.clientWidth&&e.gridApi.sizeColumnsToFit()}),1e3),o.a.createElement("div",null,o.a.createElement(ta,this.props),o.a.createElement("div",{className:"audit-logs-search"},o.a.createElement("div",{className:"add"},o.a.createElement("h2",null,"Audit Logs"),o.a.createElement(Sr,{url:"".concat(ic,"/").concat(this.state.url),name:"Audit Logs",path:"/auditLogs",page:"Audit Logs Page"})),o.a.createElement("div",{className:"module-form"},o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"userName"},"User Name :"),o.a.createElement("input",{type:"text",class:"form-control",id:"userName",value:this.state.userName,onChange:function(t){return e.handleChange(t)}})),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"events"},"Events :"),o.a.createElement("select",{className:"form-control cabinselect events-dropdown",onChange:function(t){return e.callEvents(t)},id:"region"},o.a.createElement("option",{selected:!0,value:"Null"},"All"),this.state.event.map((function(e,t){return o.a.createElement("option",{value:e.id},e.event_name)})))),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"page"},"Page :"),o.a.createElement("input",{type:"text",class:"form-control",id:"page",value:this.state.page,onChange:function(t){return e.handleChange(t)}})),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"device"},"Device Type :"),o.a.createElement("input",{type:"text",class:"form-control",id:"device",value:this.state.device,onChange:function(t){return e.handleChange(t)}})),o.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.search()}},"Search")),o.a.createElement("div",{className:"audit-logs-table"},this.state.loading?o.a.createElement(We,null):o.a.createElement("div",{id:"myGrid",className:"ag-theme-balham-dark ag-grid-table",style:{height:"calc(100vh - 350px)"}},o.a.createElement(_a.AgGridReact,{onGridReady:this.onGridReady,onFirstDataRendered:function(t){return e.firstDataRendered(t)},columnDefs:this.applyColumnLockDown(this.state.eventColumn),rowData:this.state.eventData,rowSelection:"single",enableBrowserTooltips:!0}),o.a.createElement(sl,{paginationStart:this.state.paginationStart,paginationEnd:this.state.paginationEnd,totalRecords:this.state.totalRecords,currentPage:this.state.currentPage,TotalPages:this.state.totalPages,gotoFirstPage:function(){return e.gotoFirstPage()},gotoLastPage:function(){return e.gotoLastPage()},gotoPreviousPage:function(){return e.gotoPreviousPage()},gotoNexttPage:function(){return e.gotoNextPage()}})))))}}]),a}(n.Component)),sc=(a(612),new Te,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n,o;return Object(i.a)(this,a),(o=t.call(this,e)).arrowIndicator=function(e){var t=document.createElement("span"),a=document.createElement("i"),n=e.value;return a.className="High"===n||"Above"===n?"fa fa-arrow-up":"fa fa-arrow-down",t.appendChild(document.createTextNode(e.value)),t.appendChild(a),t},o.handleChange=function(e){o.setState(Object(p.a)({},e.target.id,e.target.value))},o.callCriticality=function(e){o.setState({selectedCriticality:e.target.value})},o.handleDatePicker=function(e){o.setState({datePickerValue:[e.selection]})},o.getCardsData=function(){o.setState({loading:!0,alertData:[]});var e=o.state,t=e.AStatus,a=e.BStatus,n=e.FStatus,r=e.IStatus,l=e.MStatus,i=e.action,c={};t&&(c.AStatus=t),a&&(c.BStatus=a),n&&(c.FStatus=n),r&&(c.IStatus=r),l&&(c.MStatus=l),i&&(c.actions=i);L.get("getallalerts?".concat(function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")}(c))).then((function(e){if(o.setState({loading:!1}),e&&e.data.response.length>0){var t=e.data.response,a=[];t.forEach((function(e){a.push({id:e.id,Region:e.Region,Country:e.CountryCode,City:e.POS,"O&D":e.CommonOD,AStatus:e.AStatus,BStatus:e.BStatus,Criticality:e.Criticality,FStatus:e.FStatus,IStatus:e.IStatus,MStatus:e.MStatus,Stratagy:e.Stratagy,Actions:"Show More",aul:e.aul})})),o.setState({alertData:a})}})).catch((function(e){o.setState({loading:!1}),y.a.fire({title:"Error!",text:"something went wrong, please try again!",icon:"error",confirmButtonText:"Ok"})}))},o.onCellClicked=function(e){var t=e.colDef.field,a=e.data.id;"Actions"===t&&o.setState({modalVisible:!0,selectedAlertId:parseInt(a),isAcknowledged:!1,isRejected:!1},(function(){var e=o.state.alertData.filter((function(e){return e.id===o.state.selectedAlertId}));e.map((function(e){return e.aul?e.aul.map((function(e){return"1"===e.acknowledged?o.setState({isAcknowledged:!0}):null})):null})),e.map((function(e){return e.aul?e.aul.map((function(e){return"1"===e.rejeceted?o.setState({isRejected:!0}):null})):null}))}))},o.firstDataRendered=function(e){e.api.sizeColumnsToFit()},o.onGridReady=function(e){if(!e.api)return null;o.gridApi=e.api},o.gridApi=null,o.state=(n={alert:"",date:"Select Date Range",showDatePicker:!1,datePickerValue:[{startDate:Object(P.a)(new Date,10),endDate:new Date,key:"selection"}],alertData:[],alertColumns:[{headerName:"Region",field:"Region",alignLeft:!0},{headerName:"Country",field:"Country",alignLeft:!0},{headerName:"POS",field:"City",alignLeft:!0},{headerName:"O&D",field:"O&D",alignLeft:!0},{headerName:"Infare Rates",headerTooltip:"Infare Rates",field:"IStatus",tooltipField:"device_type",cellRenderer:function(e){return o.arrowIndicator(e)}},{headerName:"Actions",field:"Actions",tooltipField:"Actions",cellStyle:function(e){return{"text-decoration":"underline",cursor:"pointer"}}}],AStatus:"",FStatus:"",BStatus:"",MStatus:"",IStatus:"",action:"",startDate:"",endDate:""},Object(p.a)(n,"action",""),Object(p.a)(n,"device",""),Object(p.a)(n,"currentPage",""),Object(p.a)(n,"totalPages",""),Object(p.a)(n,"totalRecords",""),Object(p.a)(n,"paginationStart",1),Object(p.a)(n,"paginationEnd",""),Object(p.a)(n,"paginationSize",""),Object(p.a)(n,"count",1),Object(p.a)(n,"loading",!1),Object(p.a)(n,"selectedAlertId",null),Object(p.a)(n,"modalVisible",!1),Object(p.a)(n,"isAcknowledged",!1),Object(p.a)(n,"isRejected",!1),n),o}return Object(c.a)(a,[{key:"componentDidMount",value:function(){if(Ze("Alert","alerts")){var e=this.state.datePickerValue[0],t=e.startDate.toDateString(),a=e.endDate.toDateString();this.setState({date:"".concat(t," - ").concat(a),startDate:e.startDate.toJSON(),endDate:e.endDate.toJSON()}),this.getCardsData()}else this.props.history.push("/404")}},{key:"dateSelected",value:function(){var e=this.state.datePickerValue,t=e[0].startDate.toDateString(),a=e[0].endDate.toDateString();this.setState({showDatePicker:!1,date:"".concat(t," - ").concat(a),startDate:e[0].startDate.toJSON(),endDate:e[0].endDate.toJSON()})}},{key:"closeModal",value:function(){this.setState({modalVisible:!1})}},{key:"applyColumnLockDown",value:function(e){var t=this;return e.map((function(e){e.children&&(e.children=t.applyColumnLockDown(e.children));var a={},n=e.cellClassRules;return e.alignLeft?a.cellClassRules=Object(B.a)({"align-left":"1 == 1"},n):a.cellClassRules=Object(B.a)({"align-right":"1 == 1"},n),Object(B.a)(Object(B.a)(Object(B.a)({},e),a),{lockPosition:!0,cellClass:"lock-pinned"})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.alertColumns,n=t.alertData,r=t.selectedAlertId,l=t.isAcknowledged,i=t.isRejected;return setInterval((function(){e.gridApi&&e.gridApi.gridPanel.eBodyViewport.clientWidth&&e.gridApi.sizeColumnsToFit()}),1e3),o.a.createElement("div",null,o.a.createElement(ta,this.props),o.a.createElement("div",{className:"alerts"},o.a.createElement("div",{className:"add"},o.a.createElement("h2",null,"Alerts")),o.a.createElement("div",{className:"alerts-form"},o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"events"},"Infare Rates :"),o.a.createElement("select",{className:"form-control cabinselect events-dropdown",onChange:function(t){return e.handleChange(t)},id:"IStatus"},o.a.createElement("option",{selected:!0,value:""},"All"),o.a.createElement("option",{value:"High"},"High"),o.a.createElement("option",{value:"Low"},"Low"))),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{for:"events"},"Actions :"),o.a.createElement("select",{className:"form-control cabinselect events-dropdown",onChange:function(t){return e.handleChange(t)},id:"action"},o.a.createElement("option",{selected:!0,value:""},"All"),o.a.createElement("option",{value:"Acknowledged"},"Acknowledged"),o.a.createElement("option",{value:"Rejected"},"Rejected"))),o.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.getCardsData()}},"Search")),o.a.createElement("div",{className:"audit-logs-table"},this.state.loading?o.a.createElement(We,null):o.a.createElement("div",{id:"myGrid",className:"ag-theme-balham-dark ag-grid-table",style:{height:"calc(100vh - 350px)"}},o.a.createElement(_a.AgGridReact,{onGridReady:this.onGridReady,onFirstDataRendered:function(t){return e.firstDataRendered(t)},columnDefs:this.applyColumnLockDown(a),rowData:n,onCellClicked:function(t){return e.onCellClicked(t)},rowSelection:"single",enableBrowserTooltips:!0})))),o.a.createElement(Oe.a,{show:this.state.modalVisible,onHide:function(){return e.closeModal()},"aria-labelledby":"ModalHeader"},o.a.createElement(Oe.a.Header,{closeButton:!0},o.a.createElement(Oe.a.Title,{id:"ModalHeader"},"Actions taken by users")),o.a.createElement(Oe.a.Body,null,n.map((function(e,t){return e.id===r?e.aul&&e.aul.length>0?o.a.createElement("div",{className:"users-initials"},l?o.a.createElement("h5",null,"Acknowledged :"):"",o.a.createElement("div",{className:"users-initials-main"},e.aul.map((function(e){return"1"===e.acknowledged?o.a.createElement("div",{title:"".concat(e.username),className:"users-circle"},o.a.createElement("span",{className:"initial"},"".concat(e.username.charAt(0)))):""}))),i?o.a.createElement("h5",null,"Rejected :"):"",o.a.createElement("div",{className:"users-initials-main"},e.aul.map((function(e){return"1"===e.rejeceted?o.a.createElement("div",{title:"".concat(e.username),className:"users-circle"},o.a.createElement("span",{className:"initial"},"".concat(e.username.charAt(0)))):""})))):o.a.createElement("h5",{style:{textAlign:"center"}},"No action taken yet"):""})))))}}]),a}(n.Component)),uc=a(1141),dc=(new Te,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getAlertSettings=function(){L.get("getAlertsSettings").then((function(e){if(e&&e.data.response.length>0){var t=e.data.response,a=t.filter((function(e){return"forecast"===e.label})),o=t.filter((function(e){return"booking"===e.label})),r=t.filter((function(e){return"availability"===e.label})),l=t.filter((function(e){return"market_share"===e.label})),i=t.filter((function(e){return"pos"===e.label})),c=t.filter((function(e){return"Infare"===e.label}));n.setState({forecast:a[0],booking:o[0],availability:r[0],market_share:l[0],forecastRange:a[0].range,bookingRange:o[0].range,availabilityRange:r[0].range,market_shareRange:l[0].range,pos:i[0],posDays:i[0].range[0],infare:c[0],carrierRate:c[0].range[0]})}})).catch((function(e){console.log("alert setting error",e)}))},n.handleRangeChange=function(e){return function(t,a){n.setState(Object(p.a)({},e,a))}},n.updateAlertSettings=function(){var e=n.state,t=e.forecast,a=e.booking,o=e.availability,r=e.market_share,l=e.pos,i=e.infare,c=e.forecastRange,s=e.bookingRange,u=e.availabilityRange,d=e.market_shareRange,m=e.posDays,h=e.carrierRate,g={user_id:JSON.parse(b.getCookie("userDetails")).id,settings:[{id:t.id,threshold_start_limit:c[0],threshold_end_limit:c[1]},{id:a.id,threshold_start_limit:s[0],threshold_end_limit:s[1]},{id:o.id,threshold_start_limit:u[0],threshold_end_limit:u[1]},{id:r.id,threshold_start_limit:d[0],threshold_end_limit:d[1]},{id:l.id,threshold_start_limit:m,threshold_end_limit:null},{id:i.id,threshold_start_limit:h,threshold_end_limit:null}]};L.post("updateAlertsSettings",g).then((function(e){y.a.fire({title:"Success!",text:"Alert settings updated successfully",icon:"success",confirmButtonText:"Ok"}).then((function(){}))})).catch((function(e){y.a.fire({title:"Error!",text:"Unable to update Alert settings",icon:"error",confirmButtonText:"Ok"})}))},n.state={forecast:{},booking:{},availability:{},market_share:{},forecastRange:[],bookingRange:[],availabilityRange:[],market_shareRange:[],pos:{},posDays:null,disable:!0,infare:[],carrierRate:null,disableBtn:!1,posErrorMsg:"",carrierErrorMsg:""},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){Ze("Alert","alertSetting")?this.getAlertSettings():this.props.history.push("/404")}},{key:"handleChange",value:function(e){var t=this;this.setState(Object(p.a)({},e.target.name,e.target.value)),this.validate(e),setTimeout((function(){t.validateForm()}),500)}},{key:"validate",value:function(e){var t=this.state,a=t.posDays,n=t.carrierRate,o=e.target.name,r=e.target.value;console.log("rahul",a,n),"posDays"===o&&(r?Z(r)?this.setState({posErrorMsg:""}):this.setState({posErrorMsg:"Enter Numbers Only"}):this.setState({posErrorMsg:"Pos Days cannot be empty"})),"carrierRate"===o&&(r?Z(r)?this.setState({carrierErrorMsg:""}):this.setState({carrierErrorMsg:"Enter Numbers Only"}):this.setState({carrierErrorMsg:"Carrier rate cannot be empty"}))}},{key:"validateForm",value:function(){var e=this.state,t=e.posErrorMsg,a=e.carrierErrorMsg;t||a?this.setState({disableBtn:!0}):this.setState({disableBtn:!1})}},{key:"avoidE",value:function(e){return console.log("rahul",69!==e.keyCode),69!==e.keyCode}},{key:"render",value:function(){var e=this,t=this.state,a=t.forecastRange,n=t.bookingRange,r=t.availabilityRange,l=t.market_shareRange,i=t.posDays,c=t.carrierRate,s=t.disableBtn,u=t.posErrorMsg,d=t.carrierErrorMsg;return o.a.createElement("div",null,o.a.createElement(Dr,null),o.a.createElement(ta,this.props),o.a.createElement("div",{className:"alerts"},o.a.createElement("div",{className:"add"},o.a.createElement("h2",null,"Alert Setting")),o.a.createElement("div",{className:"alerts-setting-form"},o.a.createElement("div",{class:"form-group"},o.a.createElement("label",null,"Forecast :"),o.a.createElement("div",{className:"slider"},o.a.createElement("span",null,"0%"),o.a.createElement("span",{className:"end"},"100%"),o.a.createElement(uc.a,{value:a,onChange:this.handleRangeChange("forecastRange"),valueLabelDisplay:"auto","aria-labelledby":"range-slider"}))),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",null,"Booking :"),o.a.createElement("div",{className:"slider"},o.a.createElement("span",null,"0%"),o.a.createElement("span",{className:"end"},"100%"),o.a.createElement(uc.a,{value:n,onChange:this.handleRangeChange("bookingRange"),valueLabelDisplay:"auto","aria-labelledby":"range-slider"}))),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",null,"Availability :"),o.a.createElement("div",{className:"slider"},o.a.createElement("span",null,"0%"),o.a.createElement("span",{className:"end"},"100%"),o.a.createElement(uc.a,{value:r,onChange:this.handleRangeChange("availabilityRange"),valueLabelDisplay:"auto","aria-labelledby":"range-slider"}))),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",null,"Market Share :"),o.a.createElement("div",{className:"slider"},o.a.createElement("span",null,"0%"),o.a.createElement("span",{className:"end"},"100%"),o.a.createElement(uc.a,{value:l,onChange:this.handleRangeChange("market_shareRange"),valueLabelDisplay:"auto","aria-labelledby":"range-slider"}))),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{style:{marginBottom:"5px"}},"POS :"),o.a.createElement("input",{type:"text",class:"form-control",placeholder:"Set POS Days",name:"posDays",value:i,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("p",null,u)),o.a.createElement("div",{class:"form-group"},o.a.createElement("label",{style:{marginBottom:"5px"}},"Infare :"),o.a.createElement("input",{type:"text",class:"form-control",placeholder:"Set Carrier Rate",name:"carrierRate",value:c,onChange:function(t){return e.handleChange(t)}}),o.a.createElement("p",null,d)),o.a.createElement("div",{className:"action-btn"},o.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.updateAlertSettings()},disabled:s},"Update")))))}}]),a}(n.Component)),mc=new Te,hc=[],gc=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e,t,a,n){"".concat(e),"User ".concat(t),"/".concat(a),"".concat(n," Page")},n.monthWiseCellClick=function(e){var t=Object(je.a)(n);t.sendEvent("2","clicked on Months row","pos","Pos Page");var a=n.state,o=(a.gettingMonth,a.regionId),r=a.countryId,l=a.cityId,i=a.commonOD,c=a.getCabinValue,s=a.type,u=e.colDef.field;t.setState({gettingMonth:e.data.Month}),""===u?(e.event.stopPropagation(),t.setState({chartVisible:!0})):"CY_B"===u?(e.event.stopPropagation(),t.showLoader(),mc.getPOSCabinDetails(e.data.Month,o,r,l,i,c).then((function(e){if(t.hideLoader(),e){var a=e[0].columnName,n=e[0].cabinData,o=e[0].data;t.setState({modalData:o,tableModalVisible:!0,modalCompartmentData:n,modalCompartmentColumn:a})}}))):"CY_AL"===u?n.props.history.push("/topMarkets"):(t.setState({loading2:!0}),"OD"===s?mc.getPOSDrillDownData(n.state.toggle,e.data.Month,o,r,l,i,c,"OD").then((function(e){t.setState({loading2:!1}),e&&t.setState({drillDownTotalData:e[0].totalData,posODFlowData:e[0].posregiontableDatas,posODFlowColumn:e[0].columnName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,cityId:e[0].currentAccess.cityId,commonOD:e[0].currentAccess.commonOD})})):"Agency"===s?mc.getPOSDrillDownData(n.state.toggle,e.data.Month,o,r,l,i,c,"Agency").then((function(e){t.setState({loading2:!1}),e&&t.setState({drillDownTotalData:e[0].totalData,posAgentFlowDatas:e[0].posregiontableDatas,posAgentFlowcolumn:e[0].columnName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,cityId:e[0].currentAccess.cityId,commonOD:e[0].currentAccess.commonOD})})):"Compartment"===s?mc.getPOSDrillDownData(n.state.toggle,e.data.Month,o,r,l,i,c,"Compartment").then((function(e){t.setState({loading2:!1}),e&&t.setState({drillDownTotalData:e[0].totalData,compartmentData:e[0].posregiontableDatas,compartmentColumn:e[0].columnName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,cityId:e[0].currentAccess.cityId,commonOD:e[0].currentAccess.commonOD})})):"Ancillary"===s?mc.getPOSDrillDownData(n.state.toggle,e.data.Month,o,r,l,i,c,"Ancillary").then((function(e){t.setState({loading2:!1}),e&&t.setState({drillDownTotalData:e[0].totalData,ancillaryData:e[0].posregiontableDatas,ancillaryColumn:e[0].columnName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,cityId:e[0].currentAccess.cityId,commonOD:e[0].currentAccess.commonOD})})):mc.getPOSDrillDownData(n.state.toggle,e.data.Month,o,r,l,i,c,s).then((function(e){t.setState({loading2:!1}),e&&t.setState({drillDownTotalData:e[0].totalData,regionData:e[0].posregiontableDatas,regioncolumn:e[0].columnName,tabName:e[0].tabName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,cityId:e[0].currentAccess.cityId,commonOD:e[0].currentAccess.commonOD})})))},n.showLoader=function(){w()("#loaderImage").addClass("loader-visible")},n.hideLoader=function(){w()("#loaderImage").removeClass("loader-visible"),w()(".x_panel").addClass("opacity-fade"),w()(".top-buttons").addClass("opacity-fade")},n.userDetails=JSON.parse(b.getCookie("userDetails")),n.state={monthData:[],monthTotalData:[],monthcolumns:[],modalCompartmentColumn:[],modalCompartmentData:[],modalData:[],regioncolumn:[],regionData:[],modelRegionDatas:[],modelregioncolumn:[],tableDatas:!0,gettingMonth:window.monthNumToName((new Date).getMonth()+1),gettingRegion:"Null",monthTableTitle:"NETWORK",tabLevel:"Null",cabinOption:[],getCabinValue:"Null",regionId:"Null",countryId:"Null",cityId:"Null",commonOD:"Null",type:"Null",baseAccess:"",regions:[],regionSelected:"Null",regionSelectedID:"Null",countries:[],countrySelected:"Null",countrySelectedID:"Null",cities:[],citySelected:"Null",selectedData:"Null",loading:!1,loading2:!1,selectedRowClassRule:{"ag-row-disableChkbox":"".concat(1===n.userDetails.id?"false":"true")}},n.sendEvent("1","viewed Pos Page","pos","Pos Page"),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.state;e.gettingMonth,e.regionId,e.countryId,e.cityId,e.commonOD,e.getCabinValue,e.type}},{key:"render",value:function(){var e=this,t=this.state;t.regions,t.countries,t.cities,t.cabinOption;return o.a.createElement("div",{className:"rps"},o.a.createElement(ta,this.props),o.a.createElement(Dr,null),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top"},o.a.createElement("div",{className:"navdesign",style:{marginTop:"0px"}},o.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-4 toggle1"},o.a.createElement("h2",null,"RPS Settings"),o.a.createElement("section",null,o.a.createElement("nav",null,o.a.createElement("ol",{className:"cd-breadcrumb"},o.a.createElement("li",{onClick:this.homeHandleClick}," ",this.state.baseAccess," "),hc.map((function(t){return o.a.createElement("li",{onClick:e.listHandleClick,"data-value":t.key,id:t.val,title:t.title}," "," > ".concat(t.val)," ")}))))))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},o.a.createElement("div",{className:"x_panel"},o.a.createElement("div",{className:"x_content"},o.a.createElement("div",{className:"col-md-8 col-sm-8 col-xs-8"},o.a.createElement("div",{className:"form-group versions"},o.a.createElement("h4",null,"Versions:"),o.a.createElement("select",{className:"form-control cabinselect",onChange:function(e){},id:"region"},o.a.createElement("option",{selected:!0,value:"Version 1"},"Version 1"),o.a.createElement("option",{value:"Version 2"},"Version 2"),o.a.createElement("option",{value:"Version 3"},"Version 3")))),o.a.createElement("div",{className:"col-md-8 col-sm-8 col-xs-8"},o.a.createElement("div",{className:"form-group versions"},o.a.createElement("h4",null,"Freeze Fine Tunning:"),o.a.createElement("input",{type:"radio",id:"freeze",name:"gender",value:"freeze"}),o.a.createElement("label",{for:"freeze"},"Freeze"),o.a.createElement("input",{type:"radio",id:"unfreeze",name:"gender",value:"unfreeze"}),o.a.createElement("label",{for:"unfreeze"},"Un Freeze"))),o.a.createElement("div",{className:"btn-main",style:{justifyContent:"flex-start"}},o.a.createElement("button",{type:"button",className:"btn search",onClick:function(){return console.log("updated data",e.state.monthData)}}," SET")))))))}}]),a}(n.Component),pc=a(646),fc=(a(1042),new Te,function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e){},n.getPOSSelectedGeographicalDetails=function(e){n.setState({regionId:e.regionSelected,countryId:e.countrySelected,cityId:e.citySelected,startDate:e.startDate,endDate:e.endDate},(function(){return n.getTargetRationalData()}))},n.getTargetRationalData=function(){},n.showLoader=function(){n.setState({loading:!0}),w()("#loaderImage").addClass("loader-visible")},n.hideLoader=function(){n.setState({loading:!1}),w()("#loaderImage").removeClass("loader-visible"),w()(".x_panel").addClass("opacity-fade"),w()(".top-buttons").addClass("opacity-fade")},n.state={revenue:!1,yaxisname:"Passenger",categories:[],dataset:[],regionId:null,cityId:null,countryId:null,startDate:null,endDate:null,loading:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=b.getCookie("Authorization");this.sendEvent(e)}},{key:"renderSection1",value:function(){return o.a.createElement("div",{className:"section1"},o.a.createElement("div",{className:"network"},o.a.createElement("div",{className:"rounded-box"},o.a.createElement("div",{className:"top-rb"},o.a.createElement("p",null,"Network")),o.a.createElement("div",{className:"content"},o.a.createElement("span",null,"Revenue"),o.a.createElement("i",{className:"fa fa-arrow-up"}),o.a.createElement("span",null,"1.1M (594)"))),o.a.createElement("div",{class:"triangle-right"})))}},{key:"renderSection2",value:function(){return o.a.createElement("div",{className:"section2"},o.a.createElement("div",{className:"rev-impact-combination"},o.a.createElement("div",{className:"rounded-box-main"},o.a.createElement("div",{className:"top-rb"},o.a.createElement("p",null,"Revenue Impact due to")),o.a.createElement("div",{className:"inner-rounded-box"},o.a.createElement("div",{className:"top-rb content",style:{flexDirection:"row",paddingBottom:"0px",fontSize:"14px"}},o.a.createElement("span",{className:"key"},"Passenger (2000)"),o.a.createElement("span",{className:"value"},o.a.createElement("i",{className:"fa fa-arrow-up"}),"0.6M (2%)")),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"sub-content"},o.a.createElement("span",{className:"key"},"Traffic Growth"),o.a.createElement("span",{className:"value"},o.a.createElement("i",{className:"fa fa-arrow-up"}),"20%")),o.a.createElement("div",{className:"sub-content"},o.a.createElement("span",{className:"key"},"Capacity Growth"),o.a.createElement("span",{className:"value"},o.a.createElement("i",{className:"fa fa-arrow-up"}),"30%")),o.a.createElement("div",{className:"sub-content"},o.a.createElement("span",{className:"key"},"Market Growth"),o.a.createElement("span",{className:"value"},o.a.createElement("i",{className:"fa fa-arrow-up"}),"20%")),o.a.createElement("div",{className:"sub-content"},o.a.createElement("span",{className:"key"},"Market Share Growth"),o.a.createElement("span",{className:"value"},o.a.createElement("i",{className:"fa fa-arrow-up"}),"20%")))),o.a.createElement("div",{className:"inner-rounded-box"},o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"sub-content"},o.a.createElement("span",{className:"key"},"Exchange Rate"),o.a.createElement("span",{className:"value"},o.a.createElement("i",{className:"fa fa-arrow-up"}),"2M (20%)")))),o.a.createElement("div",{className:"inner-rounded-box"},o.a.createElement("div",{className:"top-rb content",style:{flexDirection:"row",paddingBottom:"0px",fontSize:"14px"}},o.a.createElement("span",{className:"key"},"Average Fare (2000)"),o.a.createElement("span",{className:"value"},o.a.createElement("i",{className:"fa fa-arrow-up"}),"0.3M (1%)")),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"sub-content"},o.a.createElement("span",{className:"key"},"Average Fare Growth"),o.a.createElement("span",{className:"value"},o.a.createElement("i",{className:"fa fa-arrow-up"}),"10%")))))))}},{key:"renderSection3",value:function(){return o.a.createElement("div",{className:"section3"},o.a.createElement("div",{className:"main-box"},o.a.createElement("div",{class:"triangle-right"}),o.a.createElement("div",{className:"rounded-box-main"},o.a.createElement("div",{className:"top-rb"},o.a.createElement("p",null,"Revenue Impact due to Passengers")),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{className:"inner-rounded-box"},o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"sub-content"},o.a.createElement("span",{className:"key"},"Existing OD"),o.a.createElement("span",{className:"value"},o.a.createElement("i",{className:"fa fa-arrow-up"}),"0.4M (1200)")),o.a.createElement("div",{className:"sub-content"},o.a.createElement("span",{className:"key"},"New OD"),o.a.createElement("span",{className:"value"},o.a.createElement("i",{className:"fa fa-arrow-up"}),"0.2M (800)")))),o.a.createElement("div",{className:"piechart-main"},o.a.createElement("div",{className:"piechart"},o.a.createElement(pc.a,{chartType:"PieChart",data:[["Task","Hours"],["New OD",2e5],["Existing OD",4e5]],options:{width:300,height:200,is3D:!0,legend:"none",backgroundColor:"transparent",colors:["#9a1b99","#ed9720","#dc392a","#46961a","#3566cc"]},rootProps:{"data-testid":"2"}})))))),o.a.createElement("div",{className:"main-box",style:{marginBottom:"15px"}},o.a.createElement("div",{class:"triangle-right"}),o.a.createElement("div",{className:"rounded-box-main"},o.a.createElement("div",{className:"top-rb"},o.a.createElement("p",null,"Revenue Impact due to Average Fare")),o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement("div",{className:"inner-rounded-box",style:{width:"45%",marginRight:"0px",marginBottom:"0px"}},o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"sub-content"},o.a.createElement("span",{className:"key"},"Average Fare"),o.a.createElement("span",{className:"value"},o.a.createElement("i",{className:"fa fa-arrow-up"}),"0.2M (1200)")),o.a.createElement("div",{className:"sub-content"},o.a.createElement("span",{className:"key"},"Traffic Mix"),o.a.createElement("span",{className:"value"},o.a.createElement("i",{className:"fa fa-arrow-up"}),"0.1M (800)")),o.a.createElement("span",null,"(POS,Compartment & OD)"))),o.a.createElement("div",{className:"inner-rounded-box",style:{marginBottom:"0px"}},o.a.createElement("div",{className:"top-rb"},o.a.createElement("p",null,"Average Fare Movement")),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"sub-content"},o.a.createElement("span",{className:"key",style:{fontSize:"14px"}},"Components"),o.a.createElement("span",{className:"value",style:{fontSize:"14px"}},o.a.createElement("p",null,"Var"),"Var%")),o.a.createElement("div",{className:"sub-content"},o.a.createElement("span",{className:"key remove-margin"},"Average Fare Increase"),o.a.createElement("span",{className:"value"},o.a.createElement("p",{className:"remove-margin"},"120"),"30")),o.a.createElement("div",{className:"sub-content"},o.a.createElement("span",{className:"key remove-margin"},"Exchange Rate"),o.a.createElement("span",{className:"value"},o.a.createElement("p",{className:"remove-margin"},"120"),"20")),o.a.createElement("div",{className:"sub-content"},o.a.createElement("span",{className:"key remove-margin"},"Traffic Mbc"),o.a.createElement("span",{className:"value"},o.a.createElement("p",{className:"remove-margin"},"120"),"20")),o.a.createElement("div",{className:"sub-content"},o.a.createElement("span",{className:"key remove-margin"},"Average Fare"),o.a.createElement("span",{className:"value"},o.a.createElement("p",{className:"remove-margin"},"120"),"20"))))))))}},{key:"render",value:function(){var e=this.state;e.revenue,e.yaxisname,e.categories,e.dataset,e.loading;return o.a.createElement("div",null,o.a.createElement(Dr,null),o.a.createElement(ta,Object.assign({dashboard:!1,getPOSSelectedGeographicalDetails:this.getPOSSelectedGeographicalDetails},this.props)),o.a.createElement("div",{className:"targetRational"},o.a.createElement("div",{className:"add"},o.a.createElement("h2",null,"Target Rational")),o.a.createElement("div",{className:"targetRational-form"},this.renderSection1(),this.renderSection2(),this.renderSection3())))}}]),a}(n.Component)),vc=(a(1043),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).redirect=function(){n.setState({loading:!0}),window.location.href="".concat(_,"/initiatelogin")},n.state={loading:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"invalidLogin"},o.a.createElement("h1",null,"Oops..!! Invalid Login"),o.a.createElement(Re.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:"invalid-btn",onClick:this.redirect},this.state.loading?o.a.createElement("img",{src:Be.ellipsis_loader,alt:""}):"Click here to try again"))}}]),a}(n.Component)),Cc=(a(1044),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"page-not-found"},o.a.createElement("h1",null,"404 Page Not Found"))}}]),a}(n.Component)),wc=(a(1045),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"maintenance"},o.a.createElement("img",{src:Be.under_maintenance,alt:""}))}}]),a}(n.Component)),_c=(a(1046),a(613),new Te),Dc=(new Date).getFullYear(),bc=[],Sc=[],yc=[],Nc=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).sendEvent=function(e,t,a,n){var o={event_id:"".concat(e),description:"User ".concat(t),where_path:"/".concat(a),page_name:"".concat(n)};R.sendEvent(o)},n.getFiltersValue=function(){yc=[];var e=window.localStorage.getItem("RegionSelected"),t=window.localStorage.getItem("CountrySelected"),a=window.localStorage.getItem("CitySelected"),o=window.localStorage.getItem("ODSelected"),r=JSON.parse(window.localStorage.getItem("rangeValue"));a=null===a||"Null"===a||""===a?"*":JSON.parse(a),n.setState({regionId:null===e||"Null"===e||""===e?"*":JSON.parse(e),countryId:null===t||"Null"===t||""===t?"*":JSON.parse(t),cityId:a,route:null===o||"Null"===o||""===o||"*"===o?"*":JSON.parse(o),gettingMonth:window.monthNumToName(r.from.month),gettingYear:r.from.year,getCabinValue:"Null",cabinSelectedDropDown:"Null"},(function(){return n.getInitialData()}))},n.getInitialData=function(){var e=Object(je.a)(n),t=n.state,a=t.gettingMonth,o=t.gettingYear,r=t.regionId,l=t.countryId,i=t.cityId,c=t.route,s=t.getCabinValue;e.setState({loading:!0,loading2:!0,firstLoadList:!0,monthData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]}),e.getInitialListData(r,l,i,c),_c.getAlertMonthTables("Network",r,l,i,c,s).then((function(t){e.setState({loading:!1,firstLoadList:!1});var n=ie(e.state.count);if(t){bc=t[0].rowData;var s=t[0].totalData,u=t[0].columnName,d=t[0].rowData;a=t[0].rowData[0].MonthName;var m={from:{year:o,month:window.monthNameToNum(a)},to:{year:o,month:window.monthNameToNum(a)}};window.localStorage.setItem("rangeValue",JSON.stringify(m)),e.setState({monthData:e.getHighlightedMonth(d,a,o),monthcolumns:u,monthTotalData:s,gettingMonth:a},(function(){return e.getMonthAlertDrillDownData(r,l,i,c,"",n)}))}e.getDrillDownData(r,l,i,c,"Alert")}))},n.getInitialListData=function(e,t,a,o){var r=Object(je.a)(n),l=JSON.parse(b.getCookie("userDetails")).access,i="*",c="*";if("#*"!==l){r.setState({accessLevelDisable:!0});var s=l.split("#");i=s[2],c="*"===s[2]?"*":s[3]}"*"!==e&&(yc.push({val:e,title:"Region",disable:"*"!==i}),r.setState({selectedData:e})),"*"!==t&&(yc.push({val:t,title:"Country",disable:"*"!==c}),r.setState({selectedData:t})),"*"!==a&&(yc.push({val:a,title:"POS"}),r.setState({selectedData:a})),"*"!==a&&"*"!==o&&r.setState({selectedData:o})},n.getMonthDrillDownData=function(e,t,a,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Null",l=Object(je.a)(n),i=n.state,c=i.gettingMonth,s=i.type,u=i.gettingYear,d=i.toggle,m=i.priority;l.setState({loading:!0,loading2:!0,monthData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var h=ie(n.state.count);_c.getAlertMonthTables(d,e,t,a,o,r).then((function(n){if(l.setState({loading:!1}),n){bc=n[0].rowData;var r=n[0].totalData,i=n[0].columnName,s=n[0].rowData;l.setState({monthData:l.getHighlightedMonth(s,c,u),monthcolumns:i,monthTotalData:r},(function(){return l.getMonthAlertDrillDownData(e,t,a,o,"",h)}))}})),_c.getAlertDrillDownData(u,c,"Network",e,t,a,o,r,s,m).then((function(r){l.setState({loading2:!1});var i=ie(n.state.drillDownCount);r&&(Sc=r[0].rowData,l.setState({drillDownTotalData:r[0].totalData,drillDownData:r[0].rowData,drillDownColumn:r[0].columnName,tabName:"Null"===s?r[0].tabName:r[0].firstTabName,regionId:r[0].currentAccess.regionId,countryId:r[0].currentAccess.countryId,cityId:r[0].currentAccess.cityId,route:r[0].currentAccess.routeId},(function(){return l.getActionDrillDownData(e,t,a,o,"",i)})))}))},n.getDrillDownData=function(e,t,a,o,r){var l=Object(je.a)(n),i=n.state,c=i.gettingYear,s=i.gettingMonth,u=i.getCabinValue,d=i.priority;_c.getAlertDrillDownData(c,s,"Network",e,t,a,o,u,r,d).then((function(n){l.setState({loading2:!1});var i=ie(l.state.drillDownCount);n&&(Sc=n[0].rowData,l.setState({drillDownTotalData:n[0].totalData,drillDownData:n[0].rowData,drillDownColumn:n[0].columnName,tabName:"Null"===r?n[0].tabName:n[0].firstTabName,regionId:n[0].currentAccess.regionId,countryId:n[0].currentAccess.countryId,cityId:n[0].currentAccess.cityId,route:n[0].currentAccess.routeId},(function(){return l.getActionDrillDownData(e,t,a,o,"",i)})))}))},n.getActionDataDrillDown=function(e,t,a,o,r,l,i,c){var s=Object(je.a)(n),u=n.state,d=u.gettingYear,m=u.gettingMonth;n.directPOS=!0,_c.getActionDataDrillDown(d,m,"Network",e,t,a,o,r,l,i,c).then((function(e){s.setState({loading2:!1}),e&&(Sc=e[0].rowData,s.setState({drillDownTotalData:e[0].totalData,drillDownData:e[0].rowData,drillDownColumn:e[0].columnName,regionId:e[0].currentAccess.regionId,countryId:e[0].currentAccess.countryId,cityId:e[0].currentAccess.cityId,route:e[0].currentAccess.routeId,tabName:e[0].tabName}))}));var h=ie(n.state.count);_c.getAlertMonthTables("Network",e,t,a,o,r,l).then((function(n){s.setState({loading:!1}),n&&(bc=n[0].rowData,s.getMonthAlertDrillDownData(e,t,a,o,"",h,l))}))},n.getCollapsedMonth=function(e,t,a){var o=window.monthNameToNum(t),r="\u25ba ".concat(window.shortMonthNumToName(o)," ").concat(a),l="".concat(window.shortMonthNumToName(o)," ").concat(a);return se(e).filter((function(e,t){return e.Month.includes("\u25ba")?r===e.Month&&(e.highlightMonth=!0,n.setState({ensureIndexVisible:t})):l===e.Month&&(e.highlightMonth=!0,n.setState({ensureIndexVisible:t})),e}))},n.getExpandedMonth=function(e,t,a){var o=null,r=window.monthNameToNum(t),l="\u25ba ".concat(window.shortMonthNumToName(r)," ").concat(a),i=se(bc).filter((function(e,t){return l===e.Month&&(o=t,e.Month="\u25bc ".concat(e.Month.substring(2,e.Month.length)),e.highlightMonth=!0,n.setState({ensureIndexVisible:t})),e}));return i.splice.apply(i,[o+1,0].concat(Object(I.a)(e))),i},n.getCollapsedAction=function(e,t){var a="\u25ba ".concat(t),o=t;return ue(e).filter((function(e,t){return e.firstColumnName.includes("\u25ba")?a===e.firstColumnName&&(e.highlightMonth=!0,n.setState({ensureIndexVisibleDD:t})):o===e.firstColumnName&&(e.highlightMonth=!0,n.setState({ensureIndexVisibleDD:t})),e}))},n.getExpandedAction=function(e,t){var a=null,o="\u25ba ".concat(t),r=ue(Sc).filter((function(e,t){return o===e.firstColumnName&&(a=t,e.firstColumnName="\u25bc ".concat(e.firstColumnName.substring(2,e.firstColumnName.length)),e.highlightMonth=!0,n.setState({ensureIndexVisibleDD:t})),e}));return r.splice.apply(r,[a+1,0].concat(Object(I.a)(e))),r},n.monthWiseCellClick=function(e){var t=Object(je.a)(n);t.sendEvent("2","clicked on Months row","alert","Alert Page");var a=n.state,o=a.gettingMonth,r=a.regionId,l=a.countryId,i=a.cityId,c=a.route,s=a.getCabinValue,u=a.type,d=a.monthcolumns,m=e.data.Month,h=e.data.MonthName,g=e.colDef.field,p=n.state.monthData.map((function(e){return e.highlightMe=!1,e}));if(e.api.updateRowData({update:p}),!e.data.isAlert){t.setState({gettingMonth:e.data.MonthName,gettingYear:e.data.Year});var f={from:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)},to:{year:e.data.Year,month:window.monthNameToNum(e.data.MonthName)}};window.localStorage.setItem("rangeValue",JSON.stringify(f)),n.gridApiMonth.setColumnDefs(d)}if("AC_AL"!==g&&"PN_AL"!==g&&"RE_AL"!==g&&"RJ_AL"!==g&&"TL_AL"!==g||m.includes("Total"))if("CY_B"!==g||m.includes("Total")||e.data.isAlert)if("AL_F"!==g||m.includes("Total")||e.data.isAlert)if("CY_R"!==g&&"CY_P"!==g&&"CY_A"!==g&&"AL_MS"!==g&&"AV_S"!==g||m.includes("Total")||e.data.isAlert){if("Month"===g&&!m.includes("Total"))if(m.includes("\u25bc")||m.includes("\u25ba")){if(o===h){var v=n.state.count;n.setState({count:v+1},(function(){n.getMonthAlertDrillDownData(r,l,i,c,"monthClick",ie(n.state.count))}))}else n.setState({count:0}),n.getMonthAlertDrillDownData(r,l,i,c,"monthClick",!1);t.setState({loading2:!0,drillDownData:[],drillDownTotalData:[],priority:"Null"}),t.getDrillDownData(r,l,i,c,u)}else if(e.data.isAlert){e.event.stopPropagation();var C=e.data.Month;t.setState({priority:C},(function(){n.getDrillDownData(r,l,i,c,u)}))}}else{e.event.stopPropagation(),t.showLoader();var w="CY_R"===g?"Revenue":"CY_P"===g?"Passenger":"CY_A"===g?"AvgFare":"AL_MS"===g?"MarketShare":"Avail";_c.getAlertTrendData(e.data.Year,e.data.MonthName,r,l,i,c,s,w).then((function(e){if(t.hideLoader(),e){var a=e[0].columnName,n=e[0].rowData;t.setState({tableModalVisible:!0,alertTrendData:n,alertTrendColumn:a,alertTrendType:e[0].name,alertTrendTotalData:[],interline:!0})}})).catch((function(e){t.hideLoader()}))}else t.setState({chartVisible:!0,chartHeader:"Price",selectedDataChart:null});else e.event.stopPropagation(),t.showLoader(),_c.getBookingTable(e.data.Year,e.data.MonthName,r,l,i,c,s).then((function(e){if(t.hideLoader(),e){var a=e[0].columnName,n=e[0].cabinData,o=e[0].totalData;t.setState({tableModalVisible:!0,alertTrendData:n,alertTrendColumn:a,alertTrendType:null,alertTrendTotalData:o,interline:!1})}}));else{e.event.stopPropagation();var _=Object(je.a)(n),D=n.state,b=D.regionId,S=D.countryId,y=D.cityId,N=D.route,T=D.monthcolumns;window.$('.nav-tabs li a[href="#Section1"]').tab("show"),_.setState({drillDownData:[],drillDownTotalData:[],loading2:!0});var A="AC_AL"===g?"Alert_Action":"PN_AL"===g?"Alert_Pending":"TL_AL"===g?"Total":"RE_AL"===g?"Reccuring":"Rejected";_.setState({alertType:A}),e.data.isAlert?(_.setState({priority:e.data.Month}),_.getActionDataDrillDown(b,S,y,N,s,A,void 0,e.data.Month)):_.getActionDataDrillDown(b,S,y,N,s,A),n.gridApiMonth.setColumnDefs(T)}},n.regionCellClick=function(e){var t=Object(je.a)(n);t.sendEvent("2","clicked on Region drill down","alert","Alert Page");var a,o=n.state,r=o.regionId,l=o.countryId,i=o.cityId,c=o.route,s=o.alertType,u=o.priority,d=o.getCabinValue,m=o.gettingAction,h=e.colDef.field,g="'".concat(e.data.firstColumnName,"'"),p=e.data.firstColumnName,f=e.colDef.headerName,v=e.data.actionName,C=e.colDef.underline;if(yc.forEach((function(e){return a=e.title===f})),console.log("Alert::",e.data.isAlert,n.directPOS),(p.includes("\u25bc")||p.includes("\u25ba"))&&t.setState({gettingAction:e.data.actionName}),"firstColumnName"===h){if(!a){if("Action"===f){if(p.includes("\u25bc")||p.includes("\u25ba"))if(m===v){var w=n.state.drillDownCount;n.setState({drillDownCount:w+1},(function(){n.getActionDrillDownData(r,l,i,c,"monthClick",ie(n.state.drillDownCount))}))}else n.setState({drillDownCount:0}),n.getActionDrillDownData(r,l,i,c,"monthClick",!1);else{var _=Object(je.a)(n),D=n.state,b=D.regionId,S=D.countryId,y=D.cityId,N=D.route,T=D.gettingAction;window.$('.nav-tabs li a[href="#Section1"]').tab("show"),_.setState({tabName:"POS"}),_.setState({drillDownData:[],drillDownTotalData:[],loading2:!0,priority:e.data.firstColumnName}),_.getActionDataDrillDown(b,S,y,N,d,void 0,T,e.data.firstColumnName),n.directPOS=!0;var A=n.state.drillDownData.filter((function(e){return e.highlightMonth=!1,e}));e.api.updateRowData({update:A})}return}if(!C)return;if("Cabin"===f)return window.localStorage.setItem("SelectedCabin",JSON.stringify([p])),void n.props.history.push("/alertDetails");if(n.directPOS)return n.storeValuesToLS(r,l,i,c,d,p),"*"===i?(n.getActionDataDrillDown(r,l,g,c,d,s,m,u),n.setState({tabName:"OD"})):"*"===c&&(n.getActionDataDrillDown(r,l,i,g,d,s,m,u),n.setState({tabName:"Cabin"})),t.setState({selectedData:g}),void yc.push({val:p,title:f});n.storeValuesToLS(r,l,i,c,d,p),"Cabin"!==f&&(t.setState({selectedData:g}),yc.push({val:p,title:f})),"*"===r?t.getMonthDrillDownData(g,l,i,c):"*"===l?t.getMonthDrillDownData(r,g,i,c):"*"===i?t.getMonthDrillDownData(r,l,g,c):"*"===c?t.getMonthDrillDownData(r,l,i,g):"Null"===d&&t.getMonthDrillDownData(r,l,i,c,g)}console.log("Column",h)}else if("AL_F"===h)return console.log("Data",g,p),void t.setState({chartVisible:!0,chartHeader:"Price",selectedDataChart:g})},n.tabClick=function(e){var t=Object(je.a)(n);t.sendEvent("2","clicked on ".concat(e," tab"),"alert","Alert Page");var a=n.state,o=a.regionId,r=a.countryId,l=a.cityId,i=a.route,c=a.monthcolumns;t.setState({type:e,drillDownData:[],drillDownTotalData:[],loading2:!0}),t.getDrillDownData(o,r,l,i,e),n.gridApiMonth.setColumnDefs(c)},n.homeHandleClick=function(e){var t=Object(je.a)(n);n.directPOS=!1;var a=JSON.parse(b.getCookie("userDetails")).access;if(window.$('.nav-tabs li a[href="#Section6"]').tab("show"),"#*"===a){t.sendEvent("2","clicked on Network","alert","Alert Page"),t.setState({loading:!0,loading2:!0,firstHome:!1,monthData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[],toggle:"bc"}),window.localStorage.setItem("RegionSelected","Null"),window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null"),t.getMonthDrillDownData("*","*","*","*"),yc=[];var o=window.location.href.split("?")[0];window.history.pushState("object",document.title,o)}},n.listHandleClick=function(e,t,a){var o=Object(je.a)(n);o.sendEvent("2","clicked on Drill down list","alert","Alert Page");var r=n.state,l=r.regionId,i=r.countryId,c=r.cityId,s=e;"'"!==s.charAt(0)&&"'"!==s.charAt(s.length-1)&&(s="'".concat(e,"'")),e.includes(",")&&(s="'".concat(e.split(",").join("','"),"'")),o.setState({selectedData:s,loading:!0,loading2:!0,monthData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var u=decodeURIComponent(t);if("List"===a){var d=yc.findIndex((function(e){return e.title===t})),m=yc.slice(0,d+1);yc=m,n.changeURLOnListClick(l,i,c,e,u)}else"browserBack"===a&&n.onBackPressClearLS(u);"Region"===u?o.getMonthDrillDownData(s,"*","*","*"):"Country"===u?o.getMonthDrillDownData(l,s,"*","*"):"POS"===u?o.getMonthDrillDownData(l,i,s,"*"):"O&D"===u&&o.getMonthDrillDownData(l,i,c,s)},n.cabinSelectChange=function(e){e.preventDefault();var t=e.target.value;n.setState({getCabinValue:t,cabinSelectedDropDown:t},(function(){window.localStorage.setItem("SelectedCabin",JSON.stringify(t))}))},n.toggle=function(e){var t=e.target.value,a=n.state,o=a.regionId,r=a.countryId,l=a.cityId,i=a.route;n.sendEvent("2","clicked on Currency toggle","alert","Alert Page"),n.setState({toggle:t},(function(){return n.getMonthDrillDownData(o,r,l,i)}))},n.redirection=function(e){n.sendEvent("2","clicked on POS/Route drop down","alert","Alert Page");var t=e.target.value,a=window.localStorage.getItem("RouteGroupSelected");a=null!==a?JSON.parse(a).join(","):"Network",n.url="/route?RouteGroup=".concat(a);var o=window.localStorage.getItem("RouteRegionSelected"),r=window.localStorage.getItem("RouteCountrySelected"),l=window.localStorage.getItem("RouteSelected"),i=window.localStorage.getItem("LegSelected"),c=window.localStorage.getItem("FlightSelected");null!==o&&"Null"!==o&&(o=JSON.parse(o),n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o))),null!==r&&"Null"!==r&&(r=JSON.parse(r),n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r))),null!==l&&"Null"!==l&&(l=JSON.parse(l),n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r),"&Route=").concat(H(l))),null!==i&&"Null"!==i&&""!==i&&(n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r),"&Route=").concat(H(l),"&Leg=").concat(H(i))),null!==c&&"Null"!==c&&""!==c&&(n.url="/route?RouteGroup=".concat(a,"&Region=").concat(H(o),"&Country=").concat(H(r),"&Route=").concat(H(l),"&Leg=").concat(H(i),"&Flight=").concat(H(c))),"POS"===t?(n.props.history.push("/pos"),yc=[]):(n.props.history.push(n.url),yc=[])},n.alerts=function(e){var t=e.value,a=e.colDef.headerName,o=document.createElement("span"),r=e.data.isAlert;if("0"!==(r=void 0!==r?r.toString():null)&&null!==r){var l=document.createElement("i");l.className="fa fa-bell",l.onclick=function(e){e.stopPropagation(),n.getAlertCardsData(a,t)},o.appendChild(l)}return o.appendChild(document.createTextNode(e.value)),o},n.serialize=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")},n.showLoader=function(){w()("#loaderImage").addClass("loader-visible")},n.hideLoader=function(){w()("#loaderImage").removeClass("loader-visible"),w()(".x_panel").addClass("opacity-fade"),w()(".top-buttons").addClass("opacity-fade")},n.renderTabs=function(){var e=n.state.tabName;return console.log("Tab",e),o.a.createElement("ul",{className:"nav nav-tabs",role:"tablist"},o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Null")}},o.a.createElement("a",{href:"#Section1","aria-controls":"home",role:"tab","data-toggle":"tab"},e)),"Country"===e||"POS"===e||"OD"===e||"Cabin"===e?"":o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Country")}},o.a.createElement("a",{href:"#Section3","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Country")),"POS"===e||"OD"===e||"Cabin"===e?"":o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("POS")}},o.a.createElement("a",{href:"#Section4","aria-controls":"messages",role:"tab","data-toggle":"tab"},"POS")),"OD"===e||"Cabin"===e?"":o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("OD")}},o.a.createElement("a",{href:"#Section5","aria-controls":"messages",role:"tab","data-toggle":"tab"},"OD")),"Cabin"===e?"":o.a.createElement("li",{role:"presentation",onClick:function(){return n.tabClick("Cabin")}},o.a.createElement("a",{href:"#Section6","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Cabin")),o.a.createElement("li",{role:"presentation",className:"active",onClick:function(){return n.tabClick("Alert")}},o.a.createElement("a",{href:"#Section6","aria-controls":"messages",role:"tab","data-toggle":"tab"},"Alert")))},n.renderChart=function(){return o.a.createElement(_r,{chartVisible:n.state.chartVisible,displayName:n.state.chartHeader,gettingYear:n.state.gettingYear,gettingMonth:n.state.gettingMonth,closeChartModal:function(){return n.setState({chartVisible:!1})},alert:!0,selectedData:n.state.selectedDataChart,isDirectPOS:n.directPOS})},n.gridApiMonthly=function(e){n.gridApiMonth=e},n.mgridApiDrillDown=function(e){n.gridApiDrillDown=e},n.getRowStyle=function(e){return"High"===e.data.Month?{background:"#ff4141"}:"Moderate"===e.data.Month?{background:"#fff500",color:"black"}:"Low"===e.data.Month?{background:"#00b03c"}:void 0},n.pathName=window.location.pathname,n.selectedRegion=null,n.selectedCountry=null,n.selectedCity=null,n.gridApiMonth=null,n.gridApiDrillDown=null,n.directPOS=!1,n.state={monthcolumns:[],monthData:[],monthTotalData:[],drillDownColumn:[],drillDownData:[],drillDownTotalData:[],alertTrendColumn:[],alertTrendData:[],alertTrendTotalData:[],alertTrendType:null,trendType:null,gettingMonth:null,gettingYear:null,cabinOption:[],alertData:[],getCabinValue:"Null",cabinSelectedDropDown:"Null",cabinDisable:!0,toggle:"bc",alertVisible:!1,tableModalVisible:!1,tabName:"Region",regionId:"*",countryId:"*",cityId:"*",route:"*",type:"Alert",priority:"Null",selectedData:"Null",loading:!1,loading2:!1,loading3:!1,firstLoadList:!1,accessLevelDisable:!1,posMonthRowClassRule:{"highlight-row":"data.highlightMe"},firstHome:!0,ensureIndexVisible:null,ensureIndexVisibleDD:null,interline:!0,count:0,drillDownCount:0,gettingAction:null,alertType:null,chartVisible:!1,chartHeader:"",selectedDataChart:null},n.sendEvent("1","viewed Alert Page","alert","Alert Page"),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;e.getFiltersValue(),_c.getClassNameDetails().then((function(t){if(t){var a=t[0].classDatas;e.setState({cabinOption:a,cabinDisable:!1})}}))}},{key:"componentDidUpdate",value:function(){var e=this;window.onpopstate=function(t){var a=e.props.browserToProps.queryParams,n=Object.values(a),o=Object.keys(a),r=o.length-1;"undefined"!==n[0]?(e.pushURLToBcData(a,o,n,r),e.setState({firstHome:!0})):e.state.firstHome&&e.homeHandleClick()}}},{key:"pushURLToBcData",value:function(e,t,a,n){if(e.hasOwnProperty("Region")&&!yc.some((function(e){return"Region"===e.title}))){var o,r,l=e.Region,i=e.Region;l.includes(",")?l="'".concat(l.split(",").join("','"),"'"):"'"!==l.charAt(0)&&"'"!==l.charAt(l.length-1)&&(l="'".concat(l,"'")),"'"===i.charAt(0)&&"'"===i.charAt(i.length-1)?r=i.substring(1,i.length-1):i.includes(",")?(o=i.split(","),r=i):r=i,yc.push({val:r,title:"Region"}),this.setState({regionId:l});var c=i.includes(",")?o:[].concat([r]);window.localStorage.setItem("RegionSelected",JSON.stringify(c))}if(e.hasOwnProperty("Country")&&!yc.some((function(e){return"Country"===e.title}))){var s,u,d=e.Country,m=e.Country;d.includes(",")?d="'".concat(d.split(",").join("','"),"'"):"'"!==d.charAt(0)&&"'"!==d.charAt(d.length-1)&&(d="'".concat(d,"'")),"'"===m.charAt(0)&&"'"===m.charAt(m.length-1)?u=m.substring(1,m.length-1):m.includes(",")?(s=m.split(","),u=m):u=m,yc.push({val:u,title:"Country"}),this.setState({countryId:d});var h=m.includes(",")?s:[].concat([u]);window.localStorage.setItem("CountrySelected",JSON.stringify(h))}if(e.hasOwnProperty("POS")&&!yc.some((function(e){return"POS"===e.title}))){var g,p,f=e.POS,v=e.POS;f.includes(",")?f="'".concat(f.split(",").join("','"),"'"):"'"!==f.charAt(0)&&"'"!==f.charAt(f.length-1)&&(f="'".concat(f,"'")),"'"===v.charAt(0)&&"'"===v.charAt(v.length-1)?p=v.substring(1,v.length-1):v.includes(",")?(g=v.split(","),p=v):p=v,yc.push({val:p,title:"POS"}),this.setState({cityId:f});var C=v.includes(",")?g:[].concat([p]);window.localStorage.setItem("CitySelected",JSON.stringify(C))}if(e.hasOwnProperty("O%26D")&&!yc.some((function(e){return"O&D"===e.title}))&&(yc.push({val:e["O%26D"],title:"O&D"}),console.log(e),this.setState({route:e["O%26D"]}),window.localStorage.setItem("ODSelected",e["O%26D"])),yc.length>0){var w=yc.slice(0,n+1);yc=w}this.listHandleClick(a[n],t[n],"browserBack")}},{key:"getMonthAlertDrillDownData",value:function(e,t,a,n,o,r,l){var i=this,c=this.state,s=c.routeGroup,u=c.gettingMonth,d=c.gettingYear,m=c.getCabinValue;r?this.setState({monthData:this.getCollapsedMonth(bc,u,d)}):("monthClick"===o&&this.showLoader(),_c.getActionDrillDown(d,u,s,e,t,a,n,m,"Null","Monthly",l).then((function(e){if(i.setState({loading:!1}),i.hideLoader(),e){var t=e[0].rowData;i.setState({monthData:i.getExpandedMonth(t,u,d)})}})))}},{key:"getActionDrillDownData",value:function(e,t,a,n,o,r){var l=this;if("Alert"===this.state.type){var i=this.state,c=i.routeGroup,s=i.gettingMonth,u=i.gettingYear,d=i.getCabinValue,m=i.gettingAction;this.setState({drillDownData:[]}),r?this.setState({drillDownData:this.getCollapsedAction(Sc,m)}):("monthClick"===o&&this.showLoader(),_c.getActionDrillDown(u,s,c,e,t,a,n,d,m,"DrillDown").then((function(e){if(l.setState({loading:!1}),l.hideLoader(),e){var t=e[0].rowData;l.setState({drillDownData:r?l.getCollapsedAction(Sc,m):l.getExpandedAction(t,m)}),l.gridApiDrillDown.ensureIndexVisible(l.state.ensureIndexVisibleDD,"top")}})).catch((function(e){l.setState({loading:!1}),l.hideLoader(),console.log(e)})))}}},{key:"getHighlightedMonth",value:function(e,t,a){var n=this,o=window.monthNameToNum(t),r=0;return e.forEach((function(e,t){var l=e.Month,i="".concat(window.shortMonthNumToName(o)," ").concat(a);if(a!==Dc-1&&e.Year===Dc-1&&(r+=1),i===l&&(e.highlightMe=!0,n.setState({ensureIndexVisible:t-r})),a===Dc){if(e.Month==="Total ".concat(Dc-1)&&(e.Month="\u25ba Total ".concat(Dc-1)),e.Month==="Total ".concat(Dc+1)&&(e.Month="\u25ba Total ".concat(Dc+1)),e.Year===Dc||e.Month==="\u25ba Total ".concat(Dc-1)||e.Month==="\u25ba Total ".concat(Dc+1))return e}else if(a===Dc+1){if(e.Month==="Total ".concat(Dc-1)&&(e.Month="\u25ba Total ".concat(Dc-1)),e.Month==="Total ".concat(Dc+1)&&(e.Month="\u25bc Total ".concat(Dc+1)),e.Year>=Dc||e.Month==="\u25ba Total ".concat(Dc-1)||e.Month==="\u25bc Total ".concat(Dc+1))return e;n.setState({showNextYearRows:!0,showLastYearRows:!1})}else if(a===Dc-1){if(e.Month==="Total ".concat(Dc-1)&&(e.Month="\u25bc Total ".concat(Dc-1)),e.Month==="Total ".concat(Dc+1)&&(e.Month="\u25ba Total ".concat(Dc+1)),e.Year<=Dc||e.Month==="\u25bc Total ".concat(Dc-1)||e.Month==="\u25ba Total ".concat(Dc+1))return e;n.setState({showLastYearRows:!0,showNextYearRows:!1})}}))}},{key:"getHighlightedRow",value:function(e,t){return e.map((function(e,t){var a=e.Month;return a==="\u25bc Total ".concat(Dc-1)||a==="\u25ba Total ".concat(Dc-1)?e.highlightMe=!0:a!=="\u25bc Total ".concat(Dc+1)&&a!=="\u25ba Total ".concat(Dc+1)||(e.highlightMe=!0),e}))}},{key:"rectifyURLValues",value:function(e,t,a){Array.isArray(e)?this.selectedRegion=e.join(","):e.includes("','")?(this.selectedRegion=e.split("','").join(","),this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)):(this.selectedRegion=e,this.selectedRegion=this.selectedRegion.substring(1,this.selectedRegion.length-1)),Array.isArray(t)?this.selectedCountry=t.join(","):e.includes("','")?(this.selectedCountry=t.split("','").join(","),this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)):(this.selectedCountry=t,this.selectedCountry=this.selectedCountry.substring(1,this.selectedCountry.length-1)),Array.isArray(a)?this.selectedCity=a.join(","):e.includes("','")?(this.selectedCity=a.split("','").join(","),this.selectedCity=this.selectedCity.substring(1,this.selectedCity.length-1)):(this.selectedCity=a,this.selectedCity=this.selectedCity.substring(1,this.selectedCity.length-1))}},{key:"storeValuesToLS",value:function(e,t,a,n,o,r){var l=[],i=[],c=[],s=[],u=[],d=this.directPOS;this.rectifyURLValues(e,t,a),"*"!==e||d?"*"!==t||d?"*"===a?(d?this.props.history.push("".concat(this.pathName,"?POS=").concat(r)):this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&POS=").concat(r)),c.push(r),window.localStorage.setItem("CitySelected",JSON.stringify(c))):"*"===n?(d?this.props.history.push("".concat(this.pathName,"?POS=").concat(this.selectedCity,"&").concat(encodeURIComponent("O&D"),"=").concat(r)):this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&POS=").concat(this.selectedCity,"&").concat(encodeURIComponent("O&D"),"=").concat(r)),s.push(r),window.localStorage.setItem("ODSelected",JSON.stringify(s))):"Null"===o&&(u.push(r),window.localStorage.setItem("SelectedCabin",JSON.stringify(u))):(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(r)),i.push(r),window.localStorage.setItem("CountrySelected",JSON.stringify(i))):(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(r))),l.push(r),window.localStorage.setItem("RegionSelected",JSON.stringify(l)))}},{key:"changeURLOnListClick",value:function(e,t,a,n,o){this.rectifyURLValues(e,t,a),"Region"===o?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(n))),window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null")):"Country"===o?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(n)),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null")):"POS"===o?(this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&POS=").concat(n)),window.localStorage.setItem("ODSelected","Null")):"O&D"===o&&this.props.history.push("".concat(this.pathName,"?Region=").concat(encodeURIComponent(this.selectedRegion),"&Country=").concat(this.selectedCountry,"&POS=").concat(this.selectedCity,"&").concat(encodeURIComponent("O&D"),"=").concat(n))}},{key:"onBackPressClearLS",value:function(e){"Region"===e?(window.localStorage.setItem("CountrySelected","Null"),window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null")):"Country"===e?(window.localStorage.setItem("CitySelected","Null"),window.localStorage.setItem("ODSelected","Null")):"POS"===e&&window.localStorage.setItem("ODSelected","Null")}},{key:"onCabinClose",value:function(){var e=this;this.sendEvent("2","clicked on Cabin drop down","alert","Alert Page"),this.state.cabinSelectedDropDown.length>0?this.getDataOnCabinChange():(this.setState({getCabinValue:"Null"},(function(){return e.getDataOnCabinChange()})),window.localStorage.setItem("SelectedCabin","Null"))}},{key:"getDataOnCabinChange",value:function(){this.setState({loading:!0,loading2:!0,monthData:[],monthTotalData:[],drillDownData:[],drillDownTotalData:[]});var e=this.state,t=e.regionId,a=e.countryId,n=e.cityId,o=e.route;this.getMonthDrillDownData(t,a,n,o)}},{key:"addCellRender",value:function(e){var t=this;return e.map((function(e){return"firstColumnName"===e.field&&(e.cellRenderer=t.alerts),e.children&&(e.children=t.addCellRender(e.children)),e}))}},{key:"render",value:function(){var e=this,t=this.state.accessLevelDisable;return o.a.createElement("div",{className:"pos-details"},o.a.createElement(Dr,null),o.a.createElement(ta,this.props),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top"},o.a.createElement("div",{className:"navdesign",style:{marginTop:"0px"}},o.a.createElement("div",{className:"col-md-7 col-sm-7 col-xs-7 toggle1"},o.a.createElement("h3",null,"Alert Module"),o.a.createElement("section",null,o.a.createElement("nav",null,o.a.createElement("ol",{className:"cd-breadcrumb"},o.a.createElement("div",{style:{cursor:t?"not-allowed":"pointer"}},o.a.createElement("li",{className:"".concat(t?"breadcrumb-disable":""),onClick:function(){return e.homeHandleClick()}}," ","Network"," ")),this.state.firstLoadList?"":yc.map((function(t){return o.a.createElement("div",{style:{cursor:t.disable?"not-allowed":"pointer"}},o.a.createElement("li",{key:t.title,className:"".concat(t.disable?"breadcrumb-disable":""),onClick:function(a){return e.listHandleClick(a.target.id,t.title,"List")},id:t.val,title:"".concat(t.title," : ").concat(t.val)}," > ".concat(t.val)))}))))))))),o.a.createElement("div",{className:"row alert-row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},o.a.createElement("div",{className:"x_panel",style:{marginTop:"10px",height:"calc(100vh - 130px)"}},o.a.createElement("div",{className:"x_content"},o.a.createElement(Da,{gridApi:this.gridApiMonthly,rowData:this.state.monthData,columnDefs:this.state.monthcolumns,loading:this.state.loading,onCellClicked:function(t){return e.monthWiseCellClick(t)},frameworkComponents:{customHeaderGroupComponent:yr},rowClassRules:this.state.posMonthRowClassRule,pos:!0,ensureIndexVisible:this.state.ensureIndexVisible,getRowStyle:this.getRowStyle}),o.a.createElement(ba,{rowData:this.state.monthTotalData,columnDefs:this.state.monthcolumns,loading:this.state.loading,frameworkComponents:{customHeaderGroupComponent:yr},responsive:!0,reducingPadding:!0}),o.a.createElement("div",{className:"tab",id:"posTableTab",role:"tabpanel",style:{marginTop:"10px"}},this.renderTabs(),o.a.createElement("div",{className:"tab-content tabs"},o.a.createElement("div",{role:"tabpanel",className:"tab-pane fade in active",id:"Section1"},o.a.createElement(Da,{gridApi:this.mgridApiDrillDown,rowData:this.state.drillDownData,columnDefs:this.state.drillDownColumn,onCellClicked:function(t){return e.regionCellClick(t)},loading:this.state.loading2,pos:!0,ensureIndexVisible:this.state.ensureIndexVisibleDD,getRowStyle:this.getRowStyle}),o.a.createElement(ba,{loading:this.state.loading2,rowData:this.state.drillDownTotalData,columnDefs:this.state.drillDownColumn,responsive:!0,reducingPadding:!0})))))))),o.a.createElement("div",null,o.a.createElement(pr,{tableModalVisible:this.state.tableModalVisible,rowData:this.state.alertTrendData,columns:this.state.alertTrendColumn,interline:this.state.interline,header:"".concat(this.state.gettingMonth," ").concat(this.state.gettingYear," ").concat(this.state.alertTrendType?" - ".concat(this.state.alertTrendType):""),loading:this.state.loading3,getRowStyle:function(e){return"High"===e.data.Alert_Type?{background:"#ff4141"}:"Moderate"===e.data.Alert_Type?{background:"#fff500",color:"black"}:"Low"===e.data.Alert_Type?{background:"#00b03c"}:"Total"===e.data.Alert_Type?{background:"#1784c7"}:void 0},totalData:this.state.alertTrendTotalData}),o.a.createElement(mr,{alertVisible:this.state.alertVisible,alertData:this.state.alertData,closeAlertModal:function(){return e.setState({alertVisible:!1})}})),this.renderChart())}}]),a}(n.Component),Tc=Object(Nr.a)(Nc),Ac=a(1144),Rc=a(1145),Vc=a(1135),Yc=a(1139),Ec=a(1132),Lc=new Te,kc=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getFiltersValue=function(){n.bcData=[];var e=n.getItemFromLS("RegionSelected"),t=n.getItemFromLS("CountrySelected"),a=n.getItemFromLS("CitySelected"),o=n.getItemFromLS("ODSelected"),r=n.getItemFromLS("SelectedCabin"),l=JSON.parse(window.localStorage.getItem("rangeValue"));n.setState({region:e,country:t,city:a,route:o,cabinValue:r,gettingMonth:window.monthNumToName(l.from.month),gettingYear:l.from.year},(function(){return n.getAlertDetailsData()})),n.bcData.push({val:e,title:"Region"}),n.bcData.push({val:t,title:"Country"}),n.bcData.push({val:a,title:"City"}),n.bcData.push({val:o,title:"Route"}),n.bcData.push({val:r,title:"Cabin"})},n.getAlertSummary=function(e){Lc.getAlertSummary(e).then((function(e){n.setState({summaryData:e})}))},n.getAlertDetailsData=function(){var e=n.state,t=e.gettingYear,a=e.gettingMonth,o=e.region,r=e.country,l=e.city,i=e.route,c=e.cabinValue;Lc.getAlertDetails(t,a,o,r,l,i,c).then((function(e){if(e){var t=e.columnName,a=e.rowData;n.setState({actionId:e.id,headers:t[0],rowData:a[0],headersMarketShare:t[1],rowDataMarketShare:a[1],headersInfare:t[2],rowDataInfare:a[2],headersAvail:t[3],rowDataAvail:a[3],flag:e.flag},(function(){return n.getAlertSummary(n.state.actionId)}))}}))},n.handleChange=function(e){n.setState({message:e.target.value})},n.showModal=function(){n.setState({messageModalVisible:!0})},n.closeModal=function(){n.setState({messageModalVisible:!1})},n.setAction=function(e){n.setState({action:e})},n.postAlertDetails=function(){var e=n.state,t=e.region,a=e.country,o=e.city,r=e.route,l=e.cabinValue,i=e.action,c=e.actionId,s=e.message;Lc.postAlertDetails(t,a,o,r,l,i,c,s).then((function(){n.setState({message:"",messageModalVisible:!1})}))},n.getLink=function(e){var t=n.state,a=t.region,o=t.country,r=t.city,l=t.route;return"Region"===e?"/alertsNew?Region=".concat(encodeURIComponent(a)):"Country"===e?"/alertsNew?Region=".concat(encodeURIComponent(a),"&Country=").concat(o):"City"===e?"/alertsNew?Region=".concat(encodeURIComponent(a),"&Country=").concat(o,"&POS=").concat(r):"Route"===e?"/alertsNew?Region=".concat(encodeURIComponent(a),"&Country=").concat(o,"&POS=").concat(r,"&").concat(encodeURIComponent("O&D"),"=").concat(l):void 0},n.maybeClearLS=function(){"*"===n.state.region&&(localStorage.removeItem("CitySelected"),localStorage.removeItem("ODSelected"),localStorage.removeItem("SelectedCabin"))},n.bcData=[],n.state={region:null,country:null,city:null,route:null,cabinValue:null,gettingMonth:null,gettingYear:null,rowData:[],headers:[],loading:!1,rowDataMarketShare:[],headersMarketShare:[],loadingMS:!1,rowDataInfare:[],headersInfare:[],loadingInfare:!1,rowDataAvail:[],headersAvail:[],loadingAvail:!1,message:null,messageModalVisible:!1,action:"Take",actionId:null,summaryData:[],flag:null},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.getFiltersValue()}},{key:"render",value:function(){var e=this,t=this.state,a=t.region,n=t.country,r=t.city,l=t.flag;return o.a.createElement("div",{style:{fontSize:"16px",height:"100vh",display:"flex",flexDirection:"column"}},o.a.createElement(ta,this.props),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12 top"},o.a.createElement("div",{className:"navdesign",style:{marginTop:"0px"}},o.a.createElement("div",{className:"col-md-7 col-sm-7 col-xs-7 toggle1"},o.a.createElement("a",{href:"*"===a?"/alertsNew":"/alertsNew?Region=".concat(encodeURIComponent(a),"&Country=").concat(n,"&POS=").concat(r),style:{display:"inline-block",color:"white"},onClick:this.maybeClearLS},o.a.createElement("h3",null,"Alert Module")),o.a.createElement("section",{style:{display:"inline-block"}},o.a.createElement("nav",null,o.a.createElement("ol",{className:"cd-breadcrumb",style:{listStyle:"none"}},o.a.createElement("li",null,"Network"),this.state.firstLoadList?"":this.bcData.map((function(t){return"*"===t.val?"":o.a.createElement("li",{style:{textDecoration:"none",display:"inline-block"},id:t.val,title:"".concat(t.title," : ").concat(t.val),key:t.title},o.a.createElement("a",{style:{textDecoration:"none",color:"white"},href:e.getLink(t.title)}," "," > ".concat(t.val)))}))))))))),o.a.createElement("div",{className:"row container-details"},o.a.createElement("div",{className:"col tables",style:{overflowY:"scroll"}},o.a.createElement(Da,{rowData:this.state.rowData,columnDefs:this.state.headers,loading:this.state.loading2}),o.a.createElement(Da,{rowData:this.state.rowDataMarketShare,columnDefs:this.state.headersMarketShare,autoHeight:"autoHeight",loading:this.state.loadingMS}),o.a.createElement(Da,{rowData:this.state.rowDataInfare,columnDefs:this.state.headersInfare,autoHeight:"autoHeight",loading:this.state.loadingInfare}),o.a.createElement(Da,{autoHeight:"autoHeight",rowData:this.state.rowDataAvail,columnDefs:this.state.headersAvail,loading:this.state.loadingAvail}),"No"===l&&o.a.createElement(Ac.a,{sx:{justifyContent:"flex-start",gap:"10px",padding:"20px"},row:!0,style:{fontSize:"12px"}},o.a.createElement(Rc.a,{control:o.a.createElement(Vc.a,{sx:{color:"gray"},checked:"Take"===this.state.action,onChange:function(t){t.target.checked&&e.setAction("Take")}}),label:"Action Taken"}),o.a.createElement(Rc.a,{control:o.a.createElement(Vc.a,{sx:{color:"gray"},checked:"Reject"===this.state.action,onChange:function(t){t.target.checked&&e.setAction("Reject")}}),label:"Rejected"}),o.a.createElement(Yc.a,{variant:"contained",onClick:function(){return e.showModal()}},"Submit"))),o.a.createElement("div",{style:{borderRight:"1px solid gray",margin:"30px 0"}}),o.a.createElement("div",{className:"col",style:{margin:"12px 20px"}},o.a.createElement("h3",null,"Alert Summary:"),this.renderSummary(this.state.summaryData))),o.a.createElement(Oe.a,{show:this.state.messageModalVisible,onHide:function(){return e.closeModal()},"aria-labelledby":"ModalHeader"},o.a.createElement(Oe.a.Header,{closeButton:!0},o.a.createElement(Oe.a.Title,{id:"ModalHeader"},"Add a message")),o.a.createElement(Oe.a.Body,null,o.a.createElement(Ec.a,{id:"outlined-multiline-flexible",label:"Message",multiline:!0,rows:4,fullWidth:!0,value:this.state.message,onChange:this.handleChange}),o.a.createElement("div",{style:{marginTop:"1rem",display:"flex",gap:"1rem",justifyContent:"flex-end"}},o.a.createElement(Yc.a,{variant:"contained",onClick:this.postAlertDetails},"Ok"),o.a.createElement(Yc.a,{variant:"outlined",onClick:this.closeModal},"Cancel")))))}},{key:"getValueText",value:function(e){return e>0?"above":"below"}},{key:"convertZeroValueToBlank",value:function(e){return 0===window.numberFormat(e)?"0":window.numberFormat(e)}},{key:"renderValue",value:function(e){return o.a.createElement("span",{title:window.numberWithCommas(e)}," ",this.convertZeroValueToBlank(e))}},{key:"renderSummary",value:function(e){var t=this;return e.map((function(e){var a,n;return o.a.createElement("div",{style:{fontSize:"18px",fontWeight:300,margin:"20px 0px"}},o.a.createElement("div",{style:{display:"flex",gap:"5px"}},o.a.createElement("p",null,o.a.createElement("b",null,e.alertDates," ")),o.a.createElement("p",null,": Revenue is ",t.getValueText(e.Rev_TGT)," target by ",t.renderValue(e.Rev_TGT)," ",t.renderArrowIcon(e.Rev_TGT),", Booking is ",t.getValueText(e.Book_TGT)," target by ",t.renderValue(e.Book_TGT)," ",t.renderArrowIcon(e.Book_TGT),",",o.a.createElement("br",null),"\xa0\xa0Passenger is ",t.getValueText(e.Pax_TGT)," target by ",t.renderValue(e.Pax_TGT)," ",t.renderArrowIcon(e.Pax_TGT),", Average Fare is ",t.getValueText(e.Avg_TGT)," target by ",t.renderValue(e.Avg_TGT)," ",t.renderArrowIcon(e.Avg_TGT),o.a.createElement("br",null),o.a.createElement("br",null),": Action for ",e.alert_action)),"Yes"===t.state.flag&&o.a.createElement("div",null,e.commentTime," : Actioned by ",null!==(a=e.userName)&&void 0!==a?a:"User",o.a.createElement("br",null),o.a.createElement("b",null,"Comment :")," ",null!==(n=e.commentText)&&void 0!==n?n:"Empty"))}))}},{key:"getItemFromLS",value:function(e){var t=localStorage.getItem(e);return null===t||"Null"===t||""===t?"*":JSON.parse(t)}},{key:"renderArrowIcon",value:function(e){return e>0?o.a.createElement("i",{className:"fa fa-arrow-up"}):0===e?null:o.a.createElement("i",{className:"fa fa-arrow-down"})}}]),a}(n.Component),Bc=function(e){var t=e.component,a=Object(d.a)(e,["component"]);return o.a.createElement(m.b,Object.assign({},a,{render:function(e){return g.a.isEmpty(b.getCookie("Authorization"))?o.a.createElement(m.a,{to:"/"}):o.a.createElement(o.a.Fragment,null,o.a.createElement(t,e),o.a.createElement("p",{className:"copyright-message ".concat(a.path.toLowerCase().includes("dashboard")?"grow":""," ")},"Copyright \xa9 2022 Revemax | All rights reserved | Contact ",o.a.createElement("a",{href:"http://www.revemax.ai"},"www.revemax.ai")))}}))},Ic=function(){return o.a.createElement("div",null,o.a.createElement(m.b,{exact:!0,path:"/",component:D?wc:Me}),o.a.createElement(m.b,{path:"/proceed",component:xe}),o.a.createElement(Bc,{path:"/posDashboard",component:La}),o.a.createElement(Bc,{path:"/routeDashboard",component:_n}),o.a.createElement(Bc,{path:"/demographyDashboard",component:Wn}),o.a.createElement(Bc,{path:"/decisionMakingDashboard",component:Xn}),o.a.createElement(Bc,{path:"/routeRevenuePlanning",component:wo}),o.a.createElement(Bc,{path:"/routeProfitability",component:jo}),o.a.createElement(Bc,{path:"/posRevenuePlanning",component:dr}),o.a.createElement(Bc,{path:"/systemModuleSearch",component:qi}),o.a.createElement(Bc,{path:"/systemModuleAdd",component:Qi}),o.a.createElement(Bc,{path:"/systemModuleEdit",component:Xi}),o.a.createElement(Bc,{path:"/userProfile",component:rc}),o.a.createElement(Bc,{path:"/createUser",component:ac}),o.a.createElement(Bc,{path:"/searchUser",component:ec}),o.a.createElement(Bc,{path:"/editUser",component:oc}),o.a.createElement(Bc,{path:"/changePassword",component:lc}),o.a.createElement(Bc,{path:"/pos",component:Er}),o.a.createElement(Bc,{path:"/route",component:pl}),o.a.createElement(Bc,{path:"/demographyAgeGroup",component:Zr}),o.a.createElement(Bc,{path:"/geographyInReport",component:ja}),o.a.createElement(Bc,{path:"/demographicReport",component:Wl}),o.a.createElement(Bc,{path:"/posPromotion",component:il}),o.a.createElement(Bc,{path:"/topMarkets",component:Cl}),o.a.createElement(Bc,{path:"/competitorAnalysis",component:Nl}),o.a.createElement(Bc,{path:"/agentAnalysis",component:Vl}),o.a.createElement(Bc,{path:"/channelPerformance",component:Ll}),o.a.createElement(Bc,{path:"/subChannelPerformance",component:Il}),o.a.createElement(Bc,{path:"/subChannelODPerformance",component:Il}),o.a.createElement(Bc,{path:"/segmentation",component:Ml}),o.a.createElement(Bc,{path:"/subSegmentation",component:xl}),o.a.createElement(Bc,{path:"/DDSChart",component:Xl}),o.a.createElement(Bc,{path:"/Interline",component:oi}),o.a.createElement(Bc,{path:"/dataLoadIndicator",component:li}),o.a.createElement(Bc,{path:"/rpsSelection",component:hi}),o.a.createElement(Bc,{path:"/rpsPos",component:Ni}),o.a.createElement(Bc,{path:"/rpsRoute",component:Ei}),o.a.createElement(Bc,{path:"/rpsSettings",component:gc}),o.a.createElement(Bc,{path:"/forecastAccuracy",component:Gi}),o.a.createElement(Bc,{path:"/routeProfitabilitySolution",component:zi}),o.a.createElement(Bc,{path:"/routeProfitabilityConsolidate",component:Wi}),o.a.createElement(Bc,{path:"/auditLogs",component:cc}),o.a.createElement(Bc,{path:"/alerts",component:sc}),o.a.createElement(Bc,{path:"/alertsNew",component:Tc}),o.a.createElement(Bc,{path:"/alertDetails",component:kc}),o.a.createElement(Bc,{path:"/alertSetting",component:dc}),o.a.createElement(m.b,{path:"/targetRational",component:fc}),o.a.createElement(m.b,{path:"/invalidLogin",component:vc}),o.a.createElement(m.b,{path:"/404",component:Cc}),o.a.createElement(m.b,{component:Cc}))},Oc=a(111),Pc=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(Oc.a,null,o.a.createElement(Ic,null)))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(Pc,null),document.getElementById("pageRoot")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},182:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},209:function(e,t,a){},255:function(e,t,a){},257:function(e,t,a){},263:function(e,t,a){},307:function(e,t,a){},309:function(e,t,a){},331:function(e,t,a){e.exports=a.p+"static/media/loader.2aef78bd.png"},405:function(e,t,a){},406:function(e,t,a){},600:function(e,t,a){},611:function(e,t,a){},612:function(e,t,a){},613:function(e,t,a){},672:function(e,t,a){e.exports=a(1052)},68:function(e,t,a){},883:function(e,t,a){},901:function(e,t,a){e.exports=a.p+"static/media/Logo-Horizonal-08.6a448f0c.png"},902:function(e,t,a){e.exports=a.p+"static/media/arrow_up_green.c0af3495.png"},903:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOAAAADgCAMAAAAt85rTAAABF1BMVEX+AAD////u7u7v7+/t7e3+/v739/f6+vrz8/P/AAD7AAD6HB3xxMf8///5AAD///7yvcDt7PH/2tr/1djt7ur+dnT7KiX3gHz4bmzvzs/7NzL/MC//5en2ZmT+k5Xv19n/7er/4+f/+v74eHXx7un5GRnr7vPm8O/+ysz7SErp8uv6//ry6+z0//3/ysb8ppz+npn/l5n8nZv/tLf/7+L9YFz/V176T07/RD/+QkTuycj98/j/1tTl8+n62c/z6fLp2eH2u8Dp2dD1e4DxvbT3o6P+Lzv+ubb2tqj+i4fw1sfnwbvh9ev5bHPuqqfm2s/2hIf3TET4h3v+Y23/+e3/p638NyH+v7v/eW70qaD8IjX/1Mb949q2z7W1AAARjElEQVR4nO1di1vcNhK3LcuvRXYNyvJYCBvjtYutTSgpARIK15Qk5e6a5i7tpcnx//8dJ8m7gGRnH6y8680xX762NEKan2ckzUMjabpAUNcdwwDGHTItuYUttTCA/fTZweODD1dX6+vre3uPKG0MaaegjUd3ae+G1m/p8Q398MPh4cHzvklwJnBiy5xYMieOLpOmBOCPR55GyfP4v1yNk1uQVkEebVO0Hfya593+OPif+11shCIniwNIXlAGfU/GMR2J38OnAM2kKQC7x56vuX6ltCqx3IUk/tZAkp7/YjsxDdwYgIwzfzYJiuQdd1PTbIwE9zV/8Om/MuuqyB3IUPq/xc/uftdpEMBjrbRKjMZW8Rn8G/LYnxfd1AjNpgA80TzXm1h0E32C/S4ARmMkqB6gtt8NjeaoaD0AGzQHKUCtBoCNUdHtLQpQUz0HQ5mTRQNUSxTgfBYZowqgSDUBpKuogm0CCkR/ywFU9e8QBSi00CEFaAKBKEBXsYpqp90kJqHAiS1zYgGREwoQSlQhQXlqV0jQLKmocgF6DKARjpGgtM6OV1H6a9RAEsmSm1CAIjEJKqfTbYdKUBjHljmxZE4qADoCAcexZCFbchPLllqg3U4NAJ8g246EcSRGKjixHZk0abkwqaIz4d/9TMJMp1rvyC30zY7a+UfJPd1FuTSMI3DicOUSm0DTkEgCaHKAsh5ITcp6sFsPwACK7DsyJ6XZUwFQXA6pgGy2PN1drCxxUTWAw1ZboclmHSpKAQbiMI7MiSXxShd4IJGsosZ4FTUqVLTNTDWl+LyTXR0FaIQEAd+ip1TRWQCqJQYwaBZAxRC3GgdQMTUP4IMElx2gegmiQBxmkQCniqktH8CX/wcAtW9aRV+2qfH4zQNUi08ZQNFhNKq8SrlF2ZtYaSlG9xWAMicV3oRMmqWCzqgElc/BbctRwFopZMG9yjEhC/717oYsVttqwTGF39oGJgZjQhYyJ3XFRVeVS9D1trYdAzcl8FuDBBlA0CyAih3erSfgW5YgB2g2C6B6CZJmAVRMHbaKCsMsEmBLU25tU4BGgwAqdwebBfCsBlPtAeADwP8TgGL6iWd4jXEZXgCkDO9ai5nHaj3C9hMQYjF/OzbDC8ZmeHXudInfrdKbECVYAFRKHgMoiqfam5hWRSFLYd/9tUlS2DUA1NqrVILjLBnqqgm8VgC0ZbLkHKk1toVTD8D7cFKCI4Us6BeZIGQB5SYrPQpP8Umn9mYAAykBKnFiTBKykGbT+BS2WZHC5gAVn3Rqb+pwdNBpshS2mOA1x2Z4zaoM70qvBhXlAEdkeM05Znh5VE2xMVqlojKvc4uL1hE2bB7ABwkuO8AHCS47wAcJTgtQ15sFULkEmwZQLbnNA6h+DjYMoGJqv2waQMUSbL2scJfqASi3mI8EGcBcgQR1mRw5azpBhnetDgmykIXovC4uw7tWhwQnicnMKy5amwQbBVAxNQ/ggwSXHeCDBJcd4IMElx3ggwSXHeBSSFAv1bBNVKRckwSTCVLYIo1LYev6pEXKYpKD5wdVp89WAcAiJ+UUtjGnIuVaUtiTSLCmImUgtagnhb3mUIBj/MEJipTlfJoj1/1CS25SKmNGLD+oPmRho1xkxpF5LXFiy7yW8oP3K1KuIcOrtVZ0vXTqXlDHuoqUKxS9FgmuBHIZtlykXJWjLwEU5MkEZMv56XKRsi42CeoJOlGAI1PYRjmFrS9TCrsAOEKCyx74bR7ABwkuO8AHCS47wAcJLjvABwkuO8AHCS4GoOgwUndC4n3yImXlElRTpDzyzPYr9oPFj0rfVP3S/yqdpd7ssftPVcJz3d4ZY0AcZ8DBkNM8cyReSqe67VFFyiAzUjNMmdscMMqDgmyAAcB3aa033QWx48n3W6sJzsRh7OAuRRG0QkMMn0wXFyWExHGMLVigu41hhBIlay2moEpFqLXOzDjDwjgDXxxG/Lq1fr8fEfyTMOOmA2immODUsRCn20Y2MG6dTj7dz9sehacWYPssuwiFKAwLG95hg05QCztkBoDEzEj4t93dVUpnZ2uUvi/oO5metZiCqlRSz2sfXv783YowTDE654TS2fXq+evdCzADwAv804+/nJ5Q2trqdNqcWlXU8XzFk5B2SEesHKxFuehQent6sn/8SzwDQBOnIT6UFY/hKMfPlE9Bb4LbTeisOJhFRelimoDzR75HO5rgJnvlV+aM65LytbGbzrLIGCS9iC9Pmfqpvi1GCbknl6YzA0C6CRlhmr1pK9Y+ReRpvTcJDmcBaGCchGF3z6edzfrYgkIarAC+trcdzgaQ2jQZINbqvubO/JqEcnK9k7N+ls2yyGAD0K0wy9Fz1ZuAAqLG6jPUj9OZUtgkTS5AaOnRX4pN6dmoSPS4GzayLqTbICYoUoZikTIFawX59lv2XgbbLpqAk79M4re3KzJ79ytSpob7ux5TUd9viKbSXav3a5HhNcdJUFbRokiZu5PFHzNnVu2Vyx7WaYL8+Pbv+evWIIV9h9UJipQr3VlGq8dsHZ39aR4lRDet49WocMLHOrxyyKKiSDk1CQ7fd3yvIZuF62vt9yGuruEthSwEFa5OYacmxilZZ1ncRgCkXKzH6QAgkgAaEkmHEKqKlB0CSALA3/fdZkxB9qrWJiAX7DgEdcTFQwgzZHiTS+WRpWnJpas4Xcnd3mUIMlN1XNRxrjz19/5MRd7A67yKDRAC1QBxEh+5CwbI7vj0tBevUxMkyiVIQPiPzmIBFjLsfIfD0MzUS5Ak5GCx+DxmS/UOCAYhzkLlAEOMd3cWuk/4LBa18zohqZnFRDVAQH0L8N3JAvHxbfjkMvznxQU2k1Q1wIRkYZgdtqk5M/fNgkddeWSIRSlueVWbPiMZuEh//41ZpMrPTo4hvnq77J8bhJBbXhWrKE7DJNs8cf35W2ze4I3Rty/TmyiMaoCmGVOEF9l7tt3P3aAptMb7TJdPcMurUoBhCmKMYwx+U39R4yQAXbqIbmRhHA99XOVzEKcAZFl88fvpArZ7n9nBb18bWWhOCbB0BvhrR5qxFSahEb7KnE8t3583RgrQ6/0cOxdJkg3jLxWHqyuONOsyjStS7kPnymfrzDwjGFyAH17JvNZRpIwCZL984TKraX5S5Lmfo5dzKe0JIIqSd1vML5tfAIOOpm29N5DMay0AEbQS/NgvPuycADIz+wMhc5EgglEeY3KkOiU/klzP/dduks0HYBTYmKTnbWaQzg2j3zoPUzwfgEGOEhymjz1vfvg87yBJzfmo6KB+kOzulN+Qr4H8wi7cuU4Amc8iMwCY/rGyPw8V5WF67fS/5CIlc60ADbPwTav+QKnHnbPeIU4vMJnPHByqaILJ3hx2CSo+19v7nbD0wXwlSLJ45Xgec9D3jjcBpgqahvME6GAQJu/bdXv2LjWXOu8zkhIClBUpi79SLlJmNbwGNsLEiT+wdbSexbRwcNk69gsBaRKaoHoOGuMAihlsVqRsTFKkjE1gYrL7LxZqrsNiY52yLULz9ncNUmTV51qkjAmdFDi+ZKWf9QB0fY7Rf5fRoQpO5lmkjE2qOFSGH2oL0PDQj+/9G6dg6PTdq0hZ1GEqvbElrrzuMtCjiH6NYHunFnRakWZx3Z0fbRTZAxNGPJdmFpyI4hkbk5m0SHmQJc3170+LYx2qieund/I9pA7o8DpqFUXKxoRFyhAixMYOrDetWtxC5k9rvWcRglSEsFqC9RUpFwAD6vzmsPuolkgwi9N7G12Eopvj8IsoUo5yiM5O+fdWrKlscz15KspnAaU9UT/P0efitKxiKfqe+yYQS18WADDoU/9X33DdwuxXSHQGfrTRwp+pDXQYwaC7pbnKfUO3c92AS4wjykKQ6792PNW+odd6kyO0cBVFQU7XU0iulJ9D9H95jaLFz0G2T0AYmJtH/IyQO/uVJLyGwWVx7Ff9YPEAB2Sal1vFJPTcmREy/8vf+hxf9HO48EVmQGGcPi5mIbMfZ0XI9tT1OE2oiuYNAWiGIdnhafTZN3tex/ZiNySY2oJNUVHqAIOnW8VBgVnxMT3orDgEZ2x2NwRgGps4e+MqCV6wIMjjFGQ/4QjpCuagfOL3XkXK2DST8PePrgqAdDU+Igk2wwvYj6SNXuZk5iLlqZ5zyldPeRjl3lrq86Navvf2ZU7HjKLSMPd6WKokDUeSckVMRm5hFH8VPOtpM4SgPN9nR308/8CmjhjtD8jjVMRkpPhRTZc3DgDq8QdtlghNEaDz9qgTGLD7uIDMycJupxwC1J+88GdAyM4ra97xGYIwaibAKHq+df+socejMJ131PqLeBimeQAhsmawutnk9XvrXTvP7T5qpAQh1LeP7gmPIfR9b/+aepgBYlG7BgJEKOqf81rD+xQc8qNFPxffqaEAWRwxf+xzd2D6EBRbQq/yO+M0DiCEOYLoj4/sRPD9AH6MA3Q7TuMAUgnmKIJnpzxpMi0+jcWxUdRogIi64NC2/2xp9zmB4fYO7QjB23EaCJD6NwjB7t69iin9R114e8tRIwFCdi0LVbKzfW+qg/nFdKUKCm/vU1EGUMyHloqUJ3tJWbxPNUfPWy5bM9zJ/CefuxG9P+kE7qObRATUgcyJeFaXZXhlTmp6SdkQ/pq6AvleEcifcDtkPpL/6BWPQN7xAMd4E/p9Mry8SNkU70mqvmdbcD3FTiLYvz4pLK+JpiKrNPFPd/vUBEV3VHRYLn1LFSpqjr3TyaqBXtn/fNeZ4rwsFXPrXd+JLCtXzosYsmDOa0VM5i4B/pJyKS56txNAYjt6zIs1JwsEU0X+YOchSKnEyA0noBQ8cWROpi9SNrgejAw6Vb2kLLQwcYwjdL3jT3qsmwpw5xoGZpoSYt5cvmEaZYCGxMn0ZQUmKyvQp31JGYp5VUwSlMOn/2Hr6GT7fedTjhAmRggyPFgx6TSHMifiTenzfEnZlDuhf4/+7Glj1hif5amplKkJA4N+VScLT5+NABh0H/nuaJObB1Jpm9+6LA+3bABztLY/ZiHl92NQG3utn9vQXjaA1CR5Pk5FeRhb+xxAaqSjZQOIgsj+a+Q24XKnyvsrsunHiJZuDlKrEl2/Hb2Ksmzn23OYsyDM0kmQ2pVR/1Nr3N1vrUs6WyHs58GyAUTUrYD2AU/3+dWLDZuiV8MDdUu3ilINZUG2nREnhFhJ2XWwtAAD5vyiTydft9h8betTlKMlBQhRBAMb2Yc992v36nn+YwsOgxRLB5DKD+Z0fezu+NWpX+rvH3VhjuxK3moCWLjNowGO8yZYJ3ybCFCfItRXv7hVNwu4rvvljJ/J/Apv5Vyz/JLyRN5EOUdKbXLBQi+nfOUWsKoTZP9hR7ZtI/SmlBX1ipsNPvdfsSTswBEYz0k55Su3KHei5CVls9QJuGmSkJhseMUVuTeKWvy8ExbO38B/LXViyOMs7CVlY0QnGBNwvq+Jt71yZ//03GB+343GlTppXly0qpOYhCB939b4Xj8EySqc2+8JxzfsalkBEhISQNa5MeMOpyJbV9d5ORKvaFlqgGFqgCzdPRI2CjoHjzbTlCMY6uiyAgSJic0UXJ6ydMXwDI3nvv2Upia/3XNIywrQCNltVyA/7BVLS3FzSu/QIgbhoetlV9Ehb90dr9gc+FmYna5tii+YLj3A4PwLO8pbHNf68l8UETP5lgBa0eAqZBYm9P7MI8swxRuklx0gjKw9Ds533d/iKLKoBfBNAUQB2j4q7pg9Xu3r0MKx5D4sN0BqdNvw6RabgV/eoQD2bTm1NxeARQJATJpWFykLLUCpEznzalDHFiLnh5bv+VevWBTUEvsodVJkeMUmMkBoyS3GprAZQMeUp4/YANqgJEG5E1DuxIZB/uSj7x5d93PeSUmCcieG1MSUnDQGsJThlfFUS3CEu1RIUHpquFKCYieQnZHMzzpbaywKyjqRWpTVgH7GaTO8ZZ+rIoU9XkWBnKSapBPUjyIEP/3K5t/g4wskaRdFCGQtrlDR0Z1Q+h+oZTsQXn/7XwAAAABJRU5ErkJggg=="},904:function(e,t,a){e.exports=a.p+"static/media/download.54b8b93d.svg"},905:function(e,t,a){e.exports=a.p+"static/media/ellipsis-loader.7b335011.svg"},906:function(e,t,a){e.exports=a.p+"static/media/Under maintenance.ec8d20fe.png"},945:function(e,t,a){},984:function(e,t,a){}},[[672,1,2]]]);
//# sourceMappingURL=main.4bb38be8.chunk.js.map